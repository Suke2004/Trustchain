var mE=t=>{throw TypeError(t)};var Fg=(t,e,n)=>e.has(t)||mE("Cannot "+n);var W=(t,e,n)=>(Fg(t,e,"read from private field"),n?n.call(t):e.get(t)),Je=(t,e,n)=>e.has(t)?mE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Fe=(t,e,n,r)=>(Fg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),an=(t,e,n)=>(Fg(t,e,"access private method"),n);var gh=(t,e,n,r)=>({set _(s){Fe(t,e,s,n)},get _(){return W(t,e,r)}});function EV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function II(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kI={exports:{}},lm={},PI={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd=Symbol.for("react.element"),TV=Symbol.for("react.portal"),SV=Symbol.for("react.fragment"),CV=Symbol.for("react.strict_mode"),IV=Symbol.for("react.profiler"),kV=Symbol.for("react.provider"),PV=Symbol.for("react.context"),AV=Symbol.for("react.forward_ref"),RV=Symbol.for("react.suspense"),NV=Symbol.for("react.memo"),jV=Symbol.for("react.lazy"),gE=Symbol.iterator;function DV(t){return t===null||typeof t!="object"?null:(t=gE&&t[gE]||t["@@iterator"],typeof t=="function"?t:null)}var AI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RI=Object.assign,NI={};function ac(t,e,n){this.props=t,this.context=e,this.refs=NI,this.updater=n||AI}ac.prototype.isReactComponent={};ac.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ac.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jI(){}jI.prototype=ac.prototype;function Tw(t,e,n){this.props=t,this.context=e,this.refs=NI,this.updater=n||AI}var Sw=Tw.prototype=new jI;Sw.constructor=Tw;RI(Sw,ac.prototype);Sw.isPureReactComponent=!0;var yE=Array.isArray,DI=Object.prototype.hasOwnProperty,Cw={current:null},OI={key:!0,ref:!0,__self:!0,__source:!0};function MI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)DI.call(e,r)&&!OI.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Sd,type:t,key:i,ref:o,props:s,_owner:Cw.current}}function OV(t,e){return{$$typeof:Sd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Iw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sd}function MV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vE=/\/+/g;function Ug(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MV(""+t.key):e.toString(36)}function nf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sd:case TV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ug(o,0):r,yE(s)?(n="",t!=null&&(n=t.replace(vE,"$&/")+"/"),nf(s,e,n,"",function(c){return c})):s!=null&&(Iw(s)&&(s=OV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",yE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ug(i,a);o+=nf(i,e,n,l,s)}else if(l=DV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ug(i,a++),o+=nf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yh(t,e,n){if(t==null)return t;var r=[],s=0;return nf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function VV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},rf={transition:null},LV={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:rf,ReactCurrentOwner:Cw};function VI(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:yh,forEach:function(t,e,n){yh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yh(t,function(){e++}),e},toArray:function(t){return yh(t,function(e){return e})||[]},only:function(t){if(!Iw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};We.Component=ac;We.Fragment=SV;We.Profiler=IV;We.PureComponent=Tw;We.StrictMode=CV;We.Suspense=RV;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LV;We.act=VI;We.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RI({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Cw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)DI.call(e,l)&&!OI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Sd,type:t.type,key:s,ref:i,props:r,_owner:o}};We.createContext=function(t){return t={$$typeof:PV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kV,_context:t},t.Consumer=t};We.createElement=MI;We.createFactory=function(t){var e=MI.bind(null,t);return e.type=t,e};We.createRef=function(){return{current:null}};We.forwardRef=function(t){return{$$typeof:AV,render:t}};We.isValidElement=Iw;We.lazy=function(t){return{$$typeof:jV,_payload:{_status:-1,_result:t},_init:VV}};We.memo=function(t,e){return{$$typeof:NV,type:t,compare:e===void 0?null:e}};We.startTransition=function(t){var e=rf.transition;rf.transition={};try{t()}finally{rf.transition=e}};We.unstable_act=VI;We.useCallback=function(t,e){return An.current.useCallback(t,e)};We.useContext=function(t){return An.current.useContext(t)};We.useDebugValue=function(){};We.useDeferredValue=function(t){return An.current.useDeferredValue(t)};We.useEffect=function(t,e){return An.current.useEffect(t,e)};We.useId=function(){return An.current.useId()};We.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};We.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};We.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};We.useMemo=function(t,e){return An.current.useMemo(t,e)};We.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};We.useRef=function(t){return An.current.useRef(t)};We.useState=function(t){return An.current.useState(t)};We.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};We.useTransition=function(){return An.current.useTransition()};We.version="18.3.1";PI.exports=We;var x=PI.exports;const z=II(x),LI=EV({__proto__:null,default:z},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FV=x,UV=Symbol.for("react.element"),BV=Symbol.for("react.fragment"),$V=Object.prototype.hasOwnProperty,zV=FV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WV={key:!0,ref:!0,__self:!0,__source:!0};function FI(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$V.call(e,r)&&!WV.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:UV,type:t,key:i,ref:o,props:s,_owner:zV.current}}lm.Fragment=BV;lm.jsx=FI;lm.jsxs=FI;kI.exports=lm;var u=kI.exports,UI={exports:{}},sr={},BI={exports:{}},$I={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,H){var oe=F.length;F.push(H);e:for(;0<oe;){var K=oe-1>>>1,ae=F[K];if(0<s(ae,H))F[K]=H,F[oe]=ae,oe=K;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],oe=F.pop();if(oe!==H){F[0]=oe;e:for(var K=0,ae=F.length,pe=ae>>>1;K<pe;){var $e=2*(K+1)-1,tt=F[$e],be=$e+1,de=F[be];if(0>s(tt,oe))be<ae&&0>s(de,tt)?(F[K]=de,F[be]=oe,K=be):(F[K]=tt,F[$e]=oe,K=$e);else if(be<ae&&0>s(de,oe))F[K]=de,F[be]=oe,K=be;else break e}}return H}function s(F,H){var oe=F.sortIndex-H.sortIndex;return oe!==0?oe:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,m=!1,w=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=F)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function k(F){if(g=!1,E(F),!w)if(n(l)!==null)w=!0,G(R);else{var H=n(c);H!==null&&se(k,H.startTime-F)}}function R(F,H){w=!1,g&&(g=!1,b(S),S=-1),m=!0;var oe=p;try{for(E(H),f=n(l);f!==null&&(!(f.expirationTime>H)||F&&!D());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var ae=K(f.expirationTime<=H);H=t.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(l)&&r(l),E(H)}else r(l);f=n(l)}if(f!==null)var pe=!0;else{var $e=n(c);$e!==null&&se(k,$e.startTime-H),pe=!1}return pe}finally{f=null,p=oe,m=!1}}var O=!1,C=null,S=-1,I=5,N=-1;function D(){return!(t.unstable_now()-N<I)}function j(){if(C!==null){var F=t.unstable_now();N=F;var H=!0;try{H=C(!0,F)}finally{H?A():(O=!1,C=null)}}else O=!1}var A;if(typeof v=="function")A=function(){v(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,re=$.port2;$.port1.onmessage=j,A=function(){re.postMessage(null)}}else A=function(){_(j,0)};function G(F){C=F,O||(O=!0,A())}function se(F,H){S=_(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,G(R))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var oe=p;p=H;try{return F()}finally{p=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var oe=p;p=F;try{return H()}finally{p=oe}},t.unstable_scheduleCallback=function(F,H,oe){var K=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?K+oe:K):oe=K,F){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=oe+ae,F={id:h++,callback:H,priorityLevel:F,startTime:oe,expirationTime:ae,sortIndex:-1},oe>K?(F.sortIndex=oe,e(c,F),n(l)===null&&F===n(c)&&(g?(b(S),S=-1):g=!0,se(k,oe-K))):(F.sortIndex=ae,e(l,F),w||m||(w=!0,G(R))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var H=p;return function(){var oe=p;p=H;try{return F.apply(this,arguments)}finally{p=oe}}}})($I);BI.exports=$I;var HV=BI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qV=x,nr=HV;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zI=new Set,Vu={};function _a(t,e){Ml(t,e),Ml(t+"Capture",e)}function Ml(t,e){for(Vu[t]=e,t=0;t<e.length;t++)zI.add(e[t])}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iv=Object.prototype.hasOwnProperty,GV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wE={},xE={};function KV(t){return iv.call(xE,t)?!0:iv.call(wE,t)?!1:GV.test(t)?xE[t]=!0:(wE[t]=!0,!1)}function QV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YV(t,e,n,r){if(e===null||typeof e>"u"||QV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var kw=/[\-:]([a-z])/g;function Pw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kw,Pw);en[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kw,Pw);en[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kw,Pw);en[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Aw(t,e,n,r){var s=en.hasOwnProperty(e)?en[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YV(e,n,s,r)&&(n=null),r||s===null?KV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ni=qV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vh=Symbol.for("react.element"),Ka=Symbol.for("react.portal"),Qa=Symbol.for("react.fragment"),Rw=Symbol.for("react.strict_mode"),ov=Symbol.for("react.profiler"),WI=Symbol.for("react.provider"),HI=Symbol.for("react.context"),Nw=Symbol.for("react.forward_ref"),av=Symbol.for("react.suspense"),lv=Symbol.for("react.suspense_list"),jw=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),qI=Symbol.for("react.offscreen"),_E=Symbol.iterator;function Oc(t){return t===null||typeof t!="object"?null:(t=_E&&t[_E]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,Bg;function Zc(t){if(Bg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bg=e&&e[1]||""}return`
`+Bg+t}var $g=!1;function zg(t,e){if(!t||$g)return"";$g=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$g=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zc(t):""}function XV(t){switch(t.tag){case 5:return Zc(t.type);case 16:return Zc("Lazy");case 13:return Zc("Suspense");case 19:return Zc("SuspenseList");case 0:case 2:case 15:return t=zg(t.type,!1),t;case 11:return t=zg(t.type.render,!1),t;case 1:return t=zg(t.type,!0),t;default:return""}}function cv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qa:return"Fragment";case Ka:return"Portal";case ov:return"Profiler";case Rw:return"StrictMode";case av:return"Suspense";case lv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HI:return(t.displayName||"Context")+".Consumer";case WI:return(t._context.displayName||"Context")+".Provider";case Nw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jw:return e=t.displayName||null,e!==null?e:cv(t.type)||"Memo";case gi:e=t._payload,t=t._init;try{return cv(t(e))}catch{}}return null}function ZV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cv(e);case 8:return e===Rw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JV(t){var e=GI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wh(t){t._valueTracker||(t._valueTracker=JV(t))}function KI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uv(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QI(t,e){e=e.checked,e!=null&&Aw(t,"checked",e,!1)}function dv(t,e){QI(t,e);var n=Yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hv(t,e.type,n):e.hasOwnProperty("defaultValue")&&hv(t,e.type,Yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function EE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hv(t,e,n){(e!=="number"||Nf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jc=Array.isArray;function hl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function fv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function TE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Jc(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yi(n)}}function YI(t,e){var n=Yi(e.value),r=Yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function SE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xh,ZI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xh=xh||document.createElement("div"),xh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eL=["Webkit","ms","Moz","O"];Object.keys(hu).forEach(function(t){eL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hu[e]=hu[t]})});function JI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hu.hasOwnProperty(t)&&hu[t]?(""+e).trim():e+"px"}function ek(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=JI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var tL=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mv(t,e){if(e){if(tL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function gv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yv=null;function Dw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vv=null,fl=null,pl=null;function CE(t){if(t=kd(t)){if(typeof vv!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=fm(e),vv(t.stateNode,t.type,e))}}function tk(t){fl?pl?pl.push(t):pl=[t]:fl=t}function nk(){if(fl){var t=fl,e=pl;if(pl=fl=null,CE(t),e)for(t=0;t<e.length;t++)CE(e[t])}}function rk(t,e){return t(e)}function sk(){}var Wg=!1;function ik(t,e,n){if(Wg)return t(e,n);Wg=!0;try{return rk(t,e,n)}finally{Wg=!1,(fl!==null||pl!==null)&&(sk(),nk())}}function Fu(t,e){var n=t.stateNode;if(n===null)return null;var r=fm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var wv=!1;if($s)try{var Mc={};Object.defineProperty(Mc,"passive",{get:function(){wv=!0}}),window.addEventListener("test",Mc,Mc),window.removeEventListener("test",Mc,Mc)}catch{wv=!1}function nL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var fu=!1,jf=null,Df=!1,xv=null,rL={onError:function(t){fu=!0,jf=t}};function sL(t,e,n,r,s,i,o,a,l){fu=!1,jf=null,nL.apply(rL,arguments)}function iL(t,e,n,r,s,i,o,a,l){if(sL.apply(this,arguments),fu){if(fu){var c=jf;fu=!1,jf=null}else throw Error(Z(198));Df||(Df=!0,xv=c)}}function ba(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ok(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function IE(t){if(ba(t)!==t)throw Error(Z(188))}function oL(t){var e=t.alternate;if(!e){if(e=ba(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return IE(s),t;if(i===r)return IE(s),e;i=i.sibling}throw Error(Z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function ak(t){return t=oL(t),t!==null?lk(t):null}function lk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lk(t);if(e!==null)return e;t=t.sibling}return null}var ck=nr.unstable_scheduleCallback,kE=nr.unstable_cancelCallback,aL=nr.unstable_shouldYield,lL=nr.unstable_requestPaint,At=nr.unstable_now,cL=nr.unstable_getCurrentPriorityLevel,Ow=nr.unstable_ImmediatePriority,uk=nr.unstable_UserBlockingPriority,Of=nr.unstable_NormalPriority,uL=nr.unstable_LowPriority,dk=nr.unstable_IdlePriority,cm=null,rs=null;function dL(t){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(cm,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:pL,hL=Math.log,fL=Math.LN2;function pL(t){return t>>>=0,t===0?32:31-(hL(t)/fL|0)|0}var _h=64,bh=4194304;function eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=eu(a):(i&=o,i!==0&&(r=eu(i)))}else o=n&~s,o!==0?r=eu(o):i!==0&&(r=eu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nr(e),s=1<<n,r|=t[n],e&=~s;return r}function mL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Nr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=mL(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function _v(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hk(){var t=_h;return _h<<=1,!(_h&4194240)&&(_h=64),t}function Hg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=n}function yL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Nr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Mw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var st=0;function fk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pk,Vw,mk,gk,yk,bv=!1,Eh=[],Mi=null,Vi=null,Li=null,Uu=new Map,Bu=new Map,wi=[],vL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PE(t,e){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Uu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(e.pointerId)}}function Vc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=kd(e),e!==null&&Vw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function wL(t,e,n,r,s){switch(e){case"focusin":return Mi=Vc(Mi,t,e,n,r,s),!0;case"dragenter":return Vi=Vc(Vi,t,e,n,r,s),!0;case"mouseover":return Li=Vc(Li,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Uu.set(i,Vc(Uu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Bu.set(i,Vc(Bu.get(i)||null,t,e,n,r,s)),!0}return!1}function vk(t){var e=Oo(t.target);if(e!==null){var n=ba(e);if(n!==null){if(e=n.tag,e===13){if(e=ok(n),e!==null){t.blockedOn=e,yk(t.priority,function(){mk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ev(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yv=r,n.target.dispatchEvent(r),yv=null}else return e=kd(n),e!==null&&Vw(e),t.blockedOn=n,!1;e.shift()}return!0}function AE(t,e,n){sf(t)&&n.delete(e)}function xL(){bv=!1,Mi!==null&&sf(Mi)&&(Mi=null),Vi!==null&&sf(Vi)&&(Vi=null),Li!==null&&sf(Li)&&(Li=null),Uu.forEach(AE),Bu.forEach(AE)}function Lc(t,e){t.blockedOn===e&&(t.blockedOn=null,bv||(bv=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,xL)))}function $u(t){function e(s){return Lc(s,t)}if(0<Eh.length){Lc(Eh[0],t);for(var n=1;n<Eh.length;n++){var r=Eh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mi!==null&&Lc(Mi,t),Vi!==null&&Lc(Vi,t),Li!==null&&Lc(Li,t),Uu.forEach(e),Bu.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)vk(n),n.blockedOn===null&&wi.shift()}var ml=ni.ReactCurrentBatchConfig,Vf=!0;function _L(t,e,n,r){var s=st,i=ml.transition;ml.transition=null;try{st=1,Lw(t,e,n,r)}finally{st=s,ml.transition=i}}function bL(t,e,n,r){var s=st,i=ml.transition;ml.transition=null;try{st=4,Lw(t,e,n,r)}finally{st=s,ml.transition=i}}function Lw(t,e,n,r){if(Vf){var s=Ev(t,e,n,r);if(s===null)ty(t,e,r,Lf,n),PE(t,r);else if(wL(s,t,e,n,r))r.stopPropagation();else if(PE(t,r),e&4&&-1<vL.indexOf(t)){for(;s!==null;){var i=kd(s);if(i!==null&&pk(i),i=Ev(t,e,n,r),i===null&&ty(t,e,r,Lf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ty(t,e,r,null,n)}}var Lf=null;function Ev(t,e,n,r){if(Lf=null,t=Dw(r),t=Oo(t),t!==null)if(e=ba(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ok(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lf=t,null}function wk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cL()){case Ow:return 1;case uk:return 4;case Of:case uL:return 16;case dk:return 536870912;default:return 16}default:return 16}}var Ni=null,Fw=null,of=null;function xk(){if(of)return of;var t,e=Fw,n=e.length,r,s="value"in Ni?Ni.value:Ni.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return of=s.slice(t,1<r?1-r:void 0)}function af(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Th(){return!0}function RE(){return!1}function ir(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Th:RE,this.isPropagationStopped=RE,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),e}var lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uw=ir(lc),Id=bt({},lc,{view:0,detail:0}),EL=ir(Id),qg,Gg,Fc,um=bt({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fc&&(Fc&&t.type==="mousemove"?(qg=t.screenX-Fc.screenX,Gg=t.screenY-Fc.screenY):Gg=qg=0,Fc=t),qg)},movementY:function(t){return"movementY"in t?t.movementY:Gg}}),NE=ir(um),TL=bt({},um,{dataTransfer:0}),SL=ir(TL),CL=bt({},Id,{relatedTarget:0}),Kg=ir(CL),IL=bt({},lc,{animationName:0,elapsedTime:0,pseudoElement:0}),kL=ir(IL),PL=bt({},lc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AL=ir(PL),RL=bt({},lc,{data:0}),jE=ir(RL),NL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DL[t])?!!e[t]:!1}function Bw(){return OL}var ML=bt({},Id,{key:function(t){if(t.key){var e=NL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=af(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bw,charCode:function(t){return t.type==="keypress"?af(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?af(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VL=ir(ML),LL=bt({},um,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DE=ir(LL),FL=bt({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bw}),UL=ir(FL),BL=bt({},lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),$L=ir(BL),zL=bt({},um,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WL=ir(zL),HL=[9,13,27,32],$w=$s&&"CompositionEvent"in window,pu=null;$s&&"documentMode"in document&&(pu=document.documentMode);var qL=$s&&"TextEvent"in window&&!pu,_k=$s&&(!$w||pu&&8<pu&&11>=pu),OE=" ",ME=!1;function bk(t,e){switch(t){case"keyup":return HL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ek(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ya=!1;function GL(t,e){switch(t){case"compositionend":return Ek(e);case"keypress":return e.which!==32?null:(ME=!0,OE);case"textInput":return t=e.data,t===OE&&ME?null:t;default:return null}}function KL(t,e){if(Ya)return t==="compositionend"||!$w&&bk(t,e)?(t=xk(),of=Fw=Ni=null,Ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _k&&e.locale!=="ko"?null:e.data;default:return null}}var QL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QL[t.type]:e==="textarea"}function Tk(t,e,n,r){tk(r),e=Ff(e,"onChange"),0<e.length&&(n=new Uw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mu=null,zu=null;function YL(t){Ok(t,0)}function dm(t){var e=Ja(t);if(KI(e))return t}function XL(t,e){if(t==="change")return e}var Sk=!1;if($s){var Qg;if($s){var Yg="oninput"in document;if(!Yg){var LE=document.createElement("div");LE.setAttribute("oninput","return;"),Yg=typeof LE.oninput=="function"}Qg=Yg}else Qg=!1;Sk=Qg&&(!document.documentMode||9<document.documentMode)}function FE(){mu&&(mu.detachEvent("onpropertychange",Ck),zu=mu=null)}function Ck(t){if(t.propertyName==="value"&&dm(zu)){var e=[];Tk(e,zu,t,Dw(t)),ik(YL,e)}}function ZL(t,e,n){t==="focusin"?(FE(),mu=e,zu=n,mu.attachEvent("onpropertychange",Ck)):t==="focusout"&&FE()}function JL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dm(zu)}function eF(t,e){if(t==="click")return dm(e)}function tF(t,e){if(t==="input"||t==="change")return dm(e)}function nF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:nF;function Wu(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!iv.call(e,s)||!Dr(t[s],e[s]))return!1}return!0}function UE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function BE(t,e){var n=UE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=UE(n)}}function Ik(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ik(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kk(){for(var t=window,e=Nf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nf(t.document)}return e}function zw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rF(t){var e=kk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ik(n.ownerDocument.documentElement,n)){if(r!==null&&zw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=BE(n,i);var o=BE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sF=$s&&"documentMode"in document&&11>=document.documentMode,Xa=null,Tv=null,gu=null,Sv=!1;function $E(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sv||Xa==null||Xa!==Nf(r)||(r=Xa,"selectionStart"in r&&zw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gu&&Wu(gu,r)||(gu=r,r=Ff(Tv,"onSelect"),0<r.length&&(e=new Uw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xa)))}function Sh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Za={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},Xg={},Pk={};$s&&(Pk=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function hm(t){if(Xg[t])return Xg[t];if(!Za[t])return t;var e=Za[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Pk)return Xg[t]=e[n];return t}var Ak=hm("animationend"),Rk=hm("animationiteration"),Nk=hm("animationstart"),jk=hm("transitionend"),Dk=new Map,zE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(t,e){Dk.set(t,e),_a(e,[t])}for(var Zg=0;Zg<zE.length;Zg++){var Jg=zE[Zg],iF=Jg.toLowerCase(),oF=Jg[0].toUpperCase()+Jg.slice(1);uo(iF,"on"+oF)}uo(Ak,"onAnimationEnd");uo(Rk,"onAnimationIteration");uo(Nk,"onAnimationStart");uo("dblclick","onDoubleClick");uo("focusin","onFocus");uo("focusout","onBlur");uo(jk,"onTransitionEnd");Ml("onMouseEnter",["mouseout","mouseover"]);Ml("onMouseLeave",["mouseout","mouseover"]);Ml("onPointerEnter",["pointerout","pointerover"]);Ml("onPointerLeave",["pointerout","pointerover"]);_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_a("onBeforeInput",["compositionend","keypress","textInput","paste"]);_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aF=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function WE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,iL(r,e,void 0,t),t.currentTarget=null}function Ok(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;WE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;WE(s,a,c),i=l}}}if(Df)throw t=xv,Df=!1,xv=null,t}function ft(t,e){var n=e[Av];n===void 0&&(n=e[Av]=new Set);var r=t+"__bubble";n.has(r)||(Mk(e,t,2,!1),n.add(r))}function ey(t,e,n){var r=0;e&&(r|=4),Mk(n,t,r,e)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function Hu(t){if(!t[Ch]){t[Ch]=!0,zI.forEach(function(n){n!=="selectionchange"&&(aF.has(n)||ey(n,!1,t),ey(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ch]||(e[Ch]=!0,ey("selectionchange",!1,e))}}function Mk(t,e,n,r){switch(wk(e)){case 1:var s=_L;break;case 4:s=bL;break;default:s=Lw}n=s.bind(null,e,n,t),s=void 0,!wv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ty(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Oo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ik(function(){var c=i,h=Dw(n),f=[];e:{var p=Dk.get(t);if(p!==void 0){var m=Uw,w=t;switch(t){case"keypress":if(af(n)===0)break e;case"keydown":case"keyup":m=VL;break;case"focusin":w="focus",m=Kg;break;case"focusout":w="blur",m=Kg;break;case"beforeblur":case"afterblur":m=Kg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=NE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=SL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=UL;break;case Ak:case Rk:case Nk:m=kL;break;case jk:m=$L;break;case"scroll":m=EL;break;case"wheel":m=WL;break;case"copy":case"cut":case"paste":m=AL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=DE}var g=(e&4)!==0,_=!g&&t==="scroll",b=g?p!==null?p+"Capture":null:p;g=[];for(var v=c,E;v!==null;){E=v;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,b!==null&&(k=Fu(v,b),k!=null&&g.push(qu(v,k,E)))),_)break;v=v.return}0<g.length&&(p=new m(p,w,null,n,h),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==yv&&(w=n.relatedTarget||n.fromElement)&&(Oo(w)||w[zs]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?Oo(w):null,w!==null&&(_=ba(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(g=NE,k="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=DE,k="onPointerLeave",b="onPointerEnter",v="pointer"),_=m==null?p:Ja(m),E=w==null?p:Ja(w),p=new g(k,v+"leave",m,n,h),p.target=_,p.relatedTarget=E,k=null,Oo(h)===c&&(g=new g(b,v+"enter",w,n,h),g.target=E,g.relatedTarget=_,k=g),_=k,m&&w)t:{for(g=m,b=w,v=0,E=g;E;E=La(E))v++;for(E=0,k=b;k;k=La(k))E++;for(;0<v-E;)g=La(g),v--;for(;0<E-v;)b=La(b),E--;for(;v--;){if(g===b||b!==null&&g===b.alternate)break t;g=La(g),b=La(b)}g=null}else g=null;m!==null&&HE(f,p,m,g,!1),w!==null&&_!==null&&HE(f,_,w,g,!0)}}e:{if(p=c?Ja(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=XL;else if(VE(p))if(Sk)R=tF;else{R=JL;var O=ZL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=eF);if(R&&(R=R(t,c))){Tk(f,R,n,h);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&hv(p,"number",p.value)}switch(O=c?Ja(c):window,t){case"focusin":(VE(O)||O.contentEditable==="true")&&(Xa=O,Tv=c,gu=null);break;case"focusout":gu=Tv=Xa=null;break;case"mousedown":Sv=!0;break;case"contextmenu":case"mouseup":case"dragend":Sv=!1,$E(f,n,h);break;case"selectionchange":if(sF)break;case"keydown":case"keyup":$E(f,n,h)}var C;if($w)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ya?bk(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(_k&&n.locale!=="ko"&&(Ya||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ya&&(C=xk()):(Ni=h,Fw="value"in Ni?Ni.value:Ni.textContent,Ya=!0)),O=Ff(c,S),0<O.length&&(S=new jE(S,t,null,n,h),f.push({event:S,listeners:O}),C?S.data=C:(C=Ek(n),C!==null&&(S.data=C)))),(C=qL?GL(t,n):KL(t,n))&&(c=Ff(c,"onBeforeInput"),0<c.length&&(h=new jE("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=C))}Ok(f,e)})}function qu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ff(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fu(t,n),i!=null&&r.unshift(qu(t,i,s)),i=Fu(t,e),i!=null&&r.push(qu(t,i,s))),t=t.return}return r}function La(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function HE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Fu(n,i),l!=null&&o.unshift(qu(n,l,a))):s||(l=Fu(n,i),l!=null&&o.push(qu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lF=/\r\n?/g,cF=/\u0000|\uFFFD/g;function qE(t){return(typeof t=="string"?t:""+t).replace(lF,`
`).replace(cF,"")}function Ih(t,e,n){if(e=qE(e),qE(t)!==e&&n)throw Error(Z(425))}function Uf(){}var Cv=null,Iv=null;function kv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pv=typeof setTimeout=="function"?setTimeout:void 0,uF=typeof clearTimeout=="function"?clearTimeout:void 0,GE=typeof Promise=="function"?Promise:void 0,dF=typeof queueMicrotask=="function"?queueMicrotask:typeof GE<"u"?function(t){return GE.resolve(null).then(t).catch(hF)}:Pv;function hF(t){setTimeout(function(){throw t})}function ny(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),$u(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$u(e)}function Fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function KE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cc=Math.random().toString(36).slice(2),Jr="__reactFiber$"+cc,Gu="__reactProps$"+cc,zs="__reactContainer$"+cc,Av="__reactEvents$"+cc,fF="__reactListeners$"+cc,pF="__reactHandles$"+cc;function Oo(t){var e=t[Jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zs]||n[Jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=KE(t);t!==null;){if(n=t[Jr])return n;t=KE(t)}return e}t=n,n=t.parentNode}return null}function kd(t){return t=t[Jr]||t[zs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ja(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function fm(t){return t[Gu]||null}var Rv=[],el=-1;function ho(t){return{current:t}}function mt(t){0>el||(t.current=Rv[el],Rv[el]=null,el--)}function lt(t,e){el++,Rv[el]=t.current,t.current=e}var Xi={},gn=ho(Xi),Vn=ho(!1),na=Xi;function Vl(t,e){var n=t.type.contextTypes;if(!n)return Xi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ln(t){return t=t.childContextTypes,t!=null}function Bf(){mt(Vn),mt(gn)}function QE(t,e,n){if(gn.current!==Xi)throw Error(Z(168));lt(gn,e),lt(Vn,n)}function Vk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Z(108,ZV(t)||"Unknown",s));return bt({},n,r)}function $f(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xi,na=gn.current,lt(gn,t),lt(Vn,Vn.current),!0}function YE(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=Vk(t,e,na),r.__reactInternalMemoizedMergedChildContext=t,mt(Vn),mt(gn),lt(gn,t)):mt(Vn),lt(Vn,n)}var Cs=null,pm=!1,ry=!1;function Lk(t){Cs===null?Cs=[t]:Cs.push(t)}function mF(t){pm=!0,Lk(t)}function fo(){if(!ry&&Cs!==null){ry=!0;var t=0,e=st;try{var n=Cs;for(st=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cs=null,pm=!1}catch(s){throw Cs!==null&&(Cs=Cs.slice(t+1)),ck(Ow,fo),s}finally{st=e,ry=!1}}return null}var tl=[],nl=0,zf=null,Wf=0,dr=[],hr=0,ra=null,Is=1,ks="";function ko(t,e){tl[nl++]=Wf,tl[nl++]=zf,zf=t,Wf=e}function Fk(t,e,n){dr[hr++]=Is,dr[hr++]=ks,dr[hr++]=ra,ra=t;var r=Is;t=ks;var s=32-Nr(r)-1;r&=~(1<<s),n+=1;var i=32-Nr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Is=1<<32-Nr(e)+s|n<<s|r,ks=i+t}else Is=1<<i|n<<s|r,ks=t}function Ww(t){t.return!==null&&(ko(t,1),Fk(t,1,0))}function Hw(t){for(;t===zf;)zf=tl[--nl],tl[nl]=null,Wf=tl[--nl],tl[nl]=null;for(;t===ra;)ra=dr[--hr],dr[hr]=null,ks=dr[--hr],dr[hr]=null,Is=dr[--hr],dr[hr]=null}var Jn=null,Xn=null,yt=!1,Pr=null;function Uk(t,e){var n=pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function XE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jn=t,Xn=Fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jn=t,Xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ra!==null?{id:Is,overflow:ks}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jn=t,Xn=null,!0):!1;default:return!1}}function Nv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jv(t){if(yt){var e=Xn;if(e){var n=e;if(!XE(t,e)){if(Nv(t))throw Error(Z(418));e=Fi(n.nextSibling);var r=Jn;e&&XE(t,e)?Uk(r,n):(t.flags=t.flags&-4097|2,yt=!1,Jn=t)}}else{if(Nv(t))throw Error(Z(418));t.flags=t.flags&-4097|2,yt=!1,Jn=t}}}function ZE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jn=t}function kh(t){if(t!==Jn)return!1;if(!yt)return ZE(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kv(t.type,t.memoizedProps)),e&&(e=Xn)){if(Nv(t))throw Bk(),Error(Z(418));for(;e;)Uk(t,e),e=Fi(e.nextSibling)}if(ZE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xn=Fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xn=null}}else Xn=Jn?Fi(t.stateNode.nextSibling):null;return!0}function Bk(){for(var t=Xn;t;)t=Fi(t.nextSibling)}function Ll(){Xn=Jn=null,yt=!1}function qw(t){Pr===null?Pr=[t]:Pr.push(t)}var gF=ni.ReactCurrentBatchConfig;function Uc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function Ph(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function JE(t){var e=t._init;return e(t._payload)}function $k(t){function e(b,v){if(t){var E=b.deletions;E===null?(b.deletions=[v],b.flags|=16):E.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function s(b,v){return b=zi(b,v),b.index=0,b.sibling=null,b}function i(b,v,E){return b.index=E,t?(E=b.alternate,E!==null?(E=E.index,E<v?(b.flags|=2,v):E):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,v,E,k){return v===null||v.tag!==6?(v=uy(E,b.mode,k),v.return=b,v):(v=s(v,E),v.return=b,v)}function l(b,v,E,k){var R=E.type;return R===Qa?h(b,v,E.props.children,k,E.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===gi&&JE(R)===v.type)?(k=s(v,E.props),k.ref=Uc(b,v,E),k.return=b,k):(k=pf(E.type,E.key,E.props,null,b.mode,k),k.ref=Uc(b,v,E),k.return=b,k)}function c(b,v,E,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=dy(E,b.mode,k),v.return=b,v):(v=s(v,E.children||[]),v.return=b,v)}function h(b,v,E,k,R){return v===null||v.tag!==7?(v=Xo(E,b.mode,k,R),v.return=b,v):(v=s(v,E),v.return=b,v)}function f(b,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=uy(""+v,b.mode,E),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vh:return E=pf(v.type,v.key,v.props,null,b.mode,E),E.ref=Uc(b,null,v),E.return=b,E;case Ka:return v=dy(v,b.mode,E),v.return=b,v;case gi:var k=v._init;return f(b,k(v._payload),E)}if(Jc(v)||Oc(v))return v=Xo(v,b.mode,E,null),v.return=b,v;Ph(b,v)}return null}function p(b,v,E,k){var R=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:a(b,v,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vh:return E.key===R?l(b,v,E,k):null;case Ka:return E.key===R?c(b,v,E,k):null;case gi:return R=E._init,p(b,v,R(E._payload),k)}if(Jc(E)||Oc(E))return R!==null?null:h(b,v,E,k,null);Ph(b,E)}return null}function m(b,v,E,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return b=b.get(E)||null,a(v,b,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case vh:return b=b.get(k.key===null?E:k.key)||null,l(v,b,k,R);case Ka:return b=b.get(k.key===null?E:k.key)||null,c(v,b,k,R);case gi:var O=k._init;return m(b,v,E,O(k._payload),R)}if(Jc(k)||Oc(k))return b=b.get(E)||null,h(v,b,k,R,null);Ph(v,k)}return null}function w(b,v,E,k){for(var R=null,O=null,C=v,S=v=0,I=null;C!==null&&S<E.length;S++){C.index>S?(I=C,C=null):I=C.sibling;var N=p(b,C,E[S],k);if(N===null){C===null&&(C=I);break}t&&C&&N.alternate===null&&e(b,C),v=i(N,v,S),O===null?R=N:O.sibling=N,O=N,C=I}if(S===E.length)return n(b,C),yt&&ko(b,S),R;if(C===null){for(;S<E.length;S++)C=f(b,E[S],k),C!==null&&(v=i(C,v,S),O===null?R=C:O.sibling=C,O=C);return yt&&ko(b,S),R}for(C=r(b,C);S<E.length;S++)I=m(C,b,S,E[S],k),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?S:I.key),v=i(I,v,S),O===null?R=I:O.sibling=I,O=I);return t&&C.forEach(function(D){return e(b,D)}),yt&&ko(b,S),R}function g(b,v,E,k){var R=Oc(E);if(typeof R!="function")throw Error(Z(150));if(E=R.call(E),E==null)throw Error(Z(151));for(var O=R=null,C=v,S=v=0,I=null,N=E.next();C!==null&&!N.done;S++,N=E.next()){C.index>S?(I=C,C=null):I=C.sibling;var D=p(b,C,N.value,k);if(D===null){C===null&&(C=I);break}t&&C&&D.alternate===null&&e(b,C),v=i(D,v,S),O===null?R=D:O.sibling=D,O=D,C=I}if(N.done)return n(b,C),yt&&ko(b,S),R;if(C===null){for(;!N.done;S++,N=E.next())N=f(b,N.value,k),N!==null&&(v=i(N,v,S),O===null?R=N:O.sibling=N,O=N);return yt&&ko(b,S),R}for(C=r(b,C);!N.done;S++,N=E.next())N=m(C,b,S,N.value,k),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?S:N.key),v=i(N,v,S),O===null?R=N:O.sibling=N,O=N);return t&&C.forEach(function(j){return e(b,j)}),yt&&ko(b,S),R}function _(b,v,E,k){if(typeof E=="object"&&E!==null&&E.type===Qa&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case vh:e:{for(var R=E.key,O=v;O!==null;){if(O.key===R){if(R=E.type,R===Qa){if(O.tag===7){n(b,O.sibling),v=s(O,E.props.children),v.return=b,b=v;break e}}else if(O.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===gi&&JE(R)===O.type){n(b,O.sibling),v=s(O,E.props),v.ref=Uc(b,O,E),v.return=b,b=v;break e}n(b,O);break}else e(b,O);O=O.sibling}E.type===Qa?(v=Xo(E.props.children,b.mode,k,E.key),v.return=b,b=v):(k=pf(E.type,E.key,E.props,null,b.mode,k),k.ref=Uc(b,v,E),k.return=b,b=k)}return o(b);case Ka:e:{for(O=E.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(b,v.sibling),v=s(v,E.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else e(b,v);v=v.sibling}v=dy(E,b.mode,k),v.return=b,b=v}return o(b);case gi:return O=E._init,_(b,v,O(E._payload),k)}if(Jc(E))return w(b,v,E,k);if(Oc(E))return g(b,v,E,k);Ph(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(b,v.sibling),v=s(v,E),v.return=b,b=v):(n(b,v),v=uy(E,b.mode,k),v.return=b,b=v),o(b)):n(b,v)}return _}var Fl=$k(!0),zk=$k(!1),Hf=ho(null),qf=null,rl=null,Gw=null;function Kw(){Gw=rl=qf=null}function Qw(t){var e=Hf.current;mt(Hf),t._currentValue=e}function Dv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gl(t,e){qf=t,Gw=rl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mn=!0),t.firstContext=null)}function wr(t){var e=t._currentValue;if(Gw!==t)if(t={context:t,memoizedValue:e,next:null},rl===null){if(qf===null)throw Error(Z(308));rl=t,qf.dependencies={lanes:0,firstContext:t}}else rl=rl.next=t;return e}var Mo=null;function Yw(t){Mo===null?Mo=[t]:Mo.push(t)}function Wk(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Yw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ws(t,r)}function Ws(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yi=!1;function Xw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Os(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ws(t,n)}return s=r.interleaved,s===null?(e.next=e,Yw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ws(t,n)}function lf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mw(t,n)}}function eT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gf(t,e,n,r){var s=t.updateQueue;yi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,g=a;switch(p=e,m=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){f=w.call(m,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,p=typeof w=="function"?w.call(m,f,p):w,p==null)break e;f=bt({},f,p);break e;case 2:yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ia|=o,t.lanes=o,t.memoizedState=f}}function tT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Z(191,s));s.call(r)}}}var Pd={},ss=ho(Pd),Ku=ho(Pd),Qu=ho(Pd);function Vo(t){if(t===Pd)throw Error(Z(174));return t}function Zw(t,e){switch(lt(Qu,e),lt(Ku,t),lt(ss,Pd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pv(e,t)}mt(ss),lt(ss,e)}function Ul(){mt(ss),mt(Ku),mt(Qu)}function qk(t){Vo(Qu.current);var e=Vo(ss.current),n=pv(e,t.type);e!==n&&(lt(Ku,t),lt(ss,n))}function Jw(t){Ku.current===t&&(mt(ss),mt(Ku))}var vt=ho(0);function Kf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sy=[];function ex(){for(var t=0;t<sy.length;t++)sy[t]._workInProgressVersionPrimary=null;sy.length=0}var cf=ni.ReactCurrentDispatcher,iy=ni.ReactCurrentBatchConfig,sa=0,_t=null,Ut=null,Ht=null,Qf=!1,yu=!1,Yu=0,yF=0;function ln(){throw Error(Z(321))}function tx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dr(t[n],e[n]))return!1;return!0}function nx(t,e,n,r,s,i){if(sa=i,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cf.current=t===null||t.memoizedState===null?_F:bF,t=n(r,s),yu){i=0;do{if(yu=!1,Yu=0,25<=i)throw Error(Z(301));i+=1,Ht=Ut=null,e.updateQueue=null,cf.current=EF,t=n(r,s)}while(yu)}if(cf.current=Yf,e=Ut!==null&&Ut.next!==null,sa=0,Ht=Ut=_t=null,Qf=!1,e)throw Error(Z(300));return t}function rx(){var t=Yu!==0;return Yu=0,t}function Qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?_t.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function xr(){if(Ut===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Ut.next;var e=Ht===null?_t.memoizedState:Ht.next;if(e!==null)Ht=e,Ut=t;else{if(t===null)throw Error(Z(310));Ut=t,t={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Ht===null?_t.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Xu(t,e){return typeof e=="function"?e(t):e}function oy(t){var e=xr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=Ut,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((sa&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,_t.lanes|=h,ia|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Dr(r,e.memoizedState)||(Mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,_t.lanes|=i,ia|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ay(t){var e=xr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Dr(i,e.memoizedState)||(Mn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Gk(){}function Kk(t,e){var n=_t,r=xr(),s=e(),i=!Dr(r.memoizedState,s);if(i&&(r.memoizedState=s,Mn=!0),r=r.queue,sx(Xk.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,Zu(9,Yk.bind(null,n,r,s,e),void 0,null),qt===null)throw Error(Z(349));sa&30||Qk(n,e,s)}return s}function Qk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yk(t,e,n,r){e.value=n,e.getSnapshot=r,Zk(e)&&Jk(t)}function Xk(t,e,n){return n(function(){Zk(e)&&Jk(t)})}function Zk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dr(t,n)}catch{return!0}}function Jk(t){var e=Ws(t,1);e!==null&&jr(e,t,1,-1)}function nT(t){var e=Qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xu,lastRenderedState:t},e.queue=t,t=t.dispatch=xF.bind(null,_t,t),[e.memoizedState,t]}function Zu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eP(){return xr().memoizedState}function uf(t,e,n,r){var s=Qr();_t.flags|=t,s.memoizedState=Zu(1|e,n,void 0,r===void 0?null:r)}function mm(t,e,n,r){var s=xr();r=r===void 0?null:r;var i=void 0;if(Ut!==null){var o=Ut.memoizedState;if(i=o.destroy,r!==null&&tx(r,o.deps)){s.memoizedState=Zu(e,n,i,r);return}}_t.flags|=t,s.memoizedState=Zu(1|e,n,i,r)}function rT(t,e){return uf(8390656,8,t,e)}function sx(t,e){return mm(2048,8,t,e)}function tP(t,e){return mm(4,2,t,e)}function nP(t,e){return mm(4,4,t,e)}function rP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sP(t,e,n){return n=n!=null?n.concat([t]):null,mm(4,4,rP.bind(null,e,t),n)}function ix(){}function iP(t,e){var n=xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oP(t,e){var n=xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aP(t,e,n){return sa&21?(Dr(n,e)||(n=hk(),_t.lanes|=n,ia|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mn=!0),t.memoizedState=n)}function vF(t,e){var n=st;st=n!==0&&4>n?n:4,t(!0);var r=iy.transition;iy.transition={};try{t(!1),e()}finally{st=n,iy.transition=r}}function lP(){return xr().memoizedState}function wF(t,e,n){var r=$i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cP(t))uP(e,n);else if(n=Wk(t,e,n,r),n!==null){var s=kn();jr(n,t,r,s),dP(n,e,r)}}function xF(t,e,n){var r=$i(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cP(t))uP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Dr(a,o)){var l=e.interleaved;l===null?(s.next=s,Yw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Wk(t,e,s,r),n!==null&&(s=kn(),jr(n,t,r,s),dP(n,e,r))}}function cP(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function uP(t,e){yu=Qf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mw(t,n)}}var Yf={readContext:wr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},_F={readContext:wr,useCallback:function(t,e){return Qr().memoizedState=[t,e===void 0?null:e],t},useContext:wr,useEffect:rT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uf(4194308,4,rP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uf(4194308,4,t,e)},useInsertionEffect:function(t,e){return uf(4,2,t,e)},useMemo:function(t,e){var n=Qr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wF.bind(null,_t,t),[r.memoizedState,t]},useRef:function(t){var e=Qr();return t={current:t},e.memoizedState=t},useState:nT,useDebugValue:ix,useDeferredValue:function(t){return Qr().memoizedState=t},useTransition:function(){var t=nT(!1),e=t[0];return t=vF.bind(null,t[1]),Qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_t,s=Qr();if(yt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),qt===null)throw Error(Z(349));sa&30||Qk(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,rT(Xk.bind(null,r,i,t),[t]),r.flags|=2048,Zu(9,Yk.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Qr(),e=qt.identifierPrefix;if(yt){var n=ks,r=Is;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bF={readContext:wr,useCallback:iP,useContext:wr,useEffect:sx,useImperativeHandle:sP,useInsertionEffect:tP,useLayoutEffect:nP,useMemo:oP,useReducer:oy,useRef:eP,useState:function(){return oy(Xu)},useDebugValue:ix,useDeferredValue:function(t){var e=xr();return aP(e,Ut.memoizedState,t)},useTransition:function(){var t=oy(Xu)[0],e=xr().memoizedState;return[t,e]},useMutableSource:Gk,useSyncExternalStore:Kk,useId:lP,unstable_isNewReconciler:!1},EF={readContext:wr,useCallback:iP,useContext:wr,useEffect:sx,useImperativeHandle:sP,useInsertionEffect:tP,useLayoutEffect:nP,useMemo:oP,useReducer:ay,useRef:eP,useState:function(){return ay(Xu)},useDebugValue:ix,useDeferredValue:function(t){var e=xr();return Ut===null?e.memoizedState=t:aP(e,Ut.memoizedState,t)},useTransition:function(){var t=ay(Xu)[0],e=xr().memoizedState;return[t,e]},useMutableSource:Gk,useSyncExternalStore:Kk,useId:lP,unstable_isNewReconciler:!1};function Sr(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ov(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gm={isMounted:function(t){return(t=t._reactInternals)?ba(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kn(),s=$i(t),i=Os(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ui(t,i,s),e!==null&&(jr(e,t,s,r),lf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kn(),s=$i(t),i=Os(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ui(t,i,s),e!==null&&(jr(e,t,s,r),lf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kn(),r=$i(t),s=Os(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ui(t,s,r),e!==null&&(jr(e,t,r,n),lf(e,t,r))}};function sT(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Wu(n,r)||!Wu(s,i):!0}function hP(t,e,n){var r=!1,s=Xi,i=e.contextType;return typeof i=="object"&&i!==null?i=wr(i):(s=Ln(e)?na:gn.current,r=e.contextTypes,i=(r=r!=null)?Vl(t,s):Xi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function iT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gm.enqueueReplaceState(e,e.state,null)}function Mv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Xw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=wr(i):(i=Ln(e)?na:gn.current,s.context=Vl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ov(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&gm.enqueueReplaceState(s,s.state,null),Gf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bl(t,e){try{var n="",r=e;do n+=XV(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ly(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TF=typeof WeakMap=="function"?WeakMap:Map;function fP(t,e,n){n=Os(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zf||(Zf=!0,Gv=r),Vv(t,e)},n}function pP(t,e,n){n=Os(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Vv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vv(t,e),typeof r!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function oT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TF;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=LF.bind(null,t,e,n),e.then(t,t))}function aT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lT(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Os(-1,1),e.tag=2,Ui(n,e,1))),n.lanes|=1),t)}var SF=ni.ReactCurrentOwner,Mn=!1;function Sn(t,e,n,r){e.child=t===null?zk(e,null,n,r):Fl(e,t.child,n,r)}function cT(t,e,n,r,s){n=n.render;var i=e.ref;return gl(e,s),r=nx(t,e,n,r,i,s),n=rx(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hs(t,e,s)):(yt&&n&&Ww(e),e.flags|=1,Sn(t,e,r,s),e.child)}function uT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!fx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,mP(t,e,i,r,s)):(t=pf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Wu,n(o,r)&&t.ref===e.ref)return Hs(t,e,s)}return e.flags|=1,t=zi(i,r),t.ref=e.ref,t.return=e,e.child=t}function mP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Wu(i,r)&&t.ref===e.ref)if(Mn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Mn=!0);else return e.lanes=t.lanes,Hs(t,e,s)}return Lv(t,e,n,r,s)}function gP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(il,Qn),Qn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(il,Qn),Qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,lt(il,Qn),Qn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,lt(il,Qn),Qn|=r;return Sn(t,e,s,n),e.child}function yP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lv(t,e,n,r,s){var i=Ln(n)?na:gn.current;return i=Vl(e,i),gl(e,s),n=nx(t,e,n,r,i,s),r=rx(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hs(t,e,s)):(yt&&r&&Ww(e),e.flags|=1,Sn(t,e,n,s),e.child)}function dT(t,e,n,r,s){if(Ln(n)){var i=!0;$f(e)}else i=!1;if(gl(e,s),e.stateNode===null)df(t,e),hP(e,n,r),Mv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wr(c):(c=Ln(n)?na:gn.current,c=Vl(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&iT(e,o,r,c),yi=!1;var p=e.memoizedState;o.state=p,Gf(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Vn.current||yi?(typeof h=="function"&&(Ov(e,n,h,r),l=e.memoizedState),(a=yi||sT(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Hk(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Sr(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wr(l):(l=Ln(n)?na:gn.current,l=Vl(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&iT(e,o,r,l),yi=!1,p=e.memoizedState,o.state=p,Gf(e,r,o,s);var w=e.memoizedState;a!==f||p!==w||Vn.current||yi?(typeof m=="function"&&(Ov(e,n,m,r),w=e.memoizedState),(c=yi||sT(e,n,c,r,p,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Fv(t,e,n,r,i,s)}function Fv(t,e,n,r,s,i){yP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&YE(e,n,!1),Hs(t,e,i);r=e.stateNode,SF.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fl(e,t.child,null,i),e.child=Fl(e,null,a,i)):Sn(t,e,a,i),e.memoizedState=r.state,s&&YE(e,n,!0),e.child}function vP(t){var e=t.stateNode;e.pendingContext?QE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&QE(t,e.context,!1),Zw(t,e.containerInfo)}function hT(t,e,n,r,s){return Ll(),qw(s),e.flags|=256,Sn(t,e,n,r),e.child}var Uv={dehydrated:null,treeContext:null,retryLane:0};function Bv(t){return{baseLanes:t,cachePool:null,transitions:null}}function wP(t,e,n){var r=e.pendingProps,s=vt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),lt(vt,s&1),t===null)return jv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wm(o,r,0,null),t=Xo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Bv(n),e.memoizedState=Uv,t):ox(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return CF(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=zi(a,i):(i=Xo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Bv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Uv,r}return i=t.child,t=i.sibling,r=zi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ox(t,e){return e=wm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ah(t,e,n,r){return r!==null&&qw(r),Fl(e,t.child,null,n),t=ox(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CF(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ly(Error(Z(422))),Ah(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=wm({mode:"visible",children:r.children},s,0,null),i=Xo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fl(e,t.child,null,o),e.child.memoizedState=Bv(o),e.memoizedState=Uv,i);if(!(e.mode&1))return Ah(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Z(419)),r=ly(i,r,void 0),Ah(t,e,o,r)}if(a=(o&t.childLanes)!==0,Mn||a){if(r=qt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ws(t,s),jr(r,t,s,-1))}return hx(),r=ly(Error(Z(421))),Ah(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=FF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Xn=Fi(s.nextSibling),Jn=e,yt=!0,Pr=null,t!==null&&(dr[hr++]=Is,dr[hr++]=ks,dr[hr++]=ra,Is=t.id,ks=t.overflow,ra=e),e=ox(e,r.children),e.flags|=4096,e)}function fT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dv(t.return,e,n)}function cy(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Sn(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fT(t,n,e);else if(t.tag===19)fT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(vt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Kf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),cy(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Kf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}cy(e,!0,n,null,i);break;case"together":cy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function df(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ia|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IF(t,e,n){switch(e.tag){case 3:vP(e),Ll();break;case 5:qk(e);break;case 1:Ln(e.type)&&$f(e);break;case 4:Zw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;lt(Hf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?wP(t,e,n):(lt(vt,vt.current&1),t=Hs(t,e,n),t!==null?t.sibling:null);lt(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),lt(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,gP(t,e,n)}return Hs(t,e,n)}var _P,$v,bP,EP;_P=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$v=function(){};bP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Vo(ss.current);var i=null;switch(n){case"input":s=uv(t,s),r=uv(t,r),i=[];break;case"select":s=bt({},s,{value:void 0}),r=bt({},r,{value:void 0}),i=[];break;case"textarea":s=fv(t,s),r=fv(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uf)}mv(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ft("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};EP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bc(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function cn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kF(t,e,n){var r=e.pendingProps;switch(Hw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(e),null;case 1:return Ln(e.type)&&Bf(),cn(e),null;case 3:return r=e.stateNode,Ul(),mt(Vn),mt(gn),ex(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pr!==null&&(Yv(Pr),Pr=null))),$v(t,e),cn(e),null;case 5:Jw(e);var s=Vo(Qu.current);if(n=e.type,t!==null&&e.stateNode!=null)bP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return cn(e),null}if(t=Vo(ss.current),kh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Jr]=e,r[Gu]=i,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(s=0;s<tu.length;s++)ft(tu[s],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":bE(r,i),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ft("invalid",r);break;case"textarea":TE(r,i),ft("invalid",r)}mv(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ih(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ih(r.textContent,a,t),s=["children",""+a]):Vu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":wh(r),EE(r,i,!0);break;case"textarea":wh(r),SE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Uf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Jr]=e,t[Gu]=r,_P(t,e,!1,!1),e.stateNode=t;e:{switch(o=gv(n,r),n){case"dialog":ft("cancel",t),ft("close",t),s=r;break;case"iframe":case"object":case"embed":ft("load",t),s=r;break;case"video":case"audio":for(s=0;s<tu.length;s++)ft(tu[s],t);s=r;break;case"source":ft("error",t),s=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),s=r;break;case"details":ft("toggle",t),s=r;break;case"input":bE(t,r),s=uv(t,r),ft("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=bt({},r,{value:void 0}),ft("invalid",t);break;case"textarea":TE(t,r),s=fv(t,r),ft("invalid",t);break;default:s=r}mv(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ek(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZI(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lu(t,l):typeof l=="number"&&Lu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ft("scroll",t):l!=null&&Aw(t,i,l,o))}switch(n){case"input":wh(t),EE(t,r,!1);break;case"textarea":wh(t),SE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?hl(t,!!r.multiple,i,!1):r.defaultValue!=null&&hl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Uf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cn(e),null;case 6:if(t&&e.stateNode!=null)EP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=Vo(Qu.current),Vo(ss.current),kh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jr]=e,(i=r.nodeValue!==n)&&(t=Jn,t!==null))switch(t.tag){case 3:Ih(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ih(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jr]=e,e.stateNode=r}return cn(e),null;case 13:if(mt(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&Xn!==null&&e.mode&1&&!(e.flags&128))Bk(),Ll(),e.flags|=98560,i=!1;else if(i=kh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Jr]=e}else Ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;cn(e),i=!1}else Pr!==null&&(Yv(Pr),Pr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?$t===0&&($t=3):hx())),e.updateQueue!==null&&(e.flags|=4),cn(e),null);case 4:return Ul(),$v(t,e),t===null&&Hu(e.stateNode.containerInfo),cn(e),null;case 10:return Qw(e.type._context),cn(e),null;case 17:return Ln(e.type)&&Bf(),cn(e),null;case 19:if(mt(vt),i=e.memoizedState,i===null)return cn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Bc(i,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kf(t),o!==null){for(e.flags|=128,Bc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(vt,vt.current&1|2),e.child}t=t.sibling}i.tail!==null&&At()>$l&&(e.flags|=128,r=!0,Bc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Kf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!yt)return cn(e),null}else 2*At()-i.renderingStartTime>$l&&n!==1073741824&&(e.flags|=128,r=!0,Bc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=At(),e.sibling=null,n=vt.current,lt(vt,r?n&1|2:n&1),e):(cn(e),null);case 22:case 23:return dx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qn&1073741824&&(cn(e),e.subtreeFlags&6&&(e.flags|=8192)):cn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function PF(t,e){switch(Hw(e),e.tag){case 1:return Ln(e.type)&&Bf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ul(),mt(Vn),mt(gn),ex(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jw(e),null;case 13:if(mt(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(vt),null;case 4:return Ul(),null;case 10:return Qw(e.type._context),null;case 22:case 23:return dx(),null;case 24:return null;default:return null}}var Rh=!1,pn=!1,AF=typeof WeakSet=="function"?WeakSet:Set,ue=null;function sl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){It(t,e,r)}else n.current=null}function zv(t,e,n){try{n()}catch(r){It(t,e,r)}}var pT=!1;function RF(t,e){if(Cv=Vf,t=kk(),zw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iv={focusedElem:t,selectionRange:n},Vf=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,_=w.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:Sr(e.type,g),_);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(k){It(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return w=pT,pT=!1,w}function vu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&zv(e,n,i)}s=s.next}while(s!==r)}}function ym(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TP(t){var e=t.alternate;e!==null&&(t.alternate=null,TP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jr],delete e[Gu],delete e[Av],delete e[fF],delete e[pF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SP(t){return t.tag===5||t.tag===3||t.tag===4}function mT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uf));else if(r!==4&&(t=t.child,t!==null))for(Hv(t,e,n),t=t.sibling;t!==null;)Hv(t,e,n),t=t.sibling}function qv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qv(t,e,n),t=t.sibling;t!==null;)qv(t,e,n),t=t.sibling}var Kt=null,kr=!1;function li(t,e,n){for(n=n.child;n!==null;)CP(t,e,n),n=n.sibling}function CP(t,e,n){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(cm,n)}catch{}switch(n.tag){case 5:pn||sl(n,e);case 6:var r=Kt,s=kr;Kt=null,li(t,e,n),Kt=r,kr=s,Kt!==null&&(kr?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(kr?(t=Kt,n=n.stateNode,t.nodeType===8?ny(t.parentNode,n):t.nodeType===1&&ny(t,n),$u(t)):ny(Kt,n.stateNode));break;case 4:r=Kt,s=kr,Kt=n.stateNode.containerInfo,kr=!0,li(t,e,n),Kt=r,kr=s;break;case 0:case 11:case 14:case 15:if(!pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zv(n,e,o),s=s.next}while(s!==r)}li(t,e,n);break;case 1:if(!pn&&(sl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){It(n,e,a)}li(t,e,n);break;case 21:li(t,e,n);break;case 22:n.mode&1?(pn=(r=pn)||n.memoizedState!==null,li(t,e,n),pn=r):li(t,e,n);break;default:li(t,e,n)}}function gT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AF),e.forEach(function(r){var s=UF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kt=a.stateNode,kr=!1;break e;case 3:Kt=a.stateNode.containerInfo,kr=!0;break e;case 4:Kt=a.stateNode.containerInfo,kr=!0;break e}a=a.return}if(Kt===null)throw Error(Z(160));CP(i,o,s),Kt=null,kr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){It(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IP(e,t),e=e.sibling}function IP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(e,t),Kr(t),r&4){try{vu(3,t,t.return),ym(3,t)}catch(g){It(t,t.return,g)}try{vu(5,t,t.return)}catch(g){It(t,t.return,g)}}break;case 1:Er(e,t),Kr(t),r&512&&n!==null&&sl(n,n.return);break;case 5:if(Er(e,t),Kr(t),r&512&&n!==null&&sl(n,n.return),t.flags&32){var s=t.stateNode;try{Lu(s,"")}catch(g){It(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&QI(s,i),gv(a,o);var c=gv(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?ek(s,f):h==="dangerouslySetInnerHTML"?ZI(s,f):h==="children"?Lu(s,f):Aw(s,h,f,c)}switch(a){case"input":dv(s,i);break;case"textarea":YI(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?hl(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?hl(s,!!i.multiple,i.defaultValue,!0):hl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gu]=i}catch(g){It(t,t.return,g)}}break;case 6:if(Er(e,t),Kr(t),r&4){if(t.stateNode===null)throw Error(Z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){It(t,t.return,g)}}break;case 3:if(Er(e,t),Kr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$u(e.containerInfo)}catch(g){It(t,t.return,g)}break;case 4:Er(e,t),Kr(t);break;case 13:Er(e,t),Kr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(cx=At())),r&4&&gT(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(pn=(c=pn)||h,Er(e,t),pn=c):Er(e,t),Kr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(ue=t,h=t.child;h!==null;){for(f=ue=h;ue!==null;){switch(p=ue,m=p.child,p.tag){case 0:case 11:case 14:case 15:vu(4,p,p.return);break;case 1:sl(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(g){It(r,n,g)}}break;case 5:sl(p,p.return);break;case 22:if(p.memoizedState!==null){vT(f);continue}}m!==null?(m.return=p,ue=m):vT(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JI("display",o))}catch(g){It(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){It(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Er(e,t),Kr(t),r&4&&gT(t);break;case 21:break;default:Er(e,t),Kr(t)}}function Kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SP(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Lu(s,""),r.flags&=-33);var i=mT(t);qv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=mT(t);Hv(t,a,o);break;default:throw Error(Z(161))}}catch(l){It(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NF(t,e,n){ue=t,kP(t)}function kP(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var s=ue,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Rh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||pn;a=Rh;var c=pn;if(Rh=o,(pn=l)&&!c)for(ue=s;ue!==null;)o=ue,l=o.child,o.tag===22&&o.memoizedState!==null?wT(s):l!==null?(l.return=o,ue=l):wT(s);for(;i!==null;)ue=i,kP(i),i=i.sibling;ue=s,Rh=a,pn=c}yT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ue=i):yT(t)}}function yT(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pn||ym(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Sr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&tT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&$u(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}pn||e.flags&512&&Wv(e)}catch(p){It(e,e.return,p)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function vT(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function wT(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ym(4,e)}catch(l){It(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){It(e,s,l)}}var i=e.return;try{Wv(e)}catch(l){It(e,i,l)}break;case 5:var o=e.return;try{Wv(e)}catch(l){It(e,o,l)}}}catch(l){It(e,e.return,l)}if(e===t){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var jF=Math.ceil,Xf=ni.ReactCurrentDispatcher,ax=ni.ReactCurrentOwner,mr=ni.ReactCurrentBatchConfig,Qe=0,qt=null,Vt=null,Zt=0,Qn=0,il=ho(0),$t=0,Ju=null,ia=0,vm=0,lx=0,wu=null,On=null,cx=0,$l=1/0,Ss=null,Zf=!1,Gv=null,Bi=null,Nh=!1,ji=null,Jf=0,xu=0,Kv=null,hf=-1,ff=0;function kn(){return Qe&6?At():hf!==-1?hf:hf=At()}function $i(t){return t.mode&1?Qe&2&&Zt!==0?Zt&-Zt:gF.transition!==null?(ff===0&&(ff=hk()),ff):(t=st,t!==0||(t=window.event,t=t===void 0?16:wk(t.type)),t):1}function jr(t,e,n,r){if(50<xu)throw xu=0,Kv=null,Error(Z(185));Cd(t,n,r),(!(Qe&2)||t!==qt)&&(t===qt&&(!(Qe&2)&&(vm|=n),$t===4&&xi(t,Zt)),Fn(t,r),n===1&&Qe===0&&!(e.mode&1)&&($l=At()+500,pm&&fo()))}function Fn(t,e){var n=t.callbackNode;gL(t,e);var r=Mf(t,t===qt?Zt:0);if(r===0)n!==null&&kE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kE(n),e===1)t.tag===0?mF(xT.bind(null,t)):Lk(xT.bind(null,t)),dF(function(){!(Qe&6)&&fo()}),n=null;else{switch(fk(r)){case 1:n=Ow;break;case 4:n=uk;break;case 16:n=Of;break;case 536870912:n=dk;break;default:n=Of}n=MP(n,PP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PP(t,e){if(hf=-1,ff=0,Qe&6)throw Error(Z(327));var n=t.callbackNode;if(yl()&&t.callbackNode!==n)return null;var r=Mf(t,t===qt?Zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ep(t,r);else{e=r;var s=Qe;Qe|=2;var i=RP();(qt!==t||Zt!==e)&&(Ss=null,$l=At()+500,Yo(t,e));do try{MF();break}catch(a){AP(t,a)}while(!0);Kw(),Xf.current=i,Qe=s,Vt!==null?e=0:(qt=null,Zt=0,e=$t)}if(e!==0){if(e===2&&(s=_v(t),s!==0&&(r=s,e=Qv(t,s))),e===1)throw n=Ju,Yo(t,0),xi(t,r),Fn(t,At()),n;if(e===6)xi(t,r);else{if(s=t.current.alternate,!(r&30)&&!DF(s)&&(e=ep(t,r),e===2&&(i=_v(t),i!==0&&(r=i,e=Qv(t,i))),e===1))throw n=Ju,Yo(t,0),xi(t,r),Fn(t,At()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Po(t,On,Ss);break;case 3:if(xi(t,r),(r&130023424)===r&&(e=cx+500-At(),10<e)){if(Mf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){kn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Pv(Po.bind(null,t,On,Ss),e);break}Po(t,On,Ss);break;case 4:if(xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Nr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jF(r/1960))-r,10<r){t.timeoutHandle=Pv(Po.bind(null,t,On,Ss),r);break}Po(t,On,Ss);break;case 5:Po(t,On,Ss);break;default:throw Error(Z(329))}}}return Fn(t,At()),t.callbackNode===n?PP.bind(null,t):null}function Qv(t,e){var n=wu;return t.current.memoizedState.isDehydrated&&(Yo(t,e).flags|=256),t=ep(t,e),t!==2&&(e=On,On=n,e!==null&&Yv(e)),t}function Yv(t){On===null?On=t:On.push.apply(On,t)}function DF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Dr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xi(t,e){for(e&=~lx,e&=~vm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nr(e),r=1<<n;t[n]=-1,e&=~r}}function xT(t){if(Qe&6)throw Error(Z(327));yl();var e=Mf(t,0);if(!(e&1))return Fn(t,At()),null;var n=ep(t,e);if(t.tag!==0&&n===2){var r=_v(t);r!==0&&(e=r,n=Qv(t,r))}if(n===1)throw n=Ju,Yo(t,0),xi(t,e),Fn(t,At()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Po(t,On,Ss),Fn(t,At()),null}function ux(t,e){var n=Qe;Qe|=1;try{return t(e)}finally{Qe=n,Qe===0&&($l=At()+500,pm&&fo())}}function oa(t){ji!==null&&ji.tag===0&&!(Qe&6)&&yl();var e=Qe;Qe|=1;var n=mr.transition,r=st;try{if(mr.transition=null,st=1,t)return t()}finally{st=r,mr.transition=n,Qe=e,!(Qe&6)&&fo()}}function dx(){Qn=il.current,mt(il)}function Yo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uF(n)),Vt!==null)for(n=Vt.return;n!==null;){var r=n;switch(Hw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bf();break;case 3:Ul(),mt(Vn),mt(gn),ex();break;case 5:Jw(r);break;case 4:Ul();break;case 13:mt(vt);break;case 19:mt(vt);break;case 10:Qw(r.type._context);break;case 22:case 23:dx()}n=n.return}if(qt=t,Vt=t=zi(t.current,null),Zt=Qn=e,$t=0,Ju=null,lx=vm=ia=0,On=wu=null,Mo!==null){for(e=0;e<Mo.length;e++)if(n=Mo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Mo=null}return t}function AP(t,e){do{var n=Vt;try{if(Kw(),cf.current=Yf,Qf){for(var r=_t.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qf=!1}if(sa=0,Ht=Ut=_t=null,yu=!1,Yu=0,ax.current=null,n===null||n.return===null){$t=1,Ju=e,Vt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=aT(o);if(m!==null){m.flags&=-257,lT(m,o,a,i,e),m.mode&1&&oT(i,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var g=new Set;g.add(l),e.updateQueue=g}else w.add(l);break e}else{if(!(e&1)){oT(i,c,e),hx();break e}l=Error(Z(426))}}else if(yt&&a.mode&1){var _=aT(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),lT(_,o,a,i,e),qw(Bl(l,a));break e}}i=l=Bl(l,a),$t!==4&&($t=2),wu===null?wu=[i]:wu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=fP(i,l,e);eT(i,b);break e;case 1:a=l;var v=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Bi===null||!Bi.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=pP(i,a,e);eT(i,k);break e}}i=i.return}while(i!==null)}jP(n)}catch(R){e=R,Vt===n&&n!==null&&(Vt=n=n.return);continue}break}while(!0)}function RP(){var t=Xf.current;return Xf.current=Yf,t===null?Yf:t}function hx(){($t===0||$t===3||$t===2)&&($t=4),qt===null||!(ia&268435455)&&!(vm&268435455)||xi(qt,Zt)}function ep(t,e){var n=Qe;Qe|=2;var r=RP();(qt!==t||Zt!==e)&&(Ss=null,Yo(t,e));do try{OF();break}catch(s){AP(t,s)}while(!0);if(Kw(),Qe=n,Xf.current=r,Vt!==null)throw Error(Z(261));return qt=null,Zt=0,$t}function OF(){for(;Vt!==null;)NP(Vt)}function MF(){for(;Vt!==null&&!aL();)NP(Vt)}function NP(t){var e=OP(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,e===null?jP(t):Vt=e,ax.current=null}function jP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PF(n,e),n!==null){n.flags&=32767,Vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Vt=null;return}}else if(n=kF(n,e,Qn),n!==null){Vt=n;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);$t===0&&($t=5)}function Po(t,e,n){var r=st,s=mr.transition;try{mr.transition=null,st=1,VF(t,e,n,r)}finally{mr.transition=s,st=r}return null}function VF(t,e,n,r){do yl();while(ji!==null);if(Qe&6)throw Error(Z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(yL(t,i),t===qt&&(Vt=qt=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nh||(Nh=!0,MP(Of,function(){return yl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=mr.transition,mr.transition=null;var o=st;st=1;var a=Qe;Qe|=4,ax.current=null,RF(t,n),IP(n,t),rF(Iv),Vf=!!Cv,Iv=Cv=null,t.current=n,NF(n),lL(),Qe=a,st=o,mr.transition=i}else t.current=n;if(Nh&&(Nh=!1,ji=t,Jf=s),i=t.pendingLanes,i===0&&(Bi=null),dL(n.stateNode),Fn(t,At()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zf)throw Zf=!1,t=Gv,Gv=null,t;return Jf&1&&t.tag!==0&&yl(),i=t.pendingLanes,i&1?t===Kv?xu++:(xu=0,Kv=t):xu=0,fo(),null}function yl(){if(ji!==null){var t=fk(Jf),e=mr.transition,n=st;try{if(mr.transition=null,st=16>t?16:t,ji===null)var r=!1;else{if(t=ji,ji=null,Jf=0,Qe&6)throw Error(Z(331));var s=Qe;for(Qe|=4,ue=t.current;ue!==null;){var i=ue,o=i.child;if(ue.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ue=c;ue!==null;){var h=ue;switch(h.tag){case 0:case 11:case 15:vu(8,h,i)}var f=h.child;if(f!==null)f.return=h,ue=f;else for(;ue!==null;){h=ue;var p=h.sibling,m=h.return;if(TP(h),h===c){ue=null;break}if(p!==null){p.return=m,ue=p;break}ue=m}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ue=o;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vu(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ue=b;break e}ue=i.return}}var v=t.current;for(ue=v;ue!==null;){o=ue;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ue=E;else e:for(o=v;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ym(9,a)}}catch(R){It(a,a.return,R)}if(a===o){ue=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ue=k;break e}ue=a.return}}if(Qe=s,fo(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(cm,t)}catch{}r=!0}return r}finally{st=n,mr.transition=e}}return!1}function _T(t,e,n){e=Bl(n,e),e=fP(t,e,1),t=Ui(t,e,1),e=kn(),t!==null&&(Cd(t,1,e),Fn(t,e))}function It(t,e,n){if(t.tag===3)_T(t,t,n);else for(;e!==null;){if(e.tag===3){_T(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bi===null||!Bi.has(r))){t=Bl(n,t),t=pP(e,t,1),e=Ui(e,t,1),t=kn(),e!==null&&(Cd(e,1,t),Fn(e,t));break}}e=e.return}}function LF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kn(),t.pingedLanes|=t.suspendedLanes&n,qt===t&&(Zt&n)===n&&($t===4||$t===3&&(Zt&130023424)===Zt&&500>At()-cx?Yo(t,0):lx|=n),Fn(t,e)}function DP(t,e){e===0&&(t.mode&1?(e=bh,bh<<=1,!(bh&130023424)&&(bh=4194304)):e=1);var n=kn();t=Ws(t,e),t!==null&&(Cd(t,e,n),Fn(t,n))}function FF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),DP(t,n)}function UF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),DP(t,n)}var OP;OP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vn.current)Mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mn=!1,IF(t,e,n);Mn=!!(t.flags&131072)}else Mn=!1,yt&&e.flags&1048576&&Fk(e,Wf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;df(t,e),t=e.pendingProps;var s=Vl(e,gn.current);gl(e,n),s=nx(null,e,r,t,s,n);var i=rx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(i=!0,$f(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xw(e),s.updater=gm,e.stateNode=s,s._reactInternals=e,Mv(e,r,t,n),e=Fv(null,e,r,!0,i,n)):(e.tag=0,yt&&i&&Ww(e),Sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(df(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=$F(r),t=Sr(r,t),s){case 0:e=Lv(null,e,r,t,n);break e;case 1:e=dT(null,e,r,t,n);break e;case 11:e=cT(null,e,r,t,n);break e;case 14:e=uT(null,e,r,Sr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sr(r,s),Lv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sr(r,s),dT(t,e,r,s,n);case 3:e:{if(vP(e),t===null)throw Error(Z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Hk(t,e),Gf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Bl(Error(Z(423)),e),e=hT(t,e,r,n,s);break e}else if(r!==s){s=Bl(Error(Z(424)),e),e=hT(t,e,r,n,s);break e}else for(Xn=Fi(e.stateNode.containerInfo.firstChild),Jn=e,yt=!0,Pr=null,n=zk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ll(),r===s){e=Hs(t,e,n);break e}Sn(t,e,r,n)}e=e.child}return e;case 5:return qk(e),t===null&&jv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,kv(r,s)?o=null:i!==null&&kv(r,i)&&(e.flags|=32),yP(t,e),Sn(t,e,o,n),e.child;case 6:return t===null&&jv(e),null;case 13:return wP(t,e,n);case 4:return Zw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fl(e,null,r,n):Sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sr(r,s),cT(t,e,r,s,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,lt(Hf,r._currentValue),r._currentValue=o,i!==null)if(Dr(i.value,o)){if(i.children===s.children&&!Vn.current){e=Hs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Os(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Dv(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,gl(e,n),s=wr(s),r=r(s),e.flags|=1,Sn(t,e,r,n),e.child;case 14:return r=e.type,s=Sr(r,e.pendingProps),s=Sr(r.type,s),uT(t,e,r,s,n);case 15:return mP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sr(r,s),df(t,e),e.tag=1,Ln(r)?(t=!0,$f(e)):t=!1,gl(e,n),hP(e,r,s),Mv(e,r,s,n),Fv(null,e,r,!0,t,n);case 19:return xP(t,e,n);case 22:return gP(t,e,n)}throw Error(Z(156,e.tag))};function MP(t,e){return ck(t,e)}function BF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(t,e,n,r){return new BF(t,e,n,r)}function fx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $F(t){if(typeof t=="function")return fx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nw)return 11;if(t===jw)return 14}return 2}function zi(t,e){var n=t.alternate;return n===null?(n=pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")fx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qa:return Xo(n.children,s,i,e);case Rw:o=8,s|=8;break;case ov:return t=pr(12,n,e,s|2),t.elementType=ov,t.lanes=i,t;case av:return t=pr(13,n,e,s),t.elementType=av,t.lanes=i,t;case lv:return t=pr(19,n,e,s),t.elementType=lv,t.lanes=i,t;case qI:return wm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WI:o=10;break e;case HI:o=9;break e;case Nw:o=11;break e;case jw:o=14;break e;case gi:o=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=pr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Xo(t,e,n,r){return t=pr(7,t,r,e),t.lanes=n,t}function wm(t,e,n,r){return t=pr(22,t,r,e),t.elementType=qI,t.lanes=n,t.stateNode={isHidden:!1},t}function uy(t,e,n){return t=pr(6,t,null,e),t.lanes=n,t}function dy(t,e,n){return e=pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hg(0),this.expirationTimes=Hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function px(t,e,n,r,s,i,o,a,l){return t=new zF(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=pr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xw(i),t}function WF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ka,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VP(t){if(!t)return Xi;t=t._reactInternals;e:{if(ba(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Ln(n))return Vk(t,n,e)}return e}function LP(t,e,n,r,s,i,o,a,l){return t=px(n,r,!0,t,s,i,o,a,l),t.context=VP(null),n=t.current,r=kn(),s=$i(n),i=Os(r,s),i.callback=e??null,Ui(n,i,s),t.current.lanes=s,Cd(t,s,r),Fn(t,r),t}function xm(t,e,n,r){var s=e.current,i=kn(),o=$i(s);return n=VP(n),e.context===null?e.context=n:e.pendingContext=n,e=Os(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ui(s,e,o),t!==null&&(jr(t,s,o,i),lf(t,s,o)),o}function tp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mx(t,e){bT(t,e),(t=t.alternate)&&bT(t,e)}function HF(){return null}var FP=typeof reportError=="function"?reportError:function(t){console.error(t)};function gx(t){this._internalRoot=t}_m.prototype.render=gx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));xm(t,e,null,null)};_m.prototype.unmount=gx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oa(function(){xm(null,t,null,null)}),e[zs]=null}};function _m(t){this._internalRoot=t}_m.prototype.unstable_scheduleHydration=function(t){if(t){var e=gk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&vk(t)}};function yx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ET(){}function qF(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=tp(o);i.call(c)}}var o=LP(e,r,t,0,null,!1,!1,"",ET);return t._reactRootContainer=o,t[zs]=o.current,Hu(t.nodeType===8?t.parentNode:t),oa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=tp(l);a.call(c)}}var l=px(t,0,!1,null,null,!1,!1,"",ET);return t._reactRootContainer=l,t[zs]=l.current,Hu(t.nodeType===8?t.parentNode:t),oa(function(){xm(e,l,n,r)}),l}function Em(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=tp(o);a.call(l)}}xm(e,o,t,s)}else o=qF(n,e,t,s,r);return tp(o)}pk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eu(e.pendingLanes);n!==0&&(Mw(e,n|1),Fn(e,At()),!(Qe&6)&&($l=At()+500,fo()))}break;case 13:oa(function(){var r=Ws(t,1);if(r!==null){var s=kn();jr(r,t,1,s)}}),mx(t,1)}};Vw=function(t){if(t.tag===13){var e=Ws(t,134217728);if(e!==null){var n=kn();jr(e,t,134217728,n)}mx(t,134217728)}};mk=function(t){if(t.tag===13){var e=$i(t),n=Ws(t,e);if(n!==null){var r=kn();jr(n,t,e,r)}mx(t,e)}};gk=function(){return st};yk=function(t,e){var n=st;try{return st=t,e()}finally{st=n}};vv=function(t,e,n){switch(e){case"input":if(dv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=fm(r);if(!s)throw Error(Z(90));KI(r),dv(r,s)}}}break;case"textarea":YI(t,n);break;case"select":e=n.value,e!=null&&hl(t,!!n.multiple,e,!1)}};rk=ux;sk=oa;var GF={usingClientEntryPoint:!1,Events:[kd,Ja,fm,tk,nk,ux]},$c={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KF={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ak(t),t===null?null:t.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||HF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{cm=jh.inject(KF),rs=jh}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GF;sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yx(e))throw Error(Z(200));return WF(t,e,null,n)};sr.createRoot=function(t,e){if(!yx(t))throw Error(Z(299));var n=!1,r="",s=FP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=px(t,1,!1,null,null,n,!1,r,s),t[zs]=e.current,Hu(t.nodeType===8?t.parentNode:t),new gx(e)};sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=ak(e),t=t===null?null:t.stateNode,t};sr.flushSync=function(t){return oa(t)};sr.hydrate=function(t,e,n){if(!bm(e))throw Error(Z(200));return Em(null,t,e,!0,n)};sr.hydrateRoot=function(t,e,n){if(!yx(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=FP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=LP(e,null,t,1,n??null,s,!1,i,o),t[zs]=e.current,Hu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new _m(e)};sr.render=function(t,e,n){if(!bm(e))throw Error(Z(200));return Em(null,t,e,!1,n)};sr.unmountComponentAtNode=function(t){if(!bm(t))throw Error(Z(40));return t._reactRootContainer?(oa(function(){Em(null,null,t,!1,function(){t._reactRootContainer=null,t[zs]=null})}),!0):!1};sr.unstable_batchedUpdates=ux;sr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bm(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Em(t,e,n,!1,r)};sr.version="18.3.1-next-f1338f8080-20240426";function UP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UP)}catch(t){console.error(t)}}UP(),UI.exports=sr;var Ea=UI.exports;const BP=II(Ea);var $P,TT=Ea;$P=TT.createRoot,TT.hydrateRoot;const QF=1,YF=1e6;let hy=0;function XF(){return hy=(hy+1)%Number.MAX_SAFE_INTEGER,hy.toString()}const fy=new Map,ST=t=>{if(fy.has(t))return;const e=setTimeout(()=>{fy.delete(t),_u({type:"REMOVE_TOAST",toastId:t})},YF);fy.set(t,e)},ZF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,QF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?ST(n):t.toasts.forEach(r=>{ST(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},mf=[];let gf={toasts:[]};function _u(t){gf=ZF(gf,t),mf.forEach(e=>{e(gf)})}function JF({...t}){const e=XF(),n=s=>_u({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>_u({type:"DISMISS_TOAST",toastId:e});return _u({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Wn(){const[t,e]=x.useState(gf);return x.useEffect(()=>(mf.push(e),()=>{const n=mf.indexOf(e);n>-1&&mf.splice(n,1)}),[t]),{...t,toast:JF,dismiss:n=>_u({type:"DISMISS_TOAST",toastId:n})}}function ve(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function e4(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function zP(...t){return e=>t.forEach(n=>e4(n,e))}function ct(...t){return x.useCallback(zP(...t),t)}function t4(t,e=[]){let n=[];function r(i,o){const a=x.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:m,...w}=f,g=(p==null?void 0:p[t][l])||a,_=x.useMemo(()=>w,Object.values(w));return u.jsx(g.Provider,{value:_,children:m})}function h(f,p){const m=(p==null?void 0:p[t][l])||a,w=x.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,n4(s,...e)]}function n4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Zi=x.forwardRef((t,e)=>{const{children:n,...r}=t,s=x.Children.toArray(n),i=s.find(r4);if(i){const o=i.props.children,a=s.map(l=>l===i?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:l);return u.jsx(Xv,{...r,ref:e,children:x.isValidElement(o)?x.cloneElement(o,void 0,a):null})}return u.jsx(Xv,{...r,ref:e,children:n})});Zi.displayName="Slot";var Xv=x.forwardRef((t,e)=>{const{children:n,...r}=t;if(x.isValidElement(n)){const s=i4(n);return x.cloneElement(n,{...s4(r,n.props),ref:e?zP(e,s):s})}return x.Children.count(n)>1?x.Children.only(null):null});Xv.displayName="SlotClone";var WP=({children:t})=>u.jsx(u.Fragment,{children:t});function r4(t){return x.isValidElement(t)&&t.type===WP}function s4(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function i4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function vx(t){const e=t+"CollectionProvider",[n,r]=t4(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:g}=m,_=z.useRef(null),b=z.useRef(new Map).current;return u.jsx(s,{scope:w,itemMap:b,collectionRef:_,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=z.forwardRef((m,w)=>{const{scope:g,children:_}=m,b=i(a,g),v=ct(w,b.collectionRef);return u.jsx(Zi,{ref:v,children:_})});l.displayName=a;const c=t+"CollectionItemSlot",h="data-radix-collection-item",f=z.forwardRef((m,w)=>{const{scope:g,children:_,...b}=m,v=z.useRef(null),E=ct(w,v),k=i(c,g);return z.useEffect(()=>(k.itemMap.set(v,{ref:v,...b}),()=>void k.itemMap.delete(v))),u.jsx(Zi,{[h]:"",ref:E,children:_})});f.displayName=c;function p(m){const w=i(t+"CollectionConsumer",m);return z.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const b=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((k,R)=>b.indexOf(k.ref.current)-b.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},p,r]}function o4(t,e){const n=x.createContext(e),r=i=>{const{children:o,...a}=i,l=x.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=x.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ad(t,e=[]){let n=[];function r(i,o){const a=x.createContext(o),l=n.length;n=[...n,o];const c=f=>{var b;const{scope:p,children:m,...w}=f,g=((b=p==null?void 0:p[t])==null?void 0:b[l])||a,_=x.useMemo(()=>w,Object.values(w));return u.jsx(g.Provider,{value:_,children:m})};c.displayName=i+"Provider";function h(f,p){var g;const m=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,w=x.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,a4(s,...e)]}function a4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var l4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Le=l4.reduce((t,e)=>{const n=x.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Zi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function HP(t,e){t&&Ea.flushSync(()=>t.dispatchEvent(e))}function Bn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function c4(t,e=globalThis==null?void 0:globalThis.document){const n=Bn(t);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var u4="DismissableLayer",Zv="dismissableLayer.update",d4="dismissableLayer.pointerDownOutside",h4="dismissableLayer.focusOutside",CT,qP=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rd=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=x.useContext(qP),[h,f]=x.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),w=ct(e,C=>f(C)),g=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(_),v=h?g.indexOf(h):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,k=v>=b,R=p4(C=>{const S=C.target,I=[...c.branches].some(N=>N.contains(S));!k||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=m4(C=>{const S=C.target;[...c.branches].some(N=>N.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return c4(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),x.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(CT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),IT(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=CT)}},[h,p,n,c]),x.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),IT())},[h,c]),x.useEffect(()=>{const C=()=>m({});return document.addEventListener(Zv,C),()=>document.removeEventListener(Zv,C)},[]),u.jsx(Le.div,{...l,ref:w,style:{pointerEvents:E?k?"auto":"none":void 0,...t.style},onFocusCapture:ve(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ve(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ve(t.onPointerDownCapture,R.onPointerDownCapture)})});Rd.displayName=u4;var f4="DismissableLayerBranch",GP=x.forwardRef((t,e)=>{const n=x.useContext(qP),r=x.useRef(null),s=ct(e,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Le.div,{...t,ref:s})});GP.displayName=f4;function p4(t,e=globalThis==null?void 0:globalThis.document){const n=Bn(t),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){KP(d4,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function m4(t,e=globalThis==null?void 0:globalThis.document){const n=Bn(t),r=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!r.current&&KP(h4,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function IT(){const t=new CustomEvent(Zv);document.dispatchEvent(t)}function KP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?HP(s,i):s.dispatchEvent(i)}var g4=Rd,y4=GP,yn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},v4="Portal",Tm=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=x.useState(!1);yn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?BP.createPortal(u.jsx(Le.div,{...r,ref:e}),o):null});Tm.displayName=v4;function w4(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var Ta=t=>{const{present:e,children:n}=t,r=x4(e),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=ct(r.ref,_4(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:i}):null};Ta.displayName="Presence";function x4(t){const[e,n]=x.useState(),r=x.useRef({}),s=x.useRef(t),i=x.useRef("none"),o=t?"mounted":"unmounted",[a,l]=w4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=Dh(r.current);i.current=a==="mounted"?c:"none"},[a]),yn(()=>{const c=r.current,h=s.current;if(h!==t){const p=i.current,m=Dh(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),yn(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=m=>{const g=Dh(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=m=>{m.target===e&&(i.current=Dh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Dh(t){return(t==null?void 0:t.animationName)||"none"}function _4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function aa({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=b4({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Bn(n),l=x.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function b4({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,s=x.useRef(r),i=Bn(e);return x.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var E4="VisuallyHidden",Nd=x.forwardRef((t,e)=>u.jsx(Le.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Nd.displayName=E4;var T4=Nd,wx="ToastProvider",[xx,S4,C4]=vx("Toast"),[QP,Ate]=Ad("Toast",[C4]),[I4,Sm]=QP(wx),YP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=x.useState(null),[c,h]=x.useState(0),f=x.useRef(!1),p=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${wx}\`. Expected non-empty \`string\`.`),u.jsx(xx.Provider,{scope:e,children:u.jsx(I4,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>h(m=>m+1),[]),onToastRemove:x.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};YP.displayName=wx;var XP="ToastViewport",k4=["F8"],Jv="toast.viewportPause",e0="toast.viewportResume",ZP=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=k4,label:s="Notifications ({hotkey})",...i}=t,o=Sm(XP,n),a=S4(n),l=x.useRef(null),c=x.useRef(null),h=x.useRef(null),f=x.useRef(null),p=ct(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;x.useEffect(()=>{const _=b=>{var E;r.length!==0&&r.every(k=>b[k]||b.code===k)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),x.useEffect(()=>{const _=l.current,b=f.current;if(w&&_&&b){const v=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(Jv);b.dispatchEvent(O),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(e0);b.dispatchEvent(O),o.isClosePausedRef.current=!1}},k=O=>{!_.contains(O.relatedTarget)&&E()},R=()=>{_.contains(document.activeElement)||E()};return _.addEventListener("focusin",v),_.addEventListener("focusout",k),_.addEventListener("pointermove",v),_.addEventListener("pointerleave",R),window.addEventListener("blur",v),window.addEventListener("focus",E),()=>{_.removeEventListener("focusin",v),_.removeEventListener("focusout",k),_.removeEventListener("pointermove",v),_.removeEventListener("pointerleave",R),window.removeEventListener("blur",v),window.removeEventListener("focus",E)}}},[w,o.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:_})=>{const v=a().map(E=>{const k=E.ref.current,R=[k,...B4(k)];return _==="forwards"?R:R.reverse()});return(_==="forwards"?v.reverse():v).flat()},[a]);return x.useEffect(()=>{const _=f.current;if(_){const b=v=>{var R,O,C;const E=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!E){const S=document.activeElement,I=v.shiftKey;if(v.target===_&&I){(R=c.current)==null||R.focus();return}const j=g({tabbingDirection:I?"backwards":"forwards"}),A=j.findIndex($=>$===S);py(j.slice(A+1))?v.preventDefault():I?(O=c.current)==null||O.focus():(C=h.current)==null||C.focus()}};return _.addEventListener("keydown",b),()=>_.removeEventListener("keydown",b)}},[a,g]),u.jsxs(y4,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&u.jsx(t0,{ref:c,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"forwards"});py(_)}}),u.jsx(xx.Slot,{scope:n,children:u.jsx(Le.ol,{tabIndex:-1,...i,ref:p})}),w&&u.jsx(t0,{ref:h,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"backwards"});py(_)}})]})});ZP.displayName=XP;var JP="ToastFocusProxy",t0=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Sm(JP,n);return u.jsx(Nd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});t0.displayName=JP;var Cm="Toast",P4="toast.swipeStart",A4="toast.swipeMove",R4="toast.swipeCancel",N4="toast.swipeEnd",eA=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=aa({prop:r,defaultProp:s,onChange:i});return u.jsx(Ta,{present:n||a,children:u.jsx(O4,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Bn(t.onPause),onResume:Bn(t.onResume),onSwipeStart:ve(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(t.onSwipeMove,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ve(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(t.onSwipeEnd,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});eA.displayName=Cm;var[j4,D4]=QP(Cm,{onClose(){}}),O4=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...w}=t,g=Sm(Cm,n),[_,b]=x.useState(null),v=ct(e,$=>b($)),E=x.useRef(null),k=x.useRef(null),R=s||g.duration,O=x.useRef(0),C=x.useRef(R),S=x.useRef(0),{onToastAdd:I,onToastRemove:N}=g,D=Bn(()=>{var re;(_==null?void 0:_.contains(document.activeElement))&&((re=g.viewport)==null||re.focus()),o()}),j=x.useCallback($=>{!$||$===1/0||(window.clearTimeout(S.current),O.current=new Date().getTime(),S.current=window.setTimeout(D,$))},[D]);x.useEffect(()=>{const $=g.viewport;if($){const re=()=>{j(C.current),c==null||c()},G=()=>{const se=new Date().getTime()-O.current;C.current=C.current-se,window.clearTimeout(S.current),l==null||l()};return $.addEventListener(Jv,G),$.addEventListener(e0,re),()=>{$.removeEventListener(Jv,G),$.removeEventListener(e0,re)}}},[g.viewport,R,l,c,j]),x.useEffect(()=>{i&&!g.isClosePausedRef.current&&j(R)},[i,R,g.isClosePausedRef,j]),x.useEffect(()=>(I(),()=>N()),[I,N]);const A=x.useMemo(()=>_?aA(_):null,[_]);return g.viewport?u.jsxs(u.Fragment,{children:[A&&u.jsx(M4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),u.jsx(j4,{scope:n,onClose:D,children:Ea.createPortal(u.jsx(xx.ItemSlot,{scope:n,children:u.jsx(g4,{asChild:!0,onEscapeKeyDown:ve(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ve(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ve(t.onPointerDown,$=>{$.button===0&&(E.current={x:$.clientX,y:$.clientY})}),onPointerMove:ve(t.onPointerMove,$=>{if(!E.current)return;const re=$.clientX-E.current.x,G=$.clientY-E.current.y,se=!!k.current,F=["left","right"].includes(g.swipeDirection),H=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,oe=F?H(0,re):0,K=F?0:H(0,G),ae=$.pointerType==="touch"?10:2,pe={x:oe,y:K},$e={originalEvent:$,delta:pe};se?(k.current=pe,Oh(A4,f,$e,{discrete:!1})):kT(pe,g.swipeDirection,ae)?(k.current=pe,Oh(P4,h,$e,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(re)>ae||Math.abs(G)>ae)&&(E.current=null)}),onPointerUp:ve(t.onPointerUp,$=>{const re=k.current,G=$.target;if(G.hasPointerCapture($.pointerId)&&G.releasePointerCapture($.pointerId),k.current=null,E.current=null,re){const se=$.currentTarget,F={originalEvent:$,delta:re};kT(re,g.swipeDirection,g.swipeThreshold)?Oh(N4,m,F,{discrete:!0}):Oh(R4,p,F,{discrete:!0}),se.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),M4=t=>{const{__scopeToast:e,children:n,...r}=t,s=Sm(Cm,e),[i,o]=x.useState(!1),[a,l]=x.useState(!1);return F4(()=>o(!0)),x.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Tm,{asChild:!0,children:u.jsx(Nd,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},V4="ToastTitle",tA=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Le.div,{...r,ref:e})});tA.displayName=V4;var L4="ToastDescription",nA=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Le.div,{...r,ref:e})});nA.displayName=L4;var rA="ToastAction",sA=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(oA,{altText:n,asChild:!0,children:u.jsx(_x,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${rA}\`. Expected non-empty \`string\`.`),null)});sA.displayName=rA;var iA="ToastClose",_x=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=D4(iA,n);return u.jsx(oA,{asChild:!0,children:u.jsx(Le.button,{type:"button",...r,ref:e,onClick:ve(t.onClick,s.onClose)})})});_x.displayName=iA;var oA=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function aA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),U4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...aA(r))}}),e}function Oh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?HP(s,i):s.dispatchEvent(i)}var kT=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function F4(t=()=>{}){const e=Bn(t);yn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function U4(t){return t.nodeType===t.ELEMENT_NODE}function B4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function py(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var $4=YP,lA=ZP,cA=eA,uA=tA,dA=nA,hA=sA,fA=_x;function pA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=pA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=pA(t))&&(r&&(r+=" "),r+=e);return r}const PT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,AT=mA,jd=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return AT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],f=i==null?void 0:i[c];if(h===null)return null;const p=PT(h)||PT(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,h)=>{let[f,p]=h;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:p,...m}=h;return Object.entries(m).every(w=>{let[g,_]=w;return Array.isArray(_)?_.includes({...i,...a}[g]):{...i,...a}[g]===_})?[...c,f,p]:c},[]);return AT(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...W4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gA("lucide",s),...a},[...o.map(([c,h])=>x.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=x.forwardRef(({className:r,...s},i)=>x.createElement(H4,{ref:i,iconNode:e,className:gA(`lucide-${z4(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=je("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=je("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=je("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=je("CircleArrowRight",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=je("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=je("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=je("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=je("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=je("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=je("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=je("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=je("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=je("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=je("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=je("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=je("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=je("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=je("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cx="-",fU=t=>{const e=mU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Cx);return a[0]===""&&a.length!==1&&a.shift(),_A(a,e)||pU(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},_A=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?_A(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Cx);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},jT=/^\[(.+)\]$/,pU=t=>{if(jT.test(t)){const e=jT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},mU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return yU(Object.entries(t.classGroups),n).forEach(([i,o])=>{o0(o,r,i,e)}),r},o0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:DT(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(gU(s)){o0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{o0(o,DT(e,i),n,r)})})},DT=(t,e)=>{let n=t;return e.split(Cx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},gU=t=>t.isThemeGetter,yU=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,vU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},bA="!",wU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,h=0,f;for(let _=0;_<a.length;_++){let b=a[_];if(c===0){if(b===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(h,_)),h=_+i;continue}if(b==="/"){f=_;continue}}b==="["?c++:b==="]"&&c--}const p=l.length===0?a:a.substring(h),m=p.startsWith(bA),w=m?p.substring(1):p,g=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},xU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},_U=t=>({cache:vU(t.cacheSize),parseClassName:wU(t),...fU(t)}),bU=/\s+/,EU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(bU);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let w=!!m,g=r(w?p.substring(0,m):p);if(!g){if(!w){a=c+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=c+(a.length>0?" "+a:a);continue}w=!1}const _=xU(h).join(":"),b=f?_+bA:_,v=b+g;if(i.includes(v))continue;i.push(v);const E=s(g,w);for(let k=0;k<E.length;++k){const R=E[k];i.push(b+R)}a=c+(a.length>0?" "+a:a)}return a};function TU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=EA(e))&&(r&&(r+=" "),r+=n);return r}const EA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=EA(t[r]))&&(n&&(n+=" "),n+=e);return n};function SU(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((h,f)=>f(h),t());return n=_U(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=EU(l,n);return s(l,h),h}return function(){return i(TU.apply(null,arguments))}}const ht=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},TA=/^\[(?:([a-z-]+):)?(.+)\]$/i,CU=/^\d+\/\d+$/,IU=new Set(["px","full","screen"]),kU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_s=t=>vl(t)||IU.has(t)||CU.test(t),ci=t=>dc(t,"length",UU),vl=t=>!!t&&!Number.isNaN(Number(t)),my=t=>dc(t,"number",vl),zc=t=>!!t&&Number.isInteger(Number(t)),jU=t=>t.endsWith("%")&&vl(t.slice(0,-1)),Ve=t=>TA.test(t),ui=t=>kU.test(t),DU=new Set(["length","size","percentage"]),OU=t=>dc(t,DU,SA),MU=t=>dc(t,"position",SA),VU=new Set(["image","url"]),LU=t=>dc(t,VU,$U),FU=t=>dc(t,"",BU),Wc=()=>!0,dc=(t,e,n)=>{const r=TA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},UU=t=>PU.test(t)&&!AU.test(t),SA=()=>!1,BU=t=>RU.test(t),$U=t=>NU.test(t),zU=()=>{const t=ht("colors"),e=ht("spacing"),n=ht("blur"),r=ht("brightness"),s=ht("borderColor"),i=ht("borderRadius"),o=ht("borderSpacing"),a=ht("borderWidth"),l=ht("contrast"),c=ht("grayscale"),h=ht("hueRotate"),f=ht("invert"),p=ht("gap"),m=ht("gradientColorStops"),w=ht("gradientColorStopPositions"),g=ht("inset"),_=ht("margin"),b=ht("opacity"),v=ht("padding"),E=ht("saturate"),k=ht("scale"),R=ht("sepia"),O=ht("skew"),C=ht("space"),S=ht("translate"),I=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ve,e],j=()=>[Ve,e],A=()=>["",_s,ci],$=()=>["auto",vl,Ve],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Ve],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[vl,Ve];return{cacheSize:500,separator:":",theme:{colors:[Wc],spacing:[_s,ci],blur:["none","",ui,Ve],brightness:K(),borderColor:[t],borderRadius:["none","","full",ui,Ve],borderSpacing:j(),borderWidth:A(),contrast:K(),grayscale:H(),hueRotate:K(),invert:H(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[jU,ci],inset:D(),margin:D(),opacity:K(),padding:j(),saturate:K(),scale:K(),sepia:H(),skew:K(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[ui]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),Ve]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zc,Ve]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",zc,Ve]}],"grid-cols":[{"grid-cols":[Wc]}],"col-start-end":[{col:["auto",{span:["full",zc,Ve]},Ve]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Wc]}],"row-start-end":[{row:["auto",{span:[zc,Ve]},Ve]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[ui]},ui]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ui,ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",my]}],"font-family":[{font:[Wc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",vl,my]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_s,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_s,ci]}],"underline-offset":[{"underline-offset":["auto",_s,Ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),MU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",OU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[_s,Ve]}],"outline-w":[{outline:[_s,ci]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[_s,ci]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ui,FU]}],"shadow-color":[{shadow:[Wc]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ui,Ve]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[zc,Ve]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_s,ci,my]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WU=SU(zU);function ke(...t){return WU(mA(t))}const HU=$4,CA=x.forwardRef(({className:t,...e},n)=>u.jsx(lA,{ref:n,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));CA.displayName=lA.displayName;const qU=jd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),IA=x.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(cA,{ref:r,className:ke(qU({variant:e}),t),...n}));IA.displayName=cA.displayName;const GU=x.forwardRef(({className:t,...e},n)=>u.jsx(hA,{ref:n,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));GU.displayName=hA.displayName;const kA=x.forwardRef(({className:t,...e},n)=>u.jsx(fA,{ref:n,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(uc,{className:"h-4 w-4"})}));kA.displayName=fA.displayName;const PA=x.forwardRef(({className:t,...e},n)=>u.jsx(uA,{ref:n,className:ke("text-sm font-semibold",t),...e}));PA.displayName=uA.displayName;const AA=x.forwardRef(({className:t,...e},n)=>u.jsx(dA,{ref:n,className:ke("text-sm opacity-90",t),...e}));AA.displayName=dA.displayName;function KU(){const{toasts:t}=Wn();return u.jsxs(HU,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(IA,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(PA,{children:n}),r&&u.jsx(AA,{children:r})]}),s,u.jsx(kA,{})]},e)}),u.jsx(CA,{})]})}var OT=["light","dark"],QU="(prefers-color-scheme: dark)",YU=x.createContext(void 0),XU={setTheme:t=>{},themes:[]},ZU=()=>{var t;return(t=x.useContext(YU))!=null?t:XU};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?OT.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(w,g=!1,_=!0)=>{let b=o?o[w]:w,v=g?w+"|| ''":`'${b}'`,E="";return s&&_&&!g&&OT.includes(w)&&(E+=`d.style.colorScheme = '${w}';`),n==="class"?g||b?E+=`c.add(${v})`:E+="null":b&&(E+=`d[s](n,${v})`),E},m=t?`!function(){${h}${p(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${QU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var JU=t=>{switch(t){case"success":return n5;case"info":return s5;case"warning":return r5;case"error":return i5;default:return null}},e5=Array(12).fill(0),t5=({visible:t})=>z.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},z.createElement("div",{className:"sonner-spinner"},e5.map((e,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),n5=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),r5=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),s5=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),i5=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),o5=()=>{let[t,e]=z.useState(document.hidden);return z.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},a0=1,a5=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:a0++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(c5(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||a0++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Kn=new a5,l5=(t,e)=>{let n=(e==null?void 0:e.id)||a0++;return Kn.addToast({title:t,...e,id:n}),n},c5=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",u5=l5,d5=()=>Kn.toasts;Object.assign(u5,{success:Kn.success,info:Kn.info,warning:Kn.warning,error:Kn.error,custom:Kn.custom,message:Kn.message,promise:Kn.promise,dismiss:Kn.dismiss,loading:Kn.loading},{getHistory:d5});function h5(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}h5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Mh(t){return t.label!==void 0}var f5=3,p5="32px",m5=4e3,g5=356,y5=14,v5=20,w5=200;function x5(...t){return t.filter(Boolean).join(" ")}var _5=t=>{var e,n,r,s,i,o,a,l,c,h;let{invert:f,toast:p,unstyled:m,interacting:w,setHeights:g,visibleToasts:_,heights:b,index:v,toasts:E,expanded:k,removeToast:R,defaultRichColors:O,closeButton:C,style:S,cancelButtonStyle:I,actionButtonStyle:N,className:D="",descriptionClassName:j="",duration:A,position:$,gap:re,loadingIcon:G,expandByDefault:se,classNames:F,icons:H,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:K,cn:ae}=t,[pe,$e]=z.useState(!1),[tt,be]=z.useState(!1),[de,Ue]=z.useState(!1),[Ze,Pe]=z.useState(!1),[Ee,Oe]=z.useState(0),[ut,Dt]=z.useState(0),Hn=z.useRef(null),nn=z.useRef(null),Wr=v===0,M=v+1<=_,V=p.type,B=p.dismissible!==!1,ie=p.className||"",ee=p.descriptionClassName||"",Y=z.useMemo(()=>b.findIndex(Ce=>Ce.toastId===p.id)||0,[b,p.id]),me=z.useMemo(()=>{var Ce;return(Ce=p.closeButton)!=null?Ce:C},[p.closeButton,C]),Ae=z.useMemo(()=>p.duration||A||m5,[p.duration,A]),Be=z.useRef(0),Me=z.useRef(0),xn=z.useRef(0),_r=z.useRef(null),[ys,bo]=$.split("-"),Hr=z.useMemo(()=>b.reduce((Ce,ot,nt)=>nt>=Y?Ce:Ce+ot.height,0),[b,Y]),ri=o5(),ja=p.invert||f,qr=V==="loading";Me.current=z.useMemo(()=>Y*re+Hr,[Y,Hr]),z.useEffect(()=>{$e(!0)},[]),z.useLayoutEffect(()=>{if(!pe)return;let Ce=nn.current,ot=Ce.style.height;Ce.style.height="auto";let nt=Ce.getBoundingClientRect().height;Ce.style.height=ot,Dt(nt),g(rn=>rn.find(Nn=>Nn.toastId===p.id)?rn.map(Nn=>Nn.toastId===p.id?{...Nn,height:nt}:Nn):[{toastId:p.id,height:nt,position:p.position},...rn])},[pe,p.title,p.description,g,p.id]);let Gr=z.useCallback(()=>{be(!0),Oe(Me.current),g(Ce=>Ce.filter(ot=>ot.toastId!==p.id)),setTimeout(()=>{R(p)},w5)},[p,R,g,Me]);z.useEffect(()=>{if(p.promise&&V==="loading"||p.duration===1/0||p.type==="loading")return;let Ce,ot=Ae;return k||w||K&&ri?(()=>{if(xn.current<Be.current){let nt=new Date().getTime()-Be.current;ot=ot-nt}xn.current=new Date().getTime()})():ot!==1/0&&(Be.current=new Date().getTime(),Ce=setTimeout(()=>{var nt;(nt=p.onAutoClose)==null||nt.call(p,p),Gr()},ot)),()=>clearTimeout(Ce)},[k,w,se,p,Ae,Gr,p.promise,V,K,ri]),z.useEffect(()=>{let Ce=nn.current;if(Ce){let ot=Ce.getBoundingClientRect().height;return Dt(ot),g(nt=>[{toastId:p.id,height:ot,position:p.position},...nt]),()=>g(nt=>nt.filter(rn=>rn.toastId!==p.id))}},[g,p.id]),z.useEffect(()=>{p.delete&&Gr()},[Gr,p.delete]);function Cg(){return H!=null&&H.loading?z.createElement("div",{className:"sonner-loader","data-visible":V==="loading"},H.loading):G?z.createElement("div",{className:"sonner-loader","data-visible":V==="loading"},G):z.createElement(t5,{visible:V==="loading"})}return z.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:nn,className:ae(D,ie,F==null?void 0:F.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[V],(n=p==null?void 0:p.classNames)==null?void 0:n[V]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:O,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":pe,"data-promise":!!p.promise,"data-removed":tt,"data-visible":M,"data-y-position":ys,"data-x-position":bo,"data-index":v,"data-front":Wr,"data-swiping":de,"data-dismissible":B,"data-type":V,"data-invert":ja,"data-swipe-out":Ze,"data-expanded":!!(k||se&&pe),style:{"--index":v,"--toasts-before":v,"--z-index":E.length-v,"--offset":`${tt?Ee:Me.current}px`,"--initial-height":se?"auto":`${ut}px`,...S,...p.style},onPointerDown:Ce=>{qr||!B||(Hn.current=new Date,Oe(Me.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(Ue(!0),_r.current={x:Ce.clientX,y:Ce.clientY}))},onPointerUp:()=>{var Ce,ot,nt,rn;if(Ze||!B)return;_r.current=null;let Nn=Number(((Ce=nn.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount").replace("px",""))||0),si=new Date().getTime()-((ot=Hn.current)==null?void 0:ot.getTime()),vs=Math.abs(Nn)/si;if(Math.abs(Nn)>=v5||vs>.11){Oe(Me.current),(nt=p.onDismiss)==null||nt.call(p,p),Gr(),Pe(!0);return}(rn=nn.current)==null||rn.style.setProperty("--swipe-amount","0px"),Ue(!1)},onPointerMove:Ce=>{var ot;if(!_r.current||!B)return;let nt=Ce.clientY-_r.current.y,rn=Ce.clientX-_r.current.x,Nn=(ys==="top"?Math.min:Math.max)(0,nt),si=Ce.pointerType==="touch"?10:2;Math.abs(Nn)>si?(ot=nn.current)==null||ot.style.setProperty("--swipe-amount",`${nt}px`):Math.abs(rn)>si&&(_r.current=null)}},me&&!p.jsx?z.createElement("button",{"aria-label":oe,"data-disabled":qr,"data-close-button":!0,onClick:qr||!B?()=>{}:()=>{var Ce;Gr(),(Ce=p.onDismiss)==null||Ce.call(p,p)},className:ae(F==null?void 0:F.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||z.isValidElement(p.title)?p.jsx||p.title:z.createElement(z.Fragment,null,V||p.icon||p.promise?z.createElement("div",{"data-icon":"",className:ae(F==null?void 0:F.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Cg():null,p.type!=="loading"?p.icon||(H==null?void 0:H[V])||JU(V):null):null,z.createElement("div",{"data-content":"",className:ae(F==null?void 0:F.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},z.createElement("div",{"data-title":"",className:ae(F==null?void 0:F.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?z.createElement("div",{"data-description":"",className:ae(j,ee,F==null?void 0:F.description,(l=p==null?void 0:p.classNames)==null?void 0:l.description)},p.description):null),z.isValidElement(p.cancel)?p.cancel:p.cancel&&Mh(p.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:Ce=>{var ot,nt;Mh(p.cancel)&&B&&((nt=(ot=p.cancel).onClick)==null||nt.call(ot,Ce),Gr())},className:ae(F==null?void 0:F.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,z.isValidElement(p.action)?p.action:p.action&&Mh(p.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:Ce=>{var ot,nt;Mh(p.action)&&(Ce.defaultPrevented||((nt=(ot=p.action).onClick)==null||nt.call(ot,Ce),Gr()))},className:ae(F==null?void 0:F.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function MT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var b5=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:h,style:f,visibleToasts:p=f5,toastOptions:m,dir:w=MT(),gap:g=y5,loadingIcon:_,icons:b,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:E,cn:k=x5}=t,[R,O]=z.useState([]),C=z.useMemo(()=>Array.from(new Set([n].concat(R.filter(K=>K.position).map(K=>K.position)))),[R,n]),[S,I]=z.useState([]),[N,D]=z.useState(!1),[j,A]=z.useState(!1),[$,re]=z.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=z.useRef(null),se=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=z.useRef(null),H=z.useRef(!1),oe=z.useCallback(K=>{var ae;(ae=R.find(pe=>pe.id===K.id))!=null&&ae.delete||Kn.dismiss(K.id),O(pe=>pe.filter(({id:$e})=>$e!==K.id))},[R]);return z.useEffect(()=>Kn.subscribe(K=>{if(K.dismiss){O(ae=>ae.map(pe=>pe.id===K.id?{...pe,delete:!0}:pe));return}setTimeout(()=>{BP.flushSync(()=>{O(ae=>{let pe=ae.findIndex($e=>$e.id===K.id);return pe!==-1?[...ae.slice(0,pe),{...ae[pe],...K},...ae.slice(pe+1)]:[K,...ae]})})})}),[]),z.useEffect(()=>{if(l!=="system"){re(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{re(K?"dark":"light")})},[l]),z.useEffect(()=>{R.length<=1&&D(!1)},[R]),z.useEffect(()=>{let K=ae=>{var pe,$e;r.every(tt=>ae[tt]||ae.code===tt)&&(D(!0),(pe=G.current)==null||pe.focus()),ae.code==="Escape"&&(document.activeElement===G.current||($e=G.current)!=null&&$e.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[r]),z.useEffect(()=>{if(G.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,H.current=!1)}},[G.current]),R.length?z.createElement("section",{"aria-label":`${v} ${se}`,tabIndex:-1},C.map((K,ae)=>{var pe;let[$e,tt]=K.split("-");return z.createElement("ol",{key:K,dir:w==="auto"?MT():w,tabIndex:-1,ref:G,className:o,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":$e,"data-x-position":tt,style:{"--front-toast-height":`${((pe=S[0])==null?void 0:pe.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||p5,"--width":`${g5}px`,"--gap":`${g}px`,...f},onBlur:be=>{H.current&&!be.currentTarget.contains(be.relatedTarget)&&(H.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||H.current||(H.current=!0,F.current=be.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{j||D(!1)},onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},R.filter(be=>!be.position&&ae===0||be.position===K).map((be,de)=>{var Ue,Ze;return z.createElement(_5,{key:be.id,icons:b,index:de,toast:be,defaultRichColors:c,duration:(Ue=m==null?void 0:m.duration)!=null?Ue:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:p,closeButton:(Ze=m==null?void 0:m.closeButton)!=null?Ze:i,interacting:j,position:K,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:oe,toasts:R.filter(Pe=>Pe.position==be.position),heights:S.filter(Pe=>Pe.position==be.position),setHeights:I,expandByDefault:s,gap:g,loadingIcon:_,expanded:N,pauseWhenPageIsHidden:E,cn:k})}))})):null};const E5=({...t})=>{const{theme:e="system"}=ZU();return u.jsx(b5,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var T5=LI.useId||(()=>{}),S5=0;function Ms(t){const[e,n]=x.useState(T5());return yn(()=>{n(r=>r??String(S5++))},[t]),e?`radix-${e}`:""}const C5=["top","right","bottom","left"],eo=Math.min,Yn=Math.max,np=Math.round,Vh=Math.floor,to=t=>({x:t,y:t}),I5={left:"right",right:"left",bottom:"top",top:"bottom"},k5={start:"end",end:"start"};function l0(t,e,n){return Yn(t,eo(e,n))}function Gs(t,e){return typeof t=="function"?t(e):t}function Ks(t){return t.split("-")[0]}function hc(t){return t.split("-")[1]}function Ix(t){return t==="x"?"y":"x"}function kx(t){return t==="y"?"height":"width"}function no(t){return["top","bottom"].includes(Ks(t))?"y":"x"}function Px(t){return Ix(no(t))}function P5(t,e,n){n===void 0&&(n=!1);const r=hc(t),s=Px(t),i=kx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=rp(o)),[o,rp(o)]}function A5(t){const e=rp(t);return[c0(t),e,c0(e)]}function c0(t){return t.replace(/start|end/g,e=>k5[e])}function R5(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function N5(t,e,n,r){const s=hc(t);let i=R5(Ks(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(c0)))),i}function rp(t){return t.replace(/left|right|bottom|top/g,e=>I5[e])}function j5(t){return{top:0,right:0,bottom:0,left:0,...t}}function RA(t){return typeof t!="number"?j5(t):{top:t,right:t,bottom:t,left:t}}function sp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function VT(t,e,n){let{reference:r,floating:s}=t;const i=no(e),o=Px(e),a=kx(o),l=Ks(e),c=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:h,y:r.y-s.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(hc(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const D5=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=VT(c,r,l),p=r,m={},w=0;for(let g=0;g<a.length;g++){const{name:_,fn:b}=a[g],{x:v,y:E,data:k,reset:R}=await b({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});h=v??h,f=E??f,m={...m,[_]:{...m[_],...k}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(c=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):R.rects),{x:h,y:f}=VT(c,p,l)),g=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:m}};async function ed(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Gs(e,t),w=RA(m),_=a[p?f==="floating"?"reference":"floating":f],b=sp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},R=sp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:E,strategy:l}):v);return{top:(b.top-R.top+w.top)/k.y,bottom:(R.bottom-b.bottom+w.bottom)/k.y,left:(b.left-R.left+w.left)/k.x,right:(R.right-b.right+w.right)/k.x}}const O5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=Gs(t,e)||{};if(c==null)return{};const f=RA(h),p={x:n,y:r},m=Px(s),w=kx(m),g=await o.getDimensions(c),_=m==="y",b=_?"top":"left",v=_?"bottom":"right",E=_?"clientHeight":"clientWidth",k=i.reference[w]+i.reference[m]-p[m]-i.floating[w],R=p[m]-i.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=O?O[E]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[E]||i.floating[w]);const S=k/2-R/2,I=C/2-g[w]/2-1,N=eo(f[b],I),D=eo(f[v],I),j=N,A=C-g[w]-D,$=C/2-g[w]/2+S,re=l0(j,$,A),G=!l.arrow&&hc(s)!=null&&$!==re&&i.reference[w]/2-($<j?N:D)-g[w]/2<0,se=G?$<j?$-j:$-A:0;return{[m]:p[m]+se,data:{[m]:re,centerOffset:$-re-se,...G&&{alignmentOffset:se}},reset:G}}}),M5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,..._}=Gs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Ks(s),v=no(a),E=Ks(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),R=p||(E||!g?[rp(a)]:A5(a)),O=w!=="none";!p&&O&&R.push(...N5(a,g,w,k));const C=[a,...R],S=await ed(e,_),I=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(S[b]),f){const $=P5(s,o,k);I.push(S[$[0]],S[$[1]])}if(N=[...N,{placement:s,overflows:I}],!I.every($=>$<=0)){var D,j;const $=(((D=i.flip)==null?void 0:D.index)||0)+1,re=C[$];if(re)return{data:{index:$,overflows:N},reset:{placement:re}};let G=(j=N.filter(se=>se.overflows[0]<=0).sort((se,F)=>se.overflows[1]-F.overflows[1])[0])==null?void 0:j.placement;if(!G)switch(m){case"bestFit":{var A;const se=(A=N.filter(F=>{if(O){const H=no(F.placement);return H===v||H==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(H=>H>0).reduce((H,oe)=>H+oe,0)]).sort((F,H)=>F[1]-H[1])[0])==null?void 0:A[0];se&&(G=se);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function LT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function FT(t){return C5.some(e=>t[e]>=0)}const V5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Gs(t,e);switch(r){case"referenceHidden":{const i=await ed(e,{...s,elementContext:"reference"}),o=LT(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:FT(o)}}}case"escaped":{const i=await ed(e,{...s,altBoundary:!0}),o=LT(i,n.floating);return{data:{escapedOffsets:o,escaped:FT(o)}}}default:return{}}}}};async function L5(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ks(n),a=hc(n),l=no(n)==="y",c=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,f=Gs(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*h,y:p*c}:{x:p*c,y:m*h}}const F5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await L5(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},U5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:b,y:v}=_;return{x:b,y:v}}},...l}=Gs(t,e),c={x:n,y:r},h=await ed(e,l),f=no(Ks(s)),p=Ix(f);let m=c[p],w=c[f];if(i){const _=p==="y"?"top":"left",b=p==="y"?"bottom":"right",v=m+h[_],E=m-h[b];m=l0(v,m,E)}if(o){const _=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=w+h[_],E=w-h[b];w=l0(v,w,E)}const g=a.fn({...e,[p]:m,[f]:w});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[f]:o}}}}}},B5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Gs(t,e),h={x:n,y:r},f=no(s),p=Ix(f);let m=h[p],w=h[f];const g=Gs(a,e),_=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const E=p==="y"?"height":"width",k=i.reference[p]-i.floating[E]+_.mainAxis,R=i.reference[p]+i.reference[E]-_.mainAxis;m<k?m=k:m>R&&(m=R)}if(c){var b,v;const E=p==="y"?"width":"height",k=["top","left"].includes(Ks(s)),R=i.reference[f]-i.floating[E]+(k&&((b=o.offset)==null?void 0:b[f])||0)+(k?0:_.crossAxis),O=i.reference[f]+i.reference[E]+(k?0:((v=o.offset)==null?void 0:v[f])||0)-(k?_.crossAxis:0);w<R?w=R:w>O&&(w=O)}return{[p]:m,[f]:w}}}},$5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Gs(t,e),h=await ed(e,c),f=Ks(s),p=hc(s),m=no(s)==="y",{width:w,height:g}=i.floating;let _,b;f==="top"||f==="bottom"?(_=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,_=p==="end"?"top":"bottom");const v=g-h.top-h.bottom,E=w-h.left-h.right,k=eo(g-h[_],v),R=eo(w-h[b],E),O=!e.middlewareData.shift;let C=k,S=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),O&&!p){const N=Yn(h.left,0),D=Yn(h.right,0),j=Yn(h.top,0),A=Yn(h.bottom,0);m?S=w-2*(N!==0||D!==0?N+D:Yn(h.left,h.right)):C=g-2*(j!==0||A!==0?j+A:Yn(h.top,h.bottom))}await l({...e,availableWidth:S,availableHeight:C});const I=await o.getDimensions(a.floating);return w!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function km(){return typeof window<"u"}function fc(t){return NA(t)?(t.nodeName||"").toLowerCase():"#document"}function er(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ms(t){var e;return(e=(NA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NA(t){return km()?t instanceof Node||t instanceof er(t).Node:!1}function Or(t){return km()?t instanceof Element||t instanceof er(t).Element:!1}function ds(t){return km()?t instanceof HTMLElement||t instanceof er(t).HTMLElement:!1}function UT(t){return!km()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof er(t).ShadowRoot}function Dd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function z5(t){return["table","td","th"].includes(fc(t))}function Pm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Ax(t){const e=Rx(),n=Or(t)?Mr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function W5(t){let e=ro(t);for(;ds(e)&&!Hl(e);){if(Ax(e))return e;if(Pm(e))return null;e=ro(e)}return null}function Rx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hl(t){return["html","body","#document"].includes(fc(t))}function Mr(t){return er(t).getComputedStyle(t)}function Am(t){return Or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ro(t){if(fc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||UT(t)&&t.host||ms(t);return UT(e)?e.host:e}function jA(t){const e=ro(t);return Hl(e)?t.ownerDocument?t.ownerDocument.body:t.body:ds(e)&&Dd(e)?e:jA(e)}function td(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=jA(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=er(s);if(i){const a=u0(o);return e.concat(o,o.visualViewport||[],Dd(s)?s:[],a&&n?td(a):[])}return e.concat(s,td(s,[],n))}function u0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function DA(t){const e=Mr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ds(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=np(n)!==i||np(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Nx(t){return Or(t)?t:t.contextElement}function wl(t){const e=Nx(t);if(!ds(e))return to(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=DA(e);let o=(i?np(n.width):n.width)/r,a=(i?np(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const H5=to(0);function OA(t){const e=er(t);return!Rx()||!e.visualViewport?H5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function q5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==er(t)?!1:e}function la(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Nx(t);let o=to(1);e&&(r?Or(r)&&(o=wl(r)):o=wl(t));const a=q5(i,n,r)?OA(i):to(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=er(i),m=r&&Or(r)?er(r):r;let w=p,g=u0(w);for(;g&&r&&m!==w;){const _=wl(g),b=g.getBoundingClientRect(),v=Mr(g),E=b.left+(g.clientLeft+parseFloat(v.paddingLeft))*_.x,k=b.top+(g.clientTop+parseFloat(v.paddingTop))*_.y;l*=_.x,c*=_.y,h*=_.x,f*=_.y,l+=E,c+=k,w=er(g),g=u0(w)}}return sp({width:h,height:f,x:l,y:c})}function G5(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ms(r),a=e?Pm(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=to(1);const h=to(0),f=ds(r);if((f||!f&&!i)&&((fc(r)!=="body"||Dd(o))&&(l=Am(r)),ds(r))){const p=la(r);c=wl(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x,y:n.y*c.y-l.scrollTop*c.y+h.y}}function K5(t){return Array.from(t.getClientRects())}function d0(t,e){const n=Am(t).scrollLeft;return e?e.left+n:la(ms(t)).left+n}function Q5(t){const e=ms(t),n=Am(t),r=t.ownerDocument.body,s=Yn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Yn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+d0(t);const a=-n.scrollTop;return Mr(r).direction==="rtl"&&(o+=Yn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Y5(t,e){const n=er(t),r=ms(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Rx();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function X5(t,e){const n=la(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ds(t)?wl(t):to(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function BT(t,e,n){let r;if(e==="viewport")r=Y5(t,n);else if(e==="document")r=Q5(ms(t));else if(Or(e))r=X5(e,n);else{const s=OA(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return sp(r)}function MA(t,e){const n=ro(t);return n===e||!Or(n)||Hl(n)?!1:Mr(n).position==="fixed"||MA(n,e)}function Z5(t,e){const n=e.get(t);if(n)return n;let r=td(t,[],!1).filter(a=>Or(a)&&fc(a)!=="body"),s=null;const i=Mr(t).position==="fixed";let o=i?ro(t):t;for(;Or(o)&&!Hl(o);){const a=Mr(o),l=Ax(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Dd(o)&&!l&&MA(t,o))?r=r.filter(h=>h!==o):s=a,o=ro(o)}return e.set(t,r),r}function J5(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Pm(e)?[]:Z5(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const f=BT(e,h,s);return c.top=Yn(f.top,c.top),c.right=eo(f.right,c.right),c.bottom=eo(f.bottom,c.bottom),c.left=Yn(f.left,c.left),c},BT(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function e3(t){const{width:e,height:n}=DA(t);return{width:e,height:n}}function t3(t,e,n){const r=ds(e),s=ms(e),i=n==="fixed",o=la(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=to(0);if(r||!r&&!i)if((fc(e)!=="body"||Dd(s))&&(a=Am(e)),r){const m=la(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=d0(s));let c=0,h=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();h=m.top+a.scrollTop,c=m.left+a.scrollLeft-d0(s,m)}const f=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-h;return{x:f,y:p,width:o.width,height:o.height}}function gy(t){return Mr(t).position==="static"}function $T(t,e){if(!ds(t)||Mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ms(t)===n&&(n=n.ownerDocument.body),n}function VA(t,e){const n=er(t);if(Pm(t))return n;if(!ds(t)){let s=ro(t);for(;s&&!Hl(s);){if(Or(s)&&!gy(s))return s;s=ro(s)}return n}let r=$T(t,e);for(;r&&z5(r)&&gy(r);)r=$T(r,e);return r&&Hl(r)&&gy(r)&&!Ax(r)?n:r||W5(t)||n}const n3=async function(t){const e=this.getOffsetParent||VA,n=this.getDimensions,r=await n(t.floating);return{reference:t3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function r3(t){return Mr(t).direction==="rtl"}const s3={convertOffsetParentRelativeRectToViewportRelativeRect:G5,getDocumentElement:ms,getClippingRect:J5,getOffsetParent:VA,getElementRects:n3,getClientRects:K5,getDimensions:e3,getScale:wl,isElement:Or,isRTL:r3};function i3(t,e){let n=null,r;const s=ms(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:h,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const m=Vh(h),w=Vh(s.clientWidth-(c+f)),g=Vh(s.clientHeight-(h+p)),_=Vh(c),v={rootMargin:-m+"px "+-w+"px "+-g+"px "+-_+"px",threshold:Yn(0,eo(1,l))||1};let E=!0;function k(R){const O=R[0].intersectionRatio;if(O!==l){if(!E)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(k,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,v)}n.observe(t)}return o(!0),i}function o3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Nx(t),h=s||i?[...c?td(c):[],...td(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=c&&a?i3(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(b=>{let[v]=b;v&&v.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let w,g=l?la(t):null;l&&_();function _(){const b=la(t);g&&(b.x!==g.x||b.y!==g.y||b.width!==g.width||b.height!==g.height)&&n(),g=b,w=requestAnimationFrame(_)}return n(),()=>{var b;h.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const a3=F5,l3=U5,c3=M5,u3=$5,d3=V5,zT=O5,h3=B5,f3=(t,e,n)=>{const r=new Map,s={platform:s3,...n},i={...s.platform,_c:r};return D5(t,e,{...s,platform:i})};var yf=typeof document<"u"?x.useLayoutEffect:x.useEffect;function ip(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ip(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ip(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function LA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function WT(t,e){const n=LA(t);return Math.round(e*n)/n}function yy(t){const e=x.useRef(t);return yf(()=>{e.current=t}),e}function p3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,f]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=x.useState(r);ip(p,r)||m(r);const[w,g]=x.useState(null),[_,b]=x.useState(null),v=x.useCallback(F=>{F!==O.current&&(O.current=F,g(F))},[]),E=x.useCallback(F=>{F!==C.current&&(C.current=F,b(F))},[]),k=i||w,R=o||_,O=x.useRef(null),C=x.useRef(null),S=x.useRef(h),I=l!=null,N=yy(l),D=yy(s),j=yy(c),A=x.useCallback(()=>{if(!O.current||!C.current)return;const F={placement:e,strategy:n,middleware:p};D.current&&(F.platform=D.current),f3(O.current,C.current,F).then(H=>{const oe={...H,isPositioned:j.current!==!1};$.current&&!ip(S.current,oe)&&(S.current=oe,Ea.flushSync(()=>{f(oe)}))})},[p,e,n,D,j]);yf(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const $=x.useRef(!1);yf(()=>($.current=!0,()=>{$.current=!1}),[]),yf(()=>{if(k&&(O.current=k),R&&(C.current=R),k&&R){if(N.current)return N.current(k,R,A);A()}},[k,R,A,N,I]);const re=x.useMemo(()=>({reference:O,floating:C,setReference:v,setFloating:E}),[v,E]),G=x.useMemo(()=>({reference:k,floating:R}),[k,R]),se=x.useMemo(()=>{const F={position:n,left:0,top:0};if(!G.floating)return F;const H=WT(G.floating,h.x),oe=WT(G.floating,h.y);return a?{...F,transform:"translate("+H+"px, "+oe+"px)",...LA(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:oe}},[n,a,G.floating,h.x,h.y]);return x.useMemo(()=>({...h,update:A,refs:re,elements:G,floatingStyles:se}),[h,A,re,G,se])}const m3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?zT({element:r.current,padding:s}).fn(n):{}:r?zT({element:r,padding:s}).fn(n):{}}}},g3=(t,e)=>({...a3(t),options:[t,e]}),y3=(t,e)=>({...l3(t),options:[t,e]}),v3=(t,e)=>({...h3(t),options:[t,e]}),w3=(t,e)=>({...c3(t),options:[t,e]}),x3=(t,e)=>({...u3(t),options:[t,e]}),_3=(t,e)=>({...d3(t),options:[t,e]}),b3=(t,e)=>({...m3(t),options:[t,e]});var E3="Arrow",FA=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(Le.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});FA.displayName=E3;var T3=FA;function S3(t,e=[]){let n=[];function r(i,o){const a=x.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:m,...w}=f,g=(p==null?void 0:p[t][l])||a,_=x.useMemo(()=>w,Object.values(w));return u.jsx(g.Provider,{value:_,children:m})}function h(f,p){const m=(p==null?void 0:p[t][l])||a,w=x.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,C3(s,...e)]}function C3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function I3(t){const[e,n]=x.useState(void 0);return yn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jx="Popper",[UA,Rm]=S3(jx),[k3,BA]=UA(jx),$A=t=>{const{__scopePopper:e,children:n}=t,[r,s]=x.useState(null);return u.jsx(k3,{scope:e,anchor:r,onAnchorChange:s,children:n})};$A.displayName=jx;var zA="PopperAnchor",WA=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=BA(zA,n),o=x.useRef(null),a=ct(e,o);return x.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(Le.div,{...s,ref:a})});WA.displayName=zA;var Dx="PopperContent",[P3,A3]=UA(Dx),HA=x.forwardRef((t,e)=>{var de,Ue,Ze,Pe,Ee,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:w,...g}=t,_=BA(Dx,n),[b,v]=x.useState(null),E=ct(e,ut=>v(ut)),[k,R]=x.useState(null),O=I3(k),C=(O==null?void 0:O.width)??0,S=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(c)?c:[c],j=D.length>0,A={padding:N,boundary:D.filter(N3),altBoundary:j},{refs:$,floatingStyles:re,placement:G,isPositioned:se,middlewareData:F}=p3({strategy:"fixed",placement:I,whileElementsMounted:(...ut)=>o3(...ut,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[g3({mainAxis:s+S,alignmentAxis:o}),l&&y3({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?v3():void 0,...A}),l&&w3({...A}),x3({...A,apply:({elements:ut,rects:Dt,availableWidth:Hn,availableHeight:nn})=>{const{width:Wr,height:M}=Dt.reference,V=ut.floating.style;V.setProperty("--radix-popper-available-width",`${Hn}px`),V.setProperty("--radix-popper-available-height",`${nn}px`),V.setProperty("--radix-popper-anchor-width",`${Wr}px`),V.setProperty("--radix-popper-anchor-height",`${M}px`)}}),k&&b3({element:k,padding:a}),j3({arrowWidth:C,arrowHeight:S}),p&&_3({strategy:"referenceHidden",...A})]}),[H,oe]=KA(G),K=Bn(w);yn(()=>{se&&(K==null||K())},[se,K]);const ae=(de=F.arrow)==null?void 0:de.x,pe=(Ue=F.arrow)==null?void 0:Ue.y,$e=((Ze=F.arrow)==null?void 0:Ze.centerOffset)!==0,[tt,be]=x.useState();return yn(()=>{b&&be(window.getComputedStyle(b).zIndex)},[b]),u.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:se?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tt,"--radix-popper-transform-origin":[(Pe=F.transformOrigin)==null?void 0:Pe.x,(Ee=F.transformOrigin)==null?void 0:Ee.y].join(" "),...((Oe=F.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(P3,{scope:n,placedSide:H,onArrowChange:R,arrowX:ae,arrowY:pe,shouldHideArrow:$e,children:u.jsx(Le.div,{"data-side":H,"data-align":oe,...g,ref:E,style:{...g.style,animation:se?void 0:"none"}})})})});HA.displayName=Dx;var qA="PopperArrow",R3={top:"bottom",right:"left",bottom:"top",left:"right"},GA=x.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=A3(qA,r),o=R3[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(T3,{...s,ref:n,style:{...s.style,display:"block"}})})});GA.displayName=qA;function N3(t){return t!==null}var j3=t=>({name:"transformOrigin",options:t,fn(e){var _,b,v;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=KA(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let w="",g="";return c==="bottom"?(w=o?f:`${p}px`,g=`${-l}px`):c==="top"?(w=o?f:`${p}px`,g=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,g=o?f:`${m}px`):c==="left"&&(w=`${r.floating.width+l}px`,g=o?f:`${m}px`),{data:{x:w,y:g}}}});function KA(t){const[e,n="center"]=t.split("-");return[e,n]}var QA=$A,YA=WA,XA=HA,ZA=GA,[Nm,Rte]=Ad("Tooltip",[Rm]),jm=Rm(),JA="TooltipProvider",D3=700,h0="tooltip.open",[O3,Ox]=Nm(JA),eR=t=>{const{__scopeTooltip:e,delayDuration:n=D3,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=x.useState(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),u.jsx(O3,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:i})};eR.displayName=JA;var Dm="Tooltip",[M3,Om]=Nm(Dm),tR=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=Ox(Dm,t.__scopeTooltip),c=jm(e),[h,f]=x.useState(null),p=Ms(),m=x.useRef(0),w=o??l.disableHoverableContent,g=a??l.delayDuration,_=x.useRef(!1),[b=!1,v]=aa({prop:r,defaultProp:s,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(h0))):l.onClose(),i==null||i(C)}}),E=x.useMemo(()=>b?_.current?"delayed-open":"instant-open":"closed",[b]),k=x.useCallback(()=>{window.clearTimeout(m.current),m.current=0,_.current=!1,v(!0)},[v]),R=x.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),O=x.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{_.current=!0,v(!0),m.current=0},g)},[g,v]);return x.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),u.jsx(QA,{...c,children:u.jsx(M3,{scope:e,contentId:p,open:b,stateAttribute:E,trigger:h,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{l.isOpenDelayed?O():k()},[l.isOpenDelayed,O,k]),onTriggerLeave:x.useCallback(()=>{w?R():(window.clearTimeout(m.current),m.current=0)},[R,w]),onOpen:k,onClose:R,disableHoverableContent:w,children:n})})};tR.displayName=Dm;var f0="TooltipTrigger",nR=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Om(f0,n),i=Ox(f0,n),o=jm(n),a=x.useRef(null),l=ct(e,a,s.onTriggerChange),c=x.useRef(!1),h=x.useRef(!1),f=x.useCallback(()=>c.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(YA,{asChild:!0,...o,children:u.jsx(Le.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ve(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ve(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ve(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ve(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ve(t.onBlur,s.onClose),onClick:ve(t.onClick,s.onClose)})})});nR.displayName=f0;var V3="TooltipPortal",[Nte,L3]=Nm(V3,{forceMount:void 0}),ql="TooltipContent",rR=x.forwardRef((t,e)=>{const n=L3(ql,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Om(ql,t.__scopeTooltip);return u.jsx(Ta,{present:r||o.open,children:o.disableHoverableContent?u.jsx(sR,{side:s,...i,ref:e}):u.jsx(F3,{side:s,...i,ref:e})})}),F3=x.forwardRef((t,e)=>{const n=Om(ql,t.__scopeTooltip),r=Ox(ql,t.__scopeTooltip),s=x.useRef(null),i=ct(e,s),[o,a]=x.useState(null),{trigger:l,onClose:c}=n,h=s.current,{onPointerInTransitChange:f}=r,p=x.useCallback(()=>{a(null),f(!1)},[f]),m=x.useCallback((w,g)=>{const _=w.currentTarget,b={x:w.clientX,y:w.clientY},v=z3(b,_.getBoundingClientRect()),E=W3(b,v),k=H3(g.getBoundingClientRect()),R=G3([...E,...k]);a(R),f(!0)},[f]);return x.useEffect(()=>()=>p(),[p]),x.useEffect(()=>{if(l&&h){const w=_=>m(_,h),g=_=>m(_,l);return l.addEventListener("pointerleave",w),h.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",g)}}},[l,h,m,p]),x.useEffect(()=>{if(o){const w=g=>{const _=g.target,b={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(_))||(h==null?void 0:h.contains(_)),E=!q3(b,o);v?p():E&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,h,o,c,p]),u.jsx(sR,{...t,ref:i})}),[U3,B3]=Nm(Dm,{isInside:!1}),sR=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Om(ql,n),c=jm(n),{onClose:h}=l;return x.useEffect(()=>(document.addEventListener(h0,h),()=>document.removeEventListener(h0,h)),[h]),x.useEffect(()=>{if(l.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),u.jsx(Rd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:u.jsxs(XA,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(WP,{children:r}),u.jsx(U3,{scope:n,isInside:!0,children:u.jsx(T4,{id:l.contentId,role:"tooltip",children:s||r})})]})})});rR.displayName=ql;var iR="TooltipArrow",$3=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=jm(n);return B3(iR,n).isInside?null:u.jsx(ZA,{...s,...r,ref:e})});$3.displayName=iR;function z3(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function W3(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function H3(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function q3(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,h=e[o].y;l>r!=h>r&&n<(c-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function G3(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),K3(e)}function K3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Q3=eR,Y3=tR,X3=nR,oR=rR;const p0=Q3,HT=Y3,qT=X3,m0=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(oR,{ref:r,sideOffset:e,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));m0.displayName=oR.displayName;var Mm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vm=typeof window>"u"||"Deno"in globalThis;function Cr(){}function Z3(t,e){return typeof t=="function"?t(e):t}function J3(t){return typeof t=="number"&&t>=0&&t!==1/0}function eB(t,e){return Math.max(t+(e||0)-Date.now(),0)}function GT(t,e){return typeof t=="function"?t(e):t}function tB(t,e){return typeof t=="function"?t(e):t}function KT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Mx(o,e.options))return!1}else if(!rd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function QT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(nd(e.options.mutationKey)!==nd(i))return!1}else if(!rd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Mx(t,e){return((e==null?void 0:e.queryKeyHashFn)||nd)(t)}function nd(t){return JSON.stringify(t,(e,n)=>g0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function rd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!rd(t[n],e[n])):!1}function aR(t,e){if(t===e)return t;const n=YT(t)&&YT(e);if(n||g0(t)&&g0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const h=n?c:i[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=aR(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function YT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function g0(t){if(!XT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!XT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function XT(t){return Object.prototype.toString.call(t)==="[object Object]"}function nB(t){return new Promise(e=>{setTimeout(e,t)})}function rB(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?aR(t,e):e}function sB(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function iB(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Vx=Symbol();function lR(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Vx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var qo,Ii,Il,wI,oB=(wI=class extends Mm{constructor(){super();Je(this,qo);Je(this,Ii);Je(this,Il);Fe(this,Il,e=>{if(!Vm&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,Ii)||this.setEventListener(W(this,Il))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Ii))==null||e.call(this),Fe(this,Ii,void 0))}setEventListener(e){var n;Fe(this,Il,e),(n=W(this,Ii))==null||n.call(this),Fe(this,Ii,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){W(this,qo)!==e&&(Fe(this,qo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof W(this,qo)=="boolean"?W(this,qo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},qo=new WeakMap,Ii=new WeakMap,Il=new WeakMap,wI),cR=new oB,kl,ki,Pl,xI,aB=(xI=class extends Mm{constructor(){super();Je(this,kl,!0);Je(this,ki);Je(this,Pl);Fe(this,Pl,e=>{if(!Vm&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,ki)||this.setEventListener(W(this,Pl))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,ki))==null||e.call(this),Fe(this,ki,void 0))}setEventListener(e){var n;Fe(this,Pl,e),(n=W(this,ki))==null||n.call(this),Fe(this,ki,e(this.setOnline.bind(this)))}setOnline(e){W(this,kl)!==e&&(Fe(this,kl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return W(this,kl)}},kl=new WeakMap,ki=new WeakMap,Pl=new WeakMap,xI),op=new aB;function lB(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function cB(t){return Math.min(1e3*2**t,3e4)}function uR(t){return(t??"online")==="online"?op.isOnline():!0}var dR=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function vy(t){return t instanceof dR}function hR(t){let e=!1,n=0,r=!1,s;const i=lB(),o=g=>{var _;r||(p(new dR(g)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>cR.isFocused()&&(t.networkMode==="always"||op.isOnline())&&t.canRun(),h=()=>uR(t.networkMode)&&t.canRun(),f=g=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,g),s==null||s(),i.resolve(g))},p=g=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var _;s=b=>{(r||c())&&g(b)},(_=t.onPause)==null||_.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),w=()=>{if(r)return;let g;const _=n===0?t.initialPromise:void 0;try{g=_??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var O;if(r)return;const v=t.retry??(Vm?0:3),E=t.retryDelay??cB,k=typeof E=="function"?E(n,b):E,R=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,b);if(e||!R){p(b);return}n++,(O=t.onFail)==null||O.call(t,n,b),nB(k).then(()=>c()?void 0:m()).then(()=>{e?p(b):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?w():m().then(w),i)}}function uB(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var In=uB(),Go,_I,fR=(_I=class{constructor(){Je(this,Go)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),J3(this.gcTime)&&Fe(this,Go,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Vm?1/0:5*60*1e3))}clearGcTimeout(){W(this,Go)&&(clearTimeout(W(this,Go)),Fe(this,Go,void 0))}},Go=new WeakMap,_I),Al,Rl,cr,dn,Ed,Ko,Ir,Es,bI,dB=(bI=class extends fR{constructor(n){super();Je(this,Ir);Je(this,Al);Je(this,Rl);Je(this,cr);Je(this,dn);Je(this,Ed);Je(this,Ko);Fe(this,Ko,!1),Fe(this,Ed,n.defaultOptions),this.setOptions(n.options),this.observers=[],Fe(this,cr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Fe(this,Al,fB(this.options)),this.state=n.state??W(this,Al),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=W(this,dn))==null?void 0:n.promise}setOptions(n){this.options={...W(this,Ed),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,cr).remove(this)}setData(n,r){const s=rB(this.state.data,n,this.options);return an(this,Ir,Es).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){an(this,Ir,Es).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=W(this,dn))==null?void 0:s.promise;return(i=W(this,dn))==null||i.cancel(n),r?r.then(Cr).catch(Cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Al))}isActive(){return this.observers.some(n=>tB(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!eB(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=W(this,dn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=W(this,dn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),W(this,cr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(W(this,dn)&&(W(this,Ko)?W(this,dn).cancel({revert:!0}):W(this,dn).cancelRetry()),this.scheduleGc()),W(this,cr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||an(this,Ir,Es).call(this,{type:"invalidate"})}fetch(n,r){var c,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,dn))return W(this,dn).continueRetry(),W(this,dn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Fe(this,Ko,!0),s.signal)})},o=()=>{const p=lR(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return i(m),Fe(this,Ko,!1),this.options.persister?this.options.persister(p,m,this):p(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Fe(this,Rl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&an(this,Ir,Es).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var m,w,g,_;vy(p)&&p.silent||an(this,Ir,Es).call(this,{type:"error",error:p}),vy(p)||((w=(m=W(this,cr).config).onError)==null||w.call(m,p,this),(_=(g=W(this,cr).config).onSettled)==null||_.call(g,this.state.data,p,this)),this.scheduleGc()};return Fe(this,dn,hR({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var m,w,g,_;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(b){l(b);return}(w=(m=W(this,cr).config).onSuccess)==null||w.call(m,p,this),(_=(g=W(this,cr).config).onSettled)==null||_.call(g,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{an(this,Ir,Es).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{an(this,Ir,Es).call(this,{type:"pause"})},onContinue:()=>{an(this,Ir,Es).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),W(this,dn).start()}},Al=new WeakMap,Rl=new WeakMap,cr=new WeakMap,dn=new WeakMap,Ed=new WeakMap,Ko=new WeakMap,Ir=new WeakSet,Es=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...hB(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return vy(i)&&i.revert&&W(this,Rl)?{...W(this,Rl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),In.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),W(this,cr).notify({query:this,type:"updated",action:n})})},bI);function hB(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fB(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Yr,EI,pB=(EI=class extends Mm{constructor(e={}){super();Je(this,Yr);this.config=e,Fe(this,Yr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Mx(s,n);let o=this.get(i);return o||(o=new dB({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){W(this,Yr).has(e.queryHash)||(W(this,Yr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=W(this,Yr).get(e.queryHash);n&&(e.destroy(),n===e&&W(this,Yr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){In.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,Yr).get(e)}getAll(){return[...W(this,Yr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>KT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>KT(e,r)):n}notify(e){In.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){In.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){In.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Yr=new WeakMap,EI),Xr,bn,Qo,Zr,fi,TI,mB=(TI=class extends fR{constructor(n){super();Je(this,Zr);Je(this,Xr);Je(this,bn);Je(this,Qo);this.mutationId=n.mutationId,Fe(this,bn,n.mutationCache),Fe(this,Xr,[]),this.state=n.state||gB(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){W(this,Xr).includes(n)||(W(this,Xr).push(n),this.clearGcTimeout(),W(this,bn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Fe(this,Xr,W(this,Xr).filter(r=>r!==n)),this.scheduleGc(),W(this,bn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){W(this,Xr).length||(this.state.status==="pending"?this.scheduleGc():W(this,bn).remove(this))}continue(){var n;return((n=W(this,Qo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,h,f,p,m,w,g,_,b,v,E,k,R,O,C,S;Fe(this,Qo,hR({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,N)=>{an(this,Zr,fi).call(this,{type:"failed",failureCount:I,error:N})},onPause:()=>{an(this,Zr,fi).call(this,{type:"pause"})},onContinue:()=>{an(this,Zr,fi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,bn).canRun(this)}));const r=this.state.status==="pending",s=!W(this,Qo).canStart();try{if(!r){an(this,Zr,fi).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=W(this,bn).config).onMutate)==null?void 0:o.call(i,n,this));const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));N!==this.state.context&&an(this,Zr,fi).call(this,{type:"pending",context:N,variables:n,isPaused:s})}const I=await W(this,Qo).start();return await((h=(c=W(this,bn).config).onSuccess)==null?void 0:h.call(c,I,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,n,this.state.context)),await((w=(m=W(this,bn).config).onSettled)==null?void 0:w.call(m,I,null,this.state.variables,this.state.context,this)),await((_=(g=this.options).onSettled)==null?void 0:_.call(g,I,null,n,this.state.context)),an(this,Zr,fi).call(this,{type:"success",data:I}),I}catch(I){try{throw await((v=(b=W(this,bn).config).onError)==null?void 0:v.call(b,I,n,this.state.context,this)),await((k=(E=this.options).onError)==null?void 0:k.call(E,I,n,this.state.context)),await((O=(R=W(this,bn).config).onSettled)==null?void 0:O.call(R,void 0,I,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,I,n,this.state.context)),I}finally{an(this,Zr,fi).call(this,{type:"error",error:I})}}finally{W(this,bn).runNext(this)}}},Xr=new WeakMap,bn=new WeakMap,Qo=new WeakMap,Zr=new WeakSet,fi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),In.batch(()=>{W(this,Xr).forEach(s=>{s.onMutationUpdate(n)}),W(this,bn).notify({mutation:this,type:"updated",action:n})})},TI);function gB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gn,Td,SI,yB=(SI=class extends Mm{constructor(e={}){super();Je(this,Gn);Je(this,Td);this.config=e,Fe(this,Gn,new Map),Fe(this,Td,Date.now())}build(e,n,r){const s=new mB({mutationCache:this,mutationId:++gh(this,Td)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Lh(e),r=W(this,Gn).get(n)??[];r.push(e),W(this,Gn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Lh(e);if(W(this,Gn).has(n)){const s=(r=W(this,Gn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?W(this,Gn).delete(n):W(this,Gn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=W(this,Gn).get(Lh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=W(this,Gn).get(Lh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){In.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...W(this,Gn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>QT(n,r))}findAll(e={}){return this.getAll().filter(n=>QT(e,n))}notify(e){In.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return In.batch(()=>Promise.all(e.map(n=>n.continue().catch(Cr))))}},Gn=new WeakMap,Td=new WeakMap,SI);function Lh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ZT(t){return{onFetch:(e,n)=>{var h,f,p,m,w;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const _=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=lR(e.options,e.fetchOptions),v=async(E,k,R)=>{if(g)return Promise.reject();if(k==null&&E.pages.length)return Promise.resolve(E);const O={queryKey:e.queryKey,pageParam:k,direction:R?"backward":"forward",meta:e.options.meta};_(O);const C=await b(O),{maxPages:S}=e.options,I=R?iB:sB;return{pages:I(E.pages,C,S),pageParams:I(E.pageParams,k,S)}};if(s&&i.length){const E=s==="backward",k=E?vB:JT,R={pages:i,pageParams:o},O=k(r,R);a=await v(R,O,E)}else{const E=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:JT(r,a);if(l>0&&k==null)break;a=await v(a,k),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var g,_;return(_=(g=e.options).persister)==null?void 0:_.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function JT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function vB(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var St,Pi,Ai,Nl,jl,Ri,Dl,Ol,CI,wB=(CI=class{constructor(t={}){Je(this,St);Je(this,Pi);Je(this,Ai);Je(this,Nl);Je(this,jl);Je(this,Ri);Je(this,Dl);Je(this,Ol);Fe(this,St,t.queryCache||new pB),Fe(this,Pi,t.mutationCache||new yB),Fe(this,Ai,t.defaultOptions||{}),Fe(this,Nl,new Map),Fe(this,jl,new Map),Fe(this,Ri,0)}mount(){gh(this,Ri)._++,W(this,Ri)===1&&(Fe(this,Dl,cR.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,St).onFocus())})),Fe(this,Ol,op.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,St).onOnline())})))}unmount(){var t,e;gh(this,Ri)._--,W(this,Ri)===0&&((t=W(this,Dl))==null||t.call(this),Fe(this,Dl,void 0),(e=W(this,Ol))==null||e.call(this),Fe(this,Ol,void 0))}isFetching(t){return W(this,St).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,Pi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,St).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=W(this,St).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(GT(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return W(this,St).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=W(this,St).get(r.queryHash),i=s==null?void 0:s.state.data,o=Z3(e,i);if(o!==void 0)return W(this,St).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return In.batch(()=>W(this,St).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,St).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=W(this,St);In.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=W(this,St),r={type:"active",...t};return In.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=In.batch(()=>W(this,St).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Cr).catch(Cr)}invalidateQueries(t={},e={}){return In.batch(()=>{if(W(this,St).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=In.batch(()=>W(this,St).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Cr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Cr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=W(this,St).build(this,e);return n.isStaleByTime(GT(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Cr).catch(Cr)}fetchInfiniteQuery(t){return t.behavior=ZT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Cr).catch(Cr)}ensureInfiniteQueryData(t){return t.behavior=ZT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return op.isOnline()?W(this,Pi).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,St)}getMutationCache(){return W(this,Pi)}getDefaultOptions(){return W(this,Ai)}setDefaultOptions(t){Fe(this,Ai,t)}setQueryDefaults(t,e){W(this,Nl).set(nd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,Nl).values()];let n={};return e.forEach(r=>{rd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){W(this,jl).set(nd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,jl).values()];let n={};return e.forEach(r=>{rd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,Ai).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Mx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Vx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,Ai).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,St).clear(),W(this,Pi).clear()}},St=new WeakMap,Pi=new WeakMap,Ai=new WeakMap,Nl=new WeakMap,jl=new WeakMap,Ri=new WeakMap,Dl=new WeakMap,Ol=new WeakMap,CI),xB=x.createContext(void 0),_B=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(xB.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}var Di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Di||(Di={}));const e1="popstate";function bB(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return y0("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ap(s)}return TB(e,n,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EB(){return Math.random().toString(36).substr(2,8)}function t1(t,e){return{usr:t.state,key:t.key,idx:e}}function y0(t,e,n,r){return n===void 0&&(n=null),sd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pc(e):e,{state:n,key:e&&e.key||r||EB()})}function ap(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function TB(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Di.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(sd({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Di.Pop;let _=h(),b=_==null?null:_-c;c=_,l&&l({action:a,location:g.location,delta:b})}function p(_,b){a=Di.Push;let v=y0(g.location,_,b);c=h()+1;let E=t1(v,c),k=g.createHref(v);try{o.pushState(E,"",k)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(k)}i&&l&&l({action:a,location:g.location,delta:1})}function m(_,b){a=Di.Replace;let v=y0(g.location,_,b);c=h();let E=t1(v,c),k=g.createHref(v);o.replaceState(E,"",k),i&&l&&l({action:a,location:g.location,delta:0})}function w(_){let b=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof _=="string"?_:ap(_);return v=v.replace(/ $/,"%20"),Nt(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let g={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(e1,f),l=_,()=>{s.removeEventListener(e1,f),l=null}},createHref(_){return e(s,_)},createURL:w,encodeLocation(_){let b=w(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:m,go(_){return o.go(_)}};return g}var n1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(n1||(n1={}));function SB(t,e,n){return n===void 0&&(n="/"),CB(t,e,n,!1)}function CB(t,e,n,r){let s=typeof e=="string"?pc(e):e,i=Lx(s.pathname||"/",n);if(i==null)return null;let o=mR(t);IB(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=LB(i);a=MB(o[l],c,r)}return a}function mR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Wi([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(Nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),mR(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:DB(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of gR(i.path))s(i,o,l)}),e}function gR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=gR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function IB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:OB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kB=/^:[\w-]+$/,PB=3,AB=2,RB=1,NB=10,jB=-2,r1=t=>t==="*";function DB(t,e){let n=t.split("/"),r=n.length;return n.some(r1)&&(r+=jB),e&&(r+=AB),n.filter(s=>!r1(s)).reduce((s,i)=>s+(kB.test(i)?PB:i===""?RB:NB),r)}function OB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function MB(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=s1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=s1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Wi([i,f.pathname]),pathnameBase:$B(Wi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Wi([i,f.pathnameBase]))}return o}function s1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VB(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:p,isOptional:m}=h;if(p==="*"){let g=a[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const w=a[f];return m&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function VB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function LB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?pc(t):t;return{pathname:n?n.startsWith("/")?n:UB(n,e):e,search:zB(r),hash:WB(s)}}function UB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fx(t,e){let n=BB(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ux(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=pc(t):(s=sd({},t),Nt(!s.pathname||!s.pathname.includes("?"),wy("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),wy("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),wy("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=FB(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Wi=t=>t.join("/").replace(/\/\/+/g,"/"),$B=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yR=["post","put","patch","delete"];new Set(yR);const qB=["get",...yR];new Set(qB);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},id.apply(this,arguments)}const Bx=x.createContext(null),GB=x.createContext(null),po=x.createContext(null),Lm=x.createContext(null),mo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),vR=x.createContext(null);function KB(t,e){let{relative:n}=e===void 0?{}:e;mc()||Nt(!1);let{basename:r,navigator:s}=x.useContext(po),{hash:i,pathname:o,search:a}=xR(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Wi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function mc(){return x.useContext(Lm)!=null}function Od(){return mc()||Nt(!1),x.useContext(Lm).location}function wR(t){x.useContext(po).static||x.useLayoutEffect(t)}function go(){let{isDataRoute:t}=x.useContext(mo);return t?a$():QB()}function QB(){mc()||Nt(!1);let t=x.useContext(Bx),{basename:e,future:n,navigator:r}=x.useContext(po),{matches:s}=x.useContext(mo),{pathname:i}=Od(),o=JSON.stringify(Fx(s,n.v7_relativeSplatPath)),a=x.useRef(!1);return wR(()=>{a.current=!0}),x.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Ux(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function xR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(po),{matches:s}=x.useContext(mo),{pathname:i}=Od(),o=JSON.stringify(Fx(s,r.v7_relativeSplatPath));return x.useMemo(()=>Ux(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function YB(t,e){return XB(t,e)}function XB(t,e,n,r){mc()||Nt(!1);let{navigator:s}=x.useContext(po),{matches:i}=x.useContext(mo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Od(),h;if(e){var f;let _=typeof e=="string"?pc(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||Nt(!1),h=_}else h=c;let p=h.pathname||"/",m=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=SB(t,{pathname:m}),g=n$(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Wi([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Wi([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&g?x.createElement(Lm.Provider,{value:{location:id({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Di.Pop}},g):g}function ZB(){let t=o$(),e=HB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,null)}const JB=x.createElement(ZB,null);class e$ extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(mo.Provider,{value:this.props.routeContext},x.createElement(vR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t$(t){let{routeContext:e,match:n,children:r}=t,s=x.useContext(Bx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(mo.Provider,{value:e},r)}function n$(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Nt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:m}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let m,w=!1,g=null,_=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||JB,l&&(c<0&&p===0?(w=!0,_=null):c===p&&(w=!0,_=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),v=()=>{let E;return m?E=g:w?E=_:f.route.Component?E=x.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,x.createElement(t$,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?x.createElement(e$,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var _R=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_R||{}),lp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lp||{});function r$(t){let e=x.useContext(Bx);return e||Nt(!1),e}function s$(t){let e=x.useContext(GB);return e||Nt(!1),e}function i$(t){let e=x.useContext(mo);return e||Nt(!1),e}function bR(t){let e=i$(),n=e.matches[e.matches.length-1];return n.route.id||Nt(!1),n.route.id}function o$(){var t;let e=x.useContext(vR),n=s$(lp.UseRouteError),r=bR(lp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function a$(){let{router:t}=r$(_R.UseNavigateStable),e=bR(lp.UseNavigateStable),n=x.useRef(!1);return wR(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,id({fromRouteId:e},i)))},[t,e])}function v0(t){let{to:e,replace:n,state:r,relative:s}=t;mc()||Nt(!1);let{future:i,static:o}=x.useContext(po),{matches:a}=x.useContext(mo),{pathname:l}=Od(),c=go(),h=Ux(e,Fx(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return x.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function ar(t){Nt(!1)}function l$(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Di.Pop,navigator:i,static:o=!1,future:a}=t;mc()&&Nt(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:i,static:o,future:id({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=pc(r));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:w="default"}=r,g=x.useMemo(()=>{let _=Lx(h,l);return _==null?null:{location:{pathname:_,search:f,hash:p,state:m,key:w},navigationType:s}},[l,h,f,p,m,w,s]);return g==null?null:x.createElement(po.Provider,{value:c},x.createElement(Lm.Provider,{children:n,value:g}))}function c$(t){let{children:e,location:n}=t;return YB(w0(e),n)}new Promise(()=>{});function w0(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let i=[...e,s];if(r.type===x.Fragment){n.push.apply(n,w0(r.props.children,i));return}r.type!==ar&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=w0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x0.apply(this,arguments)}function u$(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function d$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function h$(t,e){return t.button===0&&(!e||e==="_self")&&!d$(t)}const f$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p$="6";try{window.__reactRouterVersion=p$}catch{}const m$="startTransition",i1=LI[m$];function g$(t){let{basename:e,children:n,future:r,window:s}=t,i=x.useRef();i.current==null&&(i.current=bB({window:s,v5Compat:!0}));let o=i.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=x.useCallback(f=>{c&&i1?i1(()=>l(f)):l(f)},[l,c]);return x.useLayoutEffect(()=>o.listen(h),[o,h]),x.createElement(l$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const y$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=x.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,p=u$(e,f$),{basename:m}=x.useContext(po),w,g=!1;if(typeof c=="string"&&v$.test(c)&&(w=c,y$))try{let E=new URL(window.location.href),k=c.startsWith("//")?new URL(E.protocol+c):new URL(c),R=Lx(k.pathname,m);k.origin===E.origin&&R!=null?c=R+k.search+k.hash:g=!0}catch{}let _=KB(c,{relative:s}),b=w$(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function v(E){r&&r(E),E.defaultPrevented||b(E)}return x.createElement("a",x0({},p,{href:w||_,onClick:g||i?r:v,ref:n,target:l}))});var o1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(o1||(o1={}));var a1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(a1||(a1={}));function w$(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=go(),c=Od(),h=xR(t,{relative:o});return x.useCallback(f=>{if(h$(f,n)){f.preventDefault();let p=r!==void 0?r:ap(c)===ap(h);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,h,r,s,n,t,i,o,a])}var l1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},x$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},TR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[h],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ER(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new _$;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b$=function(t){const e=ER(t);return TR.encodeByteArray(e,!0)},cp=function(t){return b$(t).replace(/\./g,"")},SR=function(t){try{return TR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=()=>E$().__FIREBASE_DEFAULTS__,S$=()=>{if(typeof process>"u"||typeof l1>"u")return;const t=l1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},C$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SR(t[1]);return e&&JSON.parse(e)},Fm=()=>{try{return T$()||S$()||C$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CR=t=>{var e,n;return(n=(e=Fm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},I$=t=>{const e=CR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},IR=()=>{var t;return(t=Fm())===null||t===void 0?void 0:t.config},kR=t=>{var e;return(e=Fm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cp(JSON.stringify(n)),cp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function R$(){var t;const e=(t=Fm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D$(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O$(){return!R$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AR(){try{return typeof indexedDB=="object"}catch{return!1}}function RR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function M$(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$="FirebaseError";class Ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V$,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sa.prototype.create)}}class Sa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?L$(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ur(s,a,r)}}function L$(t,e){return t.replace(F$,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const F$=/\{\$([^}]+)}/g;function U$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function od(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(c1(i)&&c1(o)){if(!od(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function c1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ru(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function B$(t,e){const n=new $$(t,e);return n.subscribe.bind(n)}class $${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");z$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=xy),s.error===void 0&&(s.error=xy),s.complete===void 0&&(s.complete=xy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=1e3,H$=2,q$=4*60*60*1e3,G$=.5;function u1(t,e=W$,n=H$){const r=e*Math.pow(n,t),s=Math.round(G$*r*(Math.random()-.5)*2);return Math.min(q$,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t){return t&&t._delegate?t._delegate:t}class Vr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new k$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y$(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q$(t){return t===Ao?void 0:t}function Y$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const Z$={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},J$=qe.INFO,e6={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},t6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=e6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=J$,this._logHandler=t6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const n6=(t,e)=>e.some(n=>t instanceof n);let d1,h1;function r6(){return d1||(d1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s6(){return h1||(h1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NR=new WeakMap,_0=new WeakMap,jR=new WeakMap,_y=new WeakMap,$x=new WeakMap;function i6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Hi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NR.set(n,t)}).catch(()=>{}),$x.set(e,t),e}function o6(t){if(_0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});_0.set(t,e)}let b0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function a6(t){b0=t(b0)}function l6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(by(this),e,...n);return jR.set(r,e.sort?e.sort():[e]),Hi(r)}:s6().includes(t)?function(...e){return t.apply(by(this),e),Hi(NR.get(this))}:function(...e){return Hi(t.apply(by(this),e))}}function c6(t){return typeof t=="function"?l6(t):(t instanceof IDBTransaction&&o6(t),n6(t,r6())?new Proxy(t,b0):t)}function Hi(t){if(t instanceof IDBRequest)return i6(t);if(_y.has(t))return _y.get(t);const e=c6(t);return e!==t&&(_y.set(t,e),$x.set(e,t)),e}const by=t=>$x.get(t);function DR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Hi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Hi(o.result),l.oldVersion,l.newVersion,Hi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const u6=["get","getKey","getAll","getAllKeys","count"],d6=["put","add","delete","clear"],Ey=new Map;function f1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ey.get(e))return Ey.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=d6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||u6.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Ey.set(e,i),i}a6(t=>({...t,get:(e,n,r)=>f1(e,n)||t.get(e,n,r),has:(e,n)=>!!f1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function f6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const E0="@firebase/app",p1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new Um("@firebase/app"),p6="@firebase/app-compat",m6="@firebase/analytics-compat",g6="@firebase/analytics",y6="@firebase/app-check-compat",v6="@firebase/app-check",w6="@firebase/auth",x6="@firebase/auth-compat",_6="@firebase/database",b6="@firebase/data-connect",E6="@firebase/database-compat",T6="@firebase/functions",S6="@firebase/functions-compat",C6="@firebase/installations",I6="@firebase/installations-compat",k6="@firebase/messaging",P6="@firebase/messaging-compat",A6="@firebase/performance",R6="@firebase/performance-compat",N6="@firebase/remote-config",j6="@firebase/remote-config-compat",D6="@firebase/storage",O6="@firebase/storage-compat",M6="@firebase/firestore",V6="@firebase/vertexai-preview",L6="@firebase/firestore-compat",F6="firebase",U6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="[DEFAULT]",B6={[E0]:"fire-core",[p6]:"fire-core-compat",[g6]:"fire-analytics",[m6]:"fire-analytics-compat",[v6]:"fire-app-check",[y6]:"fire-app-check-compat",[w6]:"fire-auth",[x6]:"fire-auth-compat",[_6]:"fire-rtdb",[b6]:"fire-data-connect",[E6]:"fire-rtdb-compat",[T6]:"fire-fn",[S6]:"fire-fn-compat",[C6]:"fire-iid",[I6]:"fire-iid-compat",[k6]:"fire-fcm",[P6]:"fire-fcm-compat",[A6]:"fire-perf",[R6]:"fire-perf-compat",[N6]:"fire-rc",[j6]:"fire-rc-compat",[D6]:"fire-gcs",[O6]:"fire-gcs-compat",[M6]:"fire-fst",[L6]:"fire-fst-compat",[V6]:"fire-vertex","fire-js":"fire-js",[F6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=new Map,$6=new Map,S0=new Map;function m1(t,e){try{t.container.addComponent(e)}catch(n){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hs(t){const e=t.name;if(S0.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;S0.set(e,t);for(const n of up.values())m1(n,t);for(const n of $6.values())m1(n,t);return!0}function Ca(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ts(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new Sa("app","Firebase",z6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=U6;function OR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:T0,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw qi.create("bad-app-name",{appName:String(s)});if(n||(n=IR()),!n)throw qi.create("no-options");const i=up.get(s);if(i){if(od(n,i.options)&&od(r,i.config))return i;throw qi.create("duplicate-app",{appName:s})}const o=new X$(s);for(const l of S0.values())o.addComponent(l);const a=new W6(n,r,o);return up.set(s,a),a}function zx(t=T0){const e=up.get(t);if(!e&&t===T0&&IR())return OR();if(!e)throw qi.create("no-app",{appName:t});return e}function gr(t,e,n){var r;let s=(r=B6[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qs.warn(a.join(" "));return}hs(new Vr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="firebase-heartbeat-database",q6=1,ad="firebase-heartbeat-store";let Ty=null;function MR(){return Ty||(Ty=DR(H6,q6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ad)}catch(n){console.warn(n)}}}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),Ty}async function G6(t){try{const n=(await MR()).transaction(ad),r=await n.objectStore(ad).get(VR(t));return await n.done,r}catch(e){if(e instanceof Ur)Qs.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qs.warn(n.message)}}}async function g1(t,e){try{const r=(await MR()).transaction(ad,"readwrite");await r.objectStore(ad).put(e,VR(t)),await r.done}catch(n){if(n instanceof Ur)Qs.warn(n.message);else{const r=qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qs.warn(r.message)}}}function VR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=1024,Q6=30*24*60*60*1e3;class Y6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Z6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=y1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Q6}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Qs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y1(),{heartbeatsToSend:r,unsentEntries:s}=X6(this._heartbeatsCache.heartbeats),i=cp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Qs.warn(n),""}}}function y1(){return new Date().toISOString().substring(0,10)}function X6(t,e=K6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),v1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),v1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Z6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AR()?RR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return g1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return g1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function v1(t){return cp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){hs(new Vr("platform-logger",e=>new h6(e),"PRIVATE")),hs(new Vr("heartbeat",e=>new Y6(e),"PRIVATE")),gr(E0,p1,t),gr(E0,p1,"esm2017"),gr("fire-js","")}J6("");var e9="firebase",t9="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(e9,t9,"app");const LR="@firebase/installations",Wx="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=1e4,UR=`w:${Wx}`,BR="FIS_v2",n9="https://firebaseinstallations.googleapis.com/v1",r9=60*60*1e3,s9="installations",i9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ca=new Sa(s9,i9,o9);function $R(t){return t instanceof Ur&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR({projectId:t}){return`${n9}/projects/${t}/installations`}function WR(t){return{token:t.token,requestStatus:2,expiresIn:l9(t.expiresIn),creationTime:Date.now()}}async function HR(t,e){const r=(await e.json()).error;return ca.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function qR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function a9(t,{refreshToken:e}){const n=qR(t);return n.append("Authorization",c9(e)),n}async function GR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function l9(t){return Number(t.replace("s","000"))}function c9(t){return`${BR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=zR(t),s=qR(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:BR,appId:t.appId,sdkVersion:UR},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await GR(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:WR(c.authToken)}}else throw await HR("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=/^[cdef][\w-]{21}$/,C0="";function f9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=p9(t);return h9.test(n)?n:C0}catch{return C0}}function p9(t){return d9(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new Map;function YR(t,e){const n=Bm(t);XR(n,e),m9(n,e)}function XR(t,e){const n=QR.get(t);if(n)for(const r of n)r(e)}function m9(t,e){const n=g9();n&&n.postMessage({key:t,fid:e}),y9()}let Lo=null;function g9(){return!Lo&&"BroadcastChannel"in self&&(Lo=new BroadcastChannel("[Firebase] FID Change"),Lo.onmessage=t=>{XR(t.data.key,t.data.fid)}),Lo}function y9(){QR.size===0&&Lo&&(Lo.close(),Lo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9="firebase-installations-database",w9=1,ua="firebase-installations-store";let Sy=null;function Hx(){return Sy||(Sy=DR(v9,w9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ua)}}})),Sy}async function dp(t,e){const n=Bm(t),s=(await Hx()).transaction(ua,"readwrite"),i=s.objectStore(ua),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&YR(t,e.fid),e}async function ZR(t){const e=Bm(t),r=(await Hx()).transaction(ua,"readwrite");await r.objectStore(ua).delete(e),await r.done}async function $m(t,e){const n=Bm(t),s=(await Hx()).transaction(ua,"readwrite"),i=s.objectStore(ua),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&YR(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t){let e;const n=await $m(t.appConfig,r=>{const s=x9(r),i=_9(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===C0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function x9(t){const e=t||{fid:f9(),registrationStatus:0};return JR(e)}function _9(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ca.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=b9(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:E9(t)}:{installationEntry:e}}async function b9(t,e){try{const n=await u9(t,e);return dp(t.appConfig,n)}catch(n){throw $R(n)&&n.customData.serverCode===409?await ZR(t.appConfig):await dp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function E9(t){let e=await w1(t.appConfig);for(;e.registrationStatus===1;)await KR(100),e=await w1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await qx(t);return r||n}return e}function w1(t){return $m(t,e=>{if(!e)throw ca.create("installation-not-found");return JR(e)})}function JR(t){return T9(t)?{fid:t.fid,registrationStatus:0}:t}function T9(t){return t.registrationStatus===1&&t.registrationTime+FR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9({appConfig:t,heartbeatServiceProvider:e},n){const r=C9(t,n),s=a9(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:UR,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await GR(()=>fetch(r,a));if(l.ok){const c=await l.json();return WR(c)}else throw await HR("Generate Auth Token",l)}function C9(t,{fid:e}){return`${zR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(t,e=!1){let n;const r=await $m(t.appConfig,i=>{if(!eN(i))throw ca.create("not-registered");const o=i.authToken;if(!e&&P9(o))return i;if(o.requestStatus===1)return n=I9(t,e),i;{if(!navigator.onLine)throw ca.create("app-offline");const a=R9(i);return n=k9(t,a),a}});return n?await n:r.authToken}async function I9(t,e){let n=await x1(t.appConfig);for(;n.authToken.requestStatus===1;)await KR(100),n=await x1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Gx(t,e):r}function x1(t){return $m(t,e=>{if(!eN(e))throw ca.create("not-registered");const n=e.authToken;return N9(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function k9(t,e){try{const n=await S9(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await dp(t.appConfig,r),n}catch(n){if($R(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ZR(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await dp(t.appConfig,r)}throw n}}function eN(t){return t!==void 0&&t.registrationStatus===2}function P9(t){return t.requestStatus===2&&!A9(t)}function A9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+r9}function R9(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function N9(t){return t.requestStatus===1&&t.requestTime+FR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j9(t){const e=t,{installationEntry:n,registrationPromise:r}=await qx(e);return r?r.catch(console.error):Gx(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e=!1){const n=t;return await O9(n),(await Gx(n,e)).token}async function O9(t){const{registrationPromise:e}=await qx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){if(!t||!t.options)throw Cy("App Configuration");if(!t.name)throw Cy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Cy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Cy(t){return ca.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="installations",V9="installations-internal",L9=t=>{const e=t.getProvider("app").getImmediate(),n=M9(e),r=Ca(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},F9=t=>{const e=t.getProvider("app").getImmediate(),n=Ca(e,tN).getImmediate();return{getId:()=>j9(n),getToken:s=>D9(n,s)}};function U9(){hs(new Vr(tN,L9,"PUBLIC")),hs(new Vr(V9,F9,"PRIVATE"))}U9();gr(LR,Wx);gr(LR,Wx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="analytics",B9="firebase_id",$9="origin",z9=60*1e3,W9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=new Um("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},tr=new Sa("analytics","Analytics",H9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(t){if(!t.startsWith(Kx)){const e=tr.create("invalid-gtag-resource",{gtagURL:t});return Un.warn(e.message),""}return t}function nN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function G9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function K9(t,e){const n=G9("firebase-js-sdk-policy",{createScriptURL:q9}),r=document.createElement("script"),s=`${Kx}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Q9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Y9(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await nN(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){Un.error(a)}t("config",s,i)}async function X9(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await nN(n);for(const l of o){const c=a.find(f=>f.measurementId===l),h=c&&e[c.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Un.error(i)}}function Z9(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await X9(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await Y9(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Un.error(a)}}return s}function J9(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=Z9(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function ez(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Kx)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=30,nz=1e3;class rz{constructor(e={},n=nz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const rN=new rz;function sz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function iz(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:sz(r)},i=W9.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw tr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function oz(t,e=rN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw tr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw tr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new cz;return setTimeout(async()=>{a.abort()},z9),sN({appId:r,apiKey:s,measurementId:i},o,a,e)}async function sN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=rN){var i;const{appId:o,measurementId:a}=t;try{await az(r,e)}catch(l){if(a)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await iz(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!lz(c)){if(s.deleteThrottleMetadata(o),a)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const h=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?u1(n,s.intervalMillis,tz):u1(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(o,f),Un.debug(`Calling attemptFetch again in ${h} millis`),sN(t,f,r,s)}}function az(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(tr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function lz(t){if(!(t instanceof Ur)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class cz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function uz(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(){if(AR())try{await RR()}catch(t){return Un.warn(tr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Un.warn(tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function hz(t,e,n,r,s,i,o){var a;const l=oz(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Un.error(m)),e.push(l);const c=dz().then(m=>{if(m)return r.getId()}),[h,f]=await Promise.all([l,c]);ez(i)||K9(i,h.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[$9]="firebase",p.update=!0,f!=null&&(p[B9]=f),s("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.app=e}_delete(){return delete Eu[this.app.options.appId],Promise.resolve()}}let Eu={},_1=[];const b1={};let Iy="dataLayer",pz="gtag",E1,iN,T1=!1;function mz(){const t=[];if(PR()&&t.push("This is a browser extension environment."),M$()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=tr.create("invalid-analytics-context",{errorInfo:e});Un.warn(n.message)}}function gz(t,e,n){mz();const r=t.options.appId;if(!r)throw tr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw tr.create("no-api-key");if(Eu[r]!=null)throw tr.create("already-exists",{id:r});if(!T1){Q9(Iy);const{wrappedGtag:i,gtagCore:o}=J9(Eu,_1,b1,Iy,pz);iN=i,E1=o,T1=!0}return Eu[r]=hz(t,_1,b1,e,E1,Iy,n),new fz(t)}function yz(t=zx()){t=wn(t);const e=Ca(t,hp);return e.isInitialized()?e.getImmediate():vz(t)}function vz(t,e={}){const n=Ca(t,hp);if(n.isInitialized()){const s=n.getImmediate();if(od(e,n.getOptions()))return s;throw tr.create("already-initialized")}return n.initialize({options:e})}function wz(t,e,n,r){t=wn(t),uz(iN,Eu[t.app.options.appId],e,n,r).catch(s=>Un.error(s))}const S1="@firebase/analytics",C1="0.10.8";function xz(){hs(new Vr(hp,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return gz(r,s,n)},"PUBLIC")),hs(new Vr("analytics-internal",t,"PRIVATE")),gr(S1,C1),gr(S1,C1,"esm2017");function t(e){try{const n=e.getProvider(hp).getImmediate();return{logEvent:(r,s,i)=>wz(n,r,s,i)}}catch(n){throw tr.create("interop-component-reg-failed",{reason:n})}}}xz();var es=function(){return es=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},es.apply(this,arguments)};function Vd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _z(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function oN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bz=oN,aN=new Sa("auth","Firebase",oN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=new Um("@firebase/auth");function Ez(t,...e){fp.logLevel<=qe.WARN&&fp.warn(`Auth (${gc}): ${t}`,...e)}function vf(t,...e){fp.logLevel<=qe.ERROR&&fp.error(`Auth (${gc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,...e){throw Qx(t,...e)}function is(t,...e){return Qx(t,...e)}function lN(t,e,n){const r=Object.assign(Object.assign({},bz()),{[e]:n});return new Sa("auth","Firebase",r).create(e,{appName:t.name})}function Vs(t){return lN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aN.create(t,...e)}function xe(t,e,...n){if(!t)throw Qx(e,...n)}function Ps(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vf(e),new Error(e)}function Ys(t,e){t||Ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Tz(){return I1()==="http:"||I1()==="https:"}function I1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tz()||PR()||"connection"in navigator)?navigator.onLine:!0}function Cz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ys(n>e,"Short delay should be less than long delay!"),this.isMobile=A$()||j$()}get(){return Sz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t,e){Ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz=new Ld(3e4,6e4);function yo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vo(t,e,n,r,s={}){return uN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Md(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return N$()||(c.referrerPolicy="no-referrer"),cN.fetch()(dN(t,t.config.apiHost,n,a),c)})}async function uN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Iz),e);try{const s=new Az(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Fh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fh(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw lN(t,h,c);Lr(t,h)}}catch(s){if(s instanceof Ur)throw s;Lr(t,"network-request-failed",{message:String(s)})}}async function Fd(t,e,n,r,s={}){const i=await vo(t,e,n,r,s);return"mfaPendingCredential"in i&&Lr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function dN(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Yx(t.config,s):`${t.config.apiScheme}://${s}`}function Pz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Az{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(is(this.auth,"network-request-failed")),kz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=is(t,e,r);return s.customData._tokenResponse=n,s}function k1(t){return t!==void 0&&t.enterprise!==void 0}class Rz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Pz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Nz(t,e){return vo(t,"GET","/v2/recaptchaConfig",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jz(t,e){return vo(t,"POST","/v1/accounts:delete",e)}async function hN(t,e){return vo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Dz(t,e=!1){const n=wn(t),r=await n.getIdToken(e),s=Xx(r);xe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Tu(ky(s.auth_time)),issuedAtTime:Tu(ky(s.iat)),expirationTime:Tu(ky(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ky(t){return Number(t)*1e3}function Xx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const s=SR(n);return s?JSON.parse(s):(vf("Failed to decode base64 JWT payload"),null)}catch(s){return vf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function P1(t){const e=Xx(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ur&&Oz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Oz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ld(t,hN(n,{idToken:r}));xe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?fN(i.providerUserInfo):[],a=Lz(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new k0(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function Vz(t){const e=wn(t);await pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Lz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function fN(t){return t.map(e=>{var{providerId:n}=e,r=Vd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fz(t,e){const n=await uN(t,{},async()=>{const r=Md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=dN(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",cN.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Uz(t,e){return vo(t,"POST","/v2/accounts:revokeToken",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=P1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Fz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new xl;return r&&(xe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(xe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(xe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return Ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class As{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Vd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new k0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ld(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Dz(this,e)}reload(){return Vz(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new As(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ts(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await ld(this,jz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:k,isAnonymous:R,providerData:O,stsTokenManager:C}=n;xe(E&&C,e,"internal-error");const S=xl.fromJSON(this.name,C);xe(typeof E=="string",e,"internal-error"),di(f,e.name),di(p,e.name),xe(typeof k=="boolean",e,"internal-error"),xe(typeof R=="boolean",e,"internal-error"),di(m,e.name),di(w,e.name),di(g,e.name),di(_,e.name),di(b,e.name),di(v,e.name);const I=new As({uid:E,auth:e,email:p,emailVerified:k,displayName:f,isAnonymous:R,photoURL:w,phoneNumber:m,tenantId:g,stsTokenManager:S,createdAt:b,lastLoginAt:v});return O&&Array.isArray(O)&&(I.providerData=O.map(N=>Object.assign({},N))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new xl;s.updateFromServerResponse(n);const i=new As({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await pp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];xe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?fN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new xl;a.updateFromIdToken(r);const l=new As({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new k0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Map;function Rs(t){Ys(t instanceof Function,"Expected a class definition");let e=A1.get(t);return e?(Ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pN.type="NONE";const R1=pN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t,e,n){return`firebase:${t}:${e}:${n}`}class _l{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wf(this.userKey,s.apiKey,i),this.fullPersistenceKey=wf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?As._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _l(Rs(R1),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Rs(R1);const o=wf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=As._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new _l(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new _l(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xN(e))return"Blackberry";if(_N(e))return"Webos";if(gN(e))return"Safari";if((e.includes("chrome/")||yN(e))&&!e.includes("edge/"))return"Chrome";if(wN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mN(t=vn()){return/firefox\//i.test(t)}function gN(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yN(t=vn()){return/crios\//i.test(t)}function vN(t=vn()){return/iemobile/i.test(t)}function wN(t=vn()){return/android/i.test(t)}function xN(t=vn()){return/blackberry/i.test(t)}function _N(t=vn()){return/webos/i.test(t)}function Zx(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Bz(t=vn()){var e;return Zx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $z(){return D$()&&document.documentMode===10}function bN(t=vn()){return Zx(t)||wN(t)||_N(t)||xN(t)||/windows phone/i.test(t)||vN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t,e=[]){let n;switch(t){case"Browser":n=N1(vn());break;case"Worker":n=`${N1(vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(t,e={}){return vo(t,"GET","/v2/passwordPolicy",yo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=6;class qz{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Hz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j1(this),this.idTokenSubscription=new j1(this),this.beforeStateQueue=new zz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hN(this,{idToken:e}),r=await As._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ts(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ts(this.app))return Promise.reject(Vs(this));const n=e?wn(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ts(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ts(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Wz(this),n=new qz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Uz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ez(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ia(t){return wn(t)}class j1{constructor(e){this.auth=e,this.observer=null,this.addObserver=B$(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kz(t){zm=t}function TN(t){return zm.loadJS(t)}function Qz(){return zm.recaptchaEnterpriseScript}function Yz(){return zm.gapiScript}function Xz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Zz="recaptcha-enterprise",Jz="NO_RECAPTCHA";class eW{constructor(e){this.type=Zz,this.auth=Ia(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Nz(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Rz(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;k1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(Jz)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&k1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Qz();l.length!==0&&(l+=a),TN(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function D1(t,e,n,r=!1){const s=new eW(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function P0(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await D1(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await D1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(t,e){const n=Ca(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(od(i,e??{}))return s;Lr(s,"already-initialized")}return n.initialize({options:e})}function nW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rW(t,e,n){const r=Ia(t);xe(r._canInitEmulator,r,"emulator-config-failed"),xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=SN(e),{host:o,port:a}=sW(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),iW()}function SN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sW(t){const e=SN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:O1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:O1(o)}}}function O1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ps("not implemented")}_getIdTokenResponse(e){return Ps("not implemented")}_linkToIdToken(e,n){return Ps("not implemented")}_getReauthenticationResolver(e){return Ps("not implemented")}}async function oW(t,e){return vo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aW(t,e){return Fd(t,"POST","/v1/accounts:signInWithPassword",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lW(t,e){return Fd(t,"POST","/v1/accounts:signInWithEmailLink",yo(t,e))}async function cW(t,e){return Fd(t,"POST","/v1/accounts:signInWithEmailLink",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends Jx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new cd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P0(e,n,"signInWithPassword",aW);case"emailLink":return lW(e,{email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P0(e,r,"signUpPassword",oW);case"emailLink":return cW(e,{idToken:n,email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e){return Fd(t,"POST","/v1/accounts:signInWithIdp",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW="http://localhost";class da extends Jx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Vd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new da(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bl(e,n)}buildRequest(){const e={requestUri:uW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Md(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hW(t){const e=nu(ru(t)).link,n=e?nu(ru(e)).deep_link_id:null,r=nu(ru(t)).deep_link_id;return(r?nu(ru(r)).link:null)||r||n||e||t}class e_{constructor(e){var n,r,s,i,o,a;const l=nu(ru(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=dW((s=l.mode)!==null&&s!==void 0?s:null);xe(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=hW(e);try{return new e_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.providerId=yc.PROVIDER_ID}static credential(e,n){return cd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=e_.parseLink(n);return xe(r,"argument-error"),cd._fromEmailAndCode(e,r.code,r.tenantId)}}yc.PROVIDER_ID="password";yc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends CN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Ud{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Ud{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ei.credential(n,r)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Ud{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Ud{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Si.credential(n,r)}catch{return null}}}Si.TWITTER_SIGN_IN_METHOD="twitter.com";Si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fW(t,e){return Fd(t,"POST","/v1/accounts:signUp",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await As._fromIdTokenResponse(e,r,s),o=M1(r);return new ha({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=M1(r);return new ha({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function M1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends Ur{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,mp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new mp(e,n,r,s)}}function IN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?mp._fromErrorAndOperation(t,i,e,r):i})}async function pW(t,e,n=!1){const r=await ld(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ha._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mW(t,e,n=!1){const{auth:r}=t;if(ts(r.app))return Promise.reject(Vs(r));const s="reauthenticate";try{const i=await ld(t,IN(r,s,e,t),n);xe(i.idToken,r,"internal-error");const o=Xx(i.idToken);xe(o,r,"internal-error");const{sub:a}=o;return xe(t.uid===a,r,"user-mismatch"),ha._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Lr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t,e,n=!1){if(ts(t.app))return Promise.reject(Vs(t));const r="signIn",s=await IN(t,r,e),i=await ha._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function gW(t,e){return kN(Ia(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t){const e=Ia(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function V1(t,e,n){if(ts(t.app))return Promise.reject(Vs(t));const r=Ia(t),o=await P0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&PN(t),l}),a=await ha._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function L1(t,e,n){return ts(t.app)?Promise.reject(Vs(t)):gW(wn(t),yc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PN(t),r})}function yW(t,e,n,r){return wn(t).onIdTokenChanged(e,n,r)}function vW(t,e,n){return wn(t).beforeAuthStateChanged(e,n)}function wW(t){return wn(t).signOut()}const gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gp,"1"),this.storage.removeItem(gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=1e3,_W=10;class RN extends AN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);$z()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_W):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RN.type="LOCAL";const bW=RN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN extends AN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NN.type="SESSION";const jN=NN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Wm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await EW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=t_("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(){return window}function SW(t){os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function CW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kW(){return DN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="firebaseLocalStorageDb",PW=1,yp="firebaseLocalStorage",MN="fbase_key";class Bd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hm(t,e){return t.transaction([yp],e?"readwrite":"readonly").objectStore(yp)}function AW(){const t=indexedDB.deleteDatabase(ON);return new Bd(t).toPromise()}function A0(){const t=indexedDB.open(ON,PW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yp,{keyPath:MN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yp)?e(r):(r.close(),await AW(),e(await A0()))})})}async function F1(t,e,n){const r=Hm(t,!0).put({[MN]:e,value:n});return new Bd(r).toPromise()}async function RW(t,e){const n=Hm(t,!1).get(e),r=await new Bd(n).toPromise();return r===void 0?null:r.value}function U1(t,e){const n=Hm(t,!0).delete(e);return new Bd(n).toPromise()}const NW=800,jW=3;class VN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await A0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wm._getInstance(kW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CW(),!this.activeServiceWorker)return;this.sender=new TW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await A0();return await F1(e,gp,"1"),await U1(e,gp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Hm(s,!1).getAll();return new Bd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VN.type="LOCAL";const DW=VN;new Ld(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(t,e){return e?Rs(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends Jx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MW(t){return kN(t.auth,new n_(t),t.bypassAuthState)}function VW(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),mW(n,new n_(t),t.bypassAuthState)}async function LW(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),pW(n,new n_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MW;case"linkViaPopup":case"linkViaRedirect":return LW;case"reauthViaPopup":case"reauthViaRedirect":return VW;default:Lr(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW=new Ld(2e3,1e4);class ol extends LN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=t_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FW.get())};e()}}ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW="pendingRedirect",xf=new Map;class BW extends LN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xf.get(this.auth._key());if(!e){try{const r=await $W(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xf.set(this.auth._key(),e)}return this.bypassAuthState||xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $W(t,e){const n=HW(e),r=WW(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function zW(t,e){xf.set(t._key(),e)}function WW(t){return Rs(t._redirectPersistence)}function HW(t){return wf(UW,t.config.apiKey,t.name)}async function qW(t,e,n=!1){if(ts(t.app))return Promise.reject(Vs(t));const r=Ia(t),s=OW(r,e),o=await new BW(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW=10*60*1e3;class KW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FN(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(is(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GW&&this.cachedEventUids.clear(),this.cachedEventUids.has(B1(e))}saveEventToCache(e){this.cachedEventUids.add(B1(e)),this.lastProcessedEventTime=Date.now()}}function B1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YW(t,e={}){return vo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZW=/^https?/;async function JW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YW(t);for(const n of e)try{if(e8(n))return}catch{}Lr(t,"unauthorized-domain")}function e8(t){const e=I0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ZW.test(n))return!1;if(XW.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=new Ld(3e4,6e4);function $1(){const t=os().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function n8(t){return new Promise((e,n)=>{var r,s,i;function o(){$1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$1(),n(is(t,"network-request-failed"))},timeout:t8.get()})}if(!((s=(r=os().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=os().gapi)===null||i===void 0)&&i.load)o();else{const a=Xz("iframefcb");return os()[a]=()=>{gapi.load?o():n(is(t,"network-request-failed"))},TN(`${Yz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _f=null,e})}let _f=null;function r8(t){return _f=_f||n8(t),_f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=new Ld(5e3,15e3),i8="__/auth/iframe",o8="emulator/auth/iframe",a8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c8(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yx(e,o8):`https://${t.config.authDomain}/${i8}`,r={apiKey:e.apiKey,appName:t.name,v:gc},s=l8.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Md(r).slice(1)}`}async function u8(t){const e=await r8(t),n=os().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:c8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a8,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=is(t,"network-request-failed"),a=os().setTimeout(()=>{i(o)},s8.get());function l(){os().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h8=500,f8=600,p8="_blank",m8="http://localhost";class z1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g8(t,e,n,r=h8,s=f8){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},d8),{width:r.toString(),height:s.toString(),top:i,left:o}),c=vn().toLowerCase();n&&(a=yN(c)?p8:n),mN(c)&&(e=e||m8,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[m,w])=>`${p}${m}=${w},`,"");if(Bz(c)&&a!=="_self")return y8(e||"",a),new z1(null);const f=window.open(e||"",a,h);xe(f,t,"popup-blocked");try{f.focus()}catch{}return new z1(f)}function y8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8="__/auth/handler",w8="emulator/auth/handler",x8=encodeURIComponent("fac");async function W1(t,e,n,r,s,i){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gc,eventId:s};if(e instanceof CN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",U$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Ud){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${x8}=${encodeURIComponent(l)}`:"";return`${_8(t)}?${Md(a).slice(1)}${c}`}function _8({config:t}){return t.emulator?Yx(t,w8):`https://${t.authDomain}/${v8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="webStorageSupport";class b8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jN,this._completeRedirectFn=qW,this._overrideRedirectResult=zW}async _openPopup(e,n,r,s){var i;Ys((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await W1(e,n,r,I0(),s);return g8(e,o,t_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await W1(e,n,r,I0(),s);return SW(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ys(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await u8(e),r=new KW(e);return n.register("authEvent",s=>(xe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Py,{type:Py},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Py];o!==void 0&&n(!!o),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bN()||gN()||Zx()}}const E8=b8;var H1="@firebase/auth",q1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C8(t){hs(new Vr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;xe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EN(t)},c=new Gz(r,s,i,l);return nW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hs(new Vr("auth-internal",e=>{const n=Ia(e.getProvider("auth").getImmediate());return(r=>new T8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(H1,q1,S8(t)),gr(H1,q1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=5*60,k8=kR("authIdTokenMaxAge")||I8;let G1=null;const P8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>k8)return;const s=n==null?void 0:n.token;G1!==s&&(G1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function A8(t=zx()){const e=Ca(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tW(t,{popupRedirectResolver:E8,persistence:[DW,bW,jN]}),r=kR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=P8(i.toString());vW(n,o,()=>o(n.currentUser)),yW(n,a=>o(a))}}const s=CR("auth");return s&&rW(n,`http://${s}`),n}function R8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Kz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=is("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",R8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C8("Browser");var K1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,UN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function I(){}I.prototype=S.prototype,C.D=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(N,D,j){for(var A=Array(arguments.length-2),$=2;$<arguments.length;$++)A[$-2]=arguments[$];return S.prototype[D].apply(N,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,I){I||(I=0);var N=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)N[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;16>D;++D)N[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],D=C.g[2];var j=C.g[3],A=S+(j^I&(D^j))+N[0]+3614090360&4294967295;S=I+(A<<7&4294967295|A>>>25),A=j+(D^S&(I^D))+N[1]+3905402710&4294967295,j=S+(A<<12&4294967295|A>>>20),A=D+(I^j&(S^I))+N[2]+606105819&4294967295,D=j+(A<<17&4294967295|A>>>15),A=I+(S^D&(j^S))+N[3]+3250441966&4294967295,I=D+(A<<22&4294967295|A>>>10),A=S+(j^I&(D^j))+N[4]+4118548399&4294967295,S=I+(A<<7&4294967295|A>>>25),A=j+(D^S&(I^D))+N[5]+1200080426&4294967295,j=S+(A<<12&4294967295|A>>>20),A=D+(I^j&(S^I))+N[6]+2821735955&4294967295,D=j+(A<<17&4294967295|A>>>15),A=I+(S^D&(j^S))+N[7]+4249261313&4294967295,I=D+(A<<22&4294967295|A>>>10),A=S+(j^I&(D^j))+N[8]+1770035416&4294967295,S=I+(A<<7&4294967295|A>>>25),A=j+(D^S&(I^D))+N[9]+2336552879&4294967295,j=S+(A<<12&4294967295|A>>>20),A=D+(I^j&(S^I))+N[10]+4294925233&4294967295,D=j+(A<<17&4294967295|A>>>15),A=I+(S^D&(j^S))+N[11]+2304563134&4294967295,I=D+(A<<22&4294967295|A>>>10),A=S+(j^I&(D^j))+N[12]+1804603682&4294967295,S=I+(A<<7&4294967295|A>>>25),A=j+(D^S&(I^D))+N[13]+4254626195&4294967295,j=S+(A<<12&4294967295|A>>>20),A=D+(I^j&(S^I))+N[14]+2792965006&4294967295,D=j+(A<<17&4294967295|A>>>15),A=I+(S^D&(j^S))+N[15]+1236535329&4294967295,I=D+(A<<22&4294967295|A>>>10),A=S+(D^j&(I^D))+N[1]+4129170786&4294967295,S=I+(A<<5&4294967295|A>>>27),A=j+(I^D&(S^I))+N[6]+3225465664&4294967295,j=S+(A<<9&4294967295|A>>>23),A=D+(S^I&(j^S))+N[11]+643717713&4294967295,D=j+(A<<14&4294967295|A>>>18),A=I+(j^S&(D^j))+N[0]+3921069994&4294967295,I=D+(A<<20&4294967295|A>>>12),A=S+(D^j&(I^D))+N[5]+3593408605&4294967295,S=I+(A<<5&4294967295|A>>>27),A=j+(I^D&(S^I))+N[10]+38016083&4294967295,j=S+(A<<9&4294967295|A>>>23),A=D+(S^I&(j^S))+N[15]+3634488961&4294967295,D=j+(A<<14&4294967295|A>>>18),A=I+(j^S&(D^j))+N[4]+3889429448&4294967295,I=D+(A<<20&4294967295|A>>>12),A=S+(D^j&(I^D))+N[9]+568446438&4294967295,S=I+(A<<5&4294967295|A>>>27),A=j+(I^D&(S^I))+N[14]+3275163606&4294967295,j=S+(A<<9&4294967295|A>>>23),A=D+(S^I&(j^S))+N[3]+4107603335&4294967295,D=j+(A<<14&4294967295|A>>>18),A=I+(j^S&(D^j))+N[8]+1163531501&4294967295,I=D+(A<<20&4294967295|A>>>12),A=S+(D^j&(I^D))+N[13]+2850285829&4294967295,S=I+(A<<5&4294967295|A>>>27),A=j+(I^D&(S^I))+N[2]+4243563512&4294967295,j=S+(A<<9&4294967295|A>>>23),A=D+(S^I&(j^S))+N[7]+1735328473&4294967295,D=j+(A<<14&4294967295|A>>>18),A=I+(j^S&(D^j))+N[12]+2368359562&4294967295,I=D+(A<<20&4294967295|A>>>12),A=S+(I^D^j)+N[5]+4294588738&4294967295,S=I+(A<<4&4294967295|A>>>28),A=j+(S^I^D)+N[8]+2272392833&4294967295,j=S+(A<<11&4294967295|A>>>21),A=D+(j^S^I)+N[11]+1839030562&4294967295,D=j+(A<<16&4294967295|A>>>16),A=I+(D^j^S)+N[14]+4259657740&4294967295,I=D+(A<<23&4294967295|A>>>9),A=S+(I^D^j)+N[1]+2763975236&4294967295,S=I+(A<<4&4294967295|A>>>28),A=j+(S^I^D)+N[4]+1272893353&4294967295,j=S+(A<<11&4294967295|A>>>21),A=D+(j^S^I)+N[7]+4139469664&4294967295,D=j+(A<<16&4294967295|A>>>16),A=I+(D^j^S)+N[10]+3200236656&4294967295,I=D+(A<<23&4294967295|A>>>9),A=S+(I^D^j)+N[13]+681279174&4294967295,S=I+(A<<4&4294967295|A>>>28),A=j+(S^I^D)+N[0]+3936430074&4294967295,j=S+(A<<11&4294967295|A>>>21),A=D+(j^S^I)+N[3]+3572445317&4294967295,D=j+(A<<16&4294967295|A>>>16),A=I+(D^j^S)+N[6]+76029189&4294967295,I=D+(A<<23&4294967295|A>>>9),A=S+(I^D^j)+N[9]+3654602809&4294967295,S=I+(A<<4&4294967295|A>>>28),A=j+(S^I^D)+N[12]+3873151461&4294967295,j=S+(A<<11&4294967295|A>>>21),A=D+(j^S^I)+N[15]+530742520&4294967295,D=j+(A<<16&4294967295|A>>>16),A=I+(D^j^S)+N[2]+3299628645&4294967295,I=D+(A<<23&4294967295|A>>>9),A=S+(D^(I|~j))+N[0]+4096336452&4294967295,S=I+(A<<6&4294967295|A>>>26),A=j+(I^(S|~D))+N[7]+1126891415&4294967295,j=S+(A<<10&4294967295|A>>>22),A=D+(S^(j|~I))+N[14]+2878612391&4294967295,D=j+(A<<15&4294967295|A>>>17),A=I+(j^(D|~S))+N[5]+4237533241&4294967295,I=D+(A<<21&4294967295|A>>>11),A=S+(D^(I|~j))+N[12]+1700485571&4294967295,S=I+(A<<6&4294967295|A>>>26),A=j+(I^(S|~D))+N[3]+2399980690&4294967295,j=S+(A<<10&4294967295|A>>>22),A=D+(S^(j|~I))+N[10]+4293915773&4294967295,D=j+(A<<15&4294967295|A>>>17),A=I+(j^(D|~S))+N[1]+2240044497&4294967295,I=D+(A<<21&4294967295|A>>>11),A=S+(D^(I|~j))+N[8]+1873313359&4294967295,S=I+(A<<6&4294967295|A>>>26),A=j+(I^(S|~D))+N[15]+4264355552&4294967295,j=S+(A<<10&4294967295|A>>>22),A=D+(S^(j|~I))+N[6]+2734768916&4294967295,D=j+(A<<15&4294967295|A>>>17),A=I+(j^(D|~S))+N[13]+1309151649&4294967295,I=D+(A<<21&4294967295|A>>>11),A=S+(D^(I|~j))+N[4]+4149444226&4294967295,S=I+(A<<6&4294967295|A>>>26),A=j+(I^(S|~D))+N[11]+3174756917&4294967295,j=S+(A<<10&4294967295|A>>>22),A=D+(S^(j|~I))+N[2]+718787259&4294967295,D=j+(A<<15&4294967295|A>>>17),A=I+(j^(D|~S))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var I=S-this.blockSize,N=this.B,D=this.h,j=0;j<S;){if(D==0)for(;j<=I;)s(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<S;)if(N[D++]=C.charCodeAt(j++),D==this.blockSize){s(this,N),D=0;break}}else for(;j<S;)if(N[D++]=C[j++],D==this.blockSize){s(this,N),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var I=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=I&255,I/=256;for(this.u(C),C=Array(16),S=I=0;4>S;++S)for(var N=0;32>N;N+=8)C[I++]=this.g[S]>>>N&255;return C};function i(C,S){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function o(C,S){this.h=S;for(var I=[],N=!0,D=C.length-1;0<=D;D--){var j=C[D]|0;N&&j==S||(I[D]=j,N=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return _(c(-C));for(var S=[],I=1,N=0;C>=I;N++)S[N]=C/I|0,I*=4294967296;return new o(S,0)}function h(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return _(h(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(S,8)),N=f,D=0;D<C.length;D+=8){var j=Math.min(8,C.length-D),A=parseInt(C.substring(D,D+j),S);8>j?(j=c(Math.pow(S,j)),N=N.j(j).add(c(A))):(N=N.j(I),N=N.add(c(A)))}return N}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-_(this).m();for(var C=0,S=1,I=0;I<this.g.length;I++){var N=this.i(I);C+=(0<=N?N:4294967296+N)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(g(this))return"-"+_(this).toString(C);for(var S=c(Math.pow(C,6)),I=this,N="";;){var D=k(I,S).g;I=b(I,D.j(S));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=D,w(I))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=b(this,C),g(C)?-1:w(C)?0:1};function _(C){for(var S=C.g.length,I=[],N=0;N<S;N++)I[N]=~C.g[N];return new o(I,~C.h).add(p)}t.abs=function(){return g(this)?_(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],N=0,D=0;D<=S;D++){var j=N+(this.i(D)&65535)+(C.i(D)&65535),A=(j>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);N=A>>>16,j&=65535,A&=65535,I[D]=A<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function b(C,S){return C.add(_(S))}t.j=function(C){if(w(this)||w(C))return f;if(g(this))return g(C)?_(this).j(_(C)):_(_(this).j(C));if(g(C))return _(this.j(_(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var S=this.g.length+C.g.length,I=[],N=0;N<2*S;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var D=0;D<C.g.length;D++){var j=this.i(N)>>>16,A=this.i(N)&65535,$=C.i(D)>>>16,re=C.i(D)&65535;I[2*N+2*D]+=A*re,v(I,2*N+2*D),I[2*N+2*D+1]+=j*re,v(I,2*N+2*D+1),I[2*N+2*D+1]+=A*$,v(I,2*N+2*D+1),I[2*N+2*D+2]+=j*$,v(I,2*N+2*D+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new o(I,0)};function v(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function E(C,S){this.g=C,this.h=S}function k(C,S){if(w(S))throw Error("division by zero");if(w(C))return new E(f,f);if(g(C))return S=k(_(C),S),new E(_(S.g),_(S.h));if(g(S))return S=k(C,_(S)),new E(_(S.g),S.h);if(30<C.g.length){if(g(C)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var I=p,N=S;0>=N.l(C);)I=R(I),N=R(N);var D=O(I,1),j=O(N,1);for(N=O(N,2),I=O(I,2);!w(N);){var A=j.add(N);0>=A.l(C)&&(D=D.add(I),j=A),N=O(N,1),I=O(I,1)}return S=b(C,D.j(S)),new E(D,S)}for(D=f;0<=C.l(S);){for(I=Math.max(1,Math.floor(C.m()/S.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=c(I),A=j.j(S);g(A)||0<A.l(C);)I-=N,j=c(I),A=j.j(S);w(j)&&(j=p),D=D.add(j),C=b(C,A)}return new E(D,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)&C.i(N);return new o(I,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)|C.i(N);return new o(I,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)^C.i(N);return new o(I,this.h^C.h)};function R(C){for(var S=C.g.length+1,I=[],N=0;N<S;N++)I[N]=C.i(N)<<1|C.i(N-1)>>>31;return new o(I,C.h)}function O(C,S){var I=S>>5;S%=32;for(var N=C.g.length-I,D=[],j=0;j<N;j++)D[j]=0<S?C.i(j+I)>>>S|C.i(j+I+1)<<32-S:C.i(j+I);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Zo=o}).apply(typeof K1<"u"?K1:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BN,su,$N,bf,R0,zN,WN,HN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,T){return d==Array.prototype||d==Object.prototype||(d[y]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var y=0;y<d.length;++y){var T=d[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(d,y){if(y)e:{var T=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var L=d[P];if(!(L in T))break e;T=T[L]}d=d[d.length-1],P=T[d],y=y(P),y!=P&&y!=null&&e(T,d,{configurable:!0,writable:!0,value:y})}}function i(d,y){d instanceof String&&(d+="");var T=0,P=!1,L={next:function(){if(!P&&T<d.length){var U=T++;return{value:y(U,d[U]),done:!1}}return P=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(d){return d||function(){return i(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function c(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function h(d,y,T){return d.call.apply(d.bind,arguments)}function f(d,y,T){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,P),d.apply(y,L)}}return function(){return d.apply(y,arguments)}}function p(d,y,T){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function m(d,y){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function w(d,y){function T(){}T.prototype=y.prototype,d.aa=y.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(P,L,U){for(var te=Array(arguments.length-2),at=2;at<arguments.length;at++)te[at-2]=arguments[at];return y.prototype[L].apply(P,te)}}function g(d){const y=d.length;if(0<y){const T=Array(y);for(let P=0;P<y;P++)T[P]=d[P];return T}return[]}function _(d,y){for(let T=1;T<arguments.length;T++){const P=arguments[T];if(l(P)){const L=d.length||0,U=P.length||0;d.length=L+U;for(let te=0;te<U;te++)d[L+te]=P[te]}else d.push(P)}}class b{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function v(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function k(d){return k[" "](d),d}k[" "]=function(){};var R=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(d,y,T){for(const P in d)y.call(T,d[P],P,d)}function C(d,y){for(const T in d)y.call(void 0,d[T],T,d)}function S(d){const y={};for(const T in d)y[T]=d[T];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,y){let T,P;for(let L=1;L<arguments.length;L++){P=arguments[L];for(T in P)d[T]=P[T];for(let U=0;U<I.length;U++)T=I[U],Object.prototype.hasOwnProperty.call(P,T)&&(d[T]=P[T])}}function D(d){var y=1;d=d.split(":");const T=[];for(;0<y&&d.length;)T.push(d.shift()),y--;return d.length&&T.push(d.join(":")),T}function j(d){a.setTimeout(()=>{throw d},0)}function A(){var d=H;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class ${constructor(){this.h=this.g=null}add(y,T){const P=re.get();P.set(y,T),this.h?this.h.next=P:this.g=P,this.h=P}}var re=new b(()=>new G,d=>d.reset());class G{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,F=!1,H=new $,oe=()=>{const d=a.Promise.resolve(void 0);se=()=>{d.then(K)}};var K=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(T){j(T)}var y=re;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}F=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var $e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,y),a.removeEventListener("test",T,y)}catch{}return d}();function tt(d,y){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(R){e:{try{k(y.nodeName);var L=!0;break e}catch{}L=!1}L||(y=null)}}else T=="mouseover"?y=d.fromElement:T=="mouseout"&&(y=d.toElement);this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:be[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&tt.aa.h.call(this)}}w(tt,pe);var be={2:"touch",3:"pen",4:"mouse"};tt.prototype.h=function(){tt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function Ze(d,y,T,P,L){this.listener=d,this.proxy=null,this.src=y,this.type=T,this.capture=!!P,this.ha=L,this.key=++Ue,this.da=this.fa=!1}function Pe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ee(d){this.src=d,this.g={},this.h=0}Ee.prototype.add=function(d,y,T,P,L){var U=d.toString();d=this.g[U],d||(d=this.g[U]=[],this.h++);var te=ut(d,y,P,L);return-1<te?(y=d[te],T||(y.fa=!1)):(y=new Ze(y,this.src,U,!!P,L),y.fa=T,d.push(y)),y};function Oe(d,y){var T=y.type;if(T in d.g){var P=d.g[T],L=Array.prototype.indexOf.call(P,y,void 0),U;(U=0<=L)&&Array.prototype.splice.call(P,L,1),U&&(Pe(y),d.g[T].length==0&&(delete d.g[T],d.h--))}}function ut(d,y,T,P){for(var L=0;L<d.length;++L){var U=d[L];if(!U.da&&U.listener==y&&U.capture==!!T&&U.ha==P)return L}return-1}var Dt="closure_lm_"+(1e6*Math.random()|0),Hn={};function nn(d,y,T,P,L){if(Array.isArray(y)){for(var U=0;U<y.length;U++)nn(d,y[U],T,P,L);return null}return T=Ae(T),d&&d[de]?d.K(y,T,c(P)?!!P.capture:!!P,L):Wr(d,y,T,!1,P,L)}function Wr(d,y,T,P,L,U){if(!y)throw Error("Invalid event type");var te=c(L)?!!L.capture:!!L,at=Y(d);if(at||(d[Dt]=at=new Ee(d)),T=at.add(y,T,P,te,U),T.proxy)return T;if(P=M(),T.proxy=P,P.src=d,P.listener=T,d.addEventListener)$e||(L=te),L===void 0&&(L=!1),d.addEventListener(y.toString(),P,L);else if(d.attachEvent)d.attachEvent(ie(y.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function M(){function d(T){return y.call(d.src,d.listener,T)}const y=ee;return d}function V(d,y,T,P,L){if(Array.isArray(y))for(var U=0;U<y.length;U++)V(d,y[U],T,P,L);else P=c(P)?!!P.capture:!!P,T=Ae(T),d&&d[de]?(d=d.i,y=String(y).toString(),y in d.g&&(U=d.g[y],T=ut(U,T,P,L),-1<T&&(Pe(U[T]),Array.prototype.splice.call(U,T,1),U.length==0&&(delete d.g[y],d.h--)))):d&&(d=Y(d))&&(y=d.g[y.toString()],d=-1,y&&(d=ut(y,T,P,L)),(T=-1<d?y[d]:null)&&B(T))}function B(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[de])Oe(y.i,d);else{var T=d.type,P=d.proxy;y.removeEventListener?y.removeEventListener(T,P,d.capture):y.detachEvent?y.detachEvent(ie(T),P):y.addListener&&y.removeListener&&y.removeListener(P),(T=Y(y))?(Oe(T,d),T.h==0&&(T.src=null,y[Dt]=null)):Pe(d)}}}function ie(d){return d in Hn?Hn[d]:Hn[d]="on"+d}function ee(d,y){if(d.da)d=!0;else{y=new tt(y,this);var T=d.listener,P=d.ha||d.src;d.fa&&B(d),d=T.call(P,y)}return d}function Y(d){return d=d[Dt],d instanceof Ee?d:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(d){return typeof d=="function"?d:(d[me]||(d[me]=function(y){return d.handleEvent(y)}),d[me])}function Be(){ae.call(this),this.i=new Ee(this),this.M=this,this.F=null}w(Be,ae),Be.prototype[de]=!0,Be.prototype.removeEventListener=function(d,y,T,P){V(this,d,y,T,P)};function Me(d,y){var T,P=d.F;if(P)for(T=[];P;P=P.F)T.push(P);if(d=d.M,P=y.type||y,typeof y=="string")y=new pe(y,d);else if(y instanceof pe)y.target=y.target||d;else{var L=y;y=new pe(P,d),N(y,L)}if(L=!0,T)for(var U=T.length-1;0<=U;U--){var te=y.g=T[U];L=xn(te,P,!0,y)&&L}if(te=y.g=d,L=xn(te,P,!0,y)&&L,L=xn(te,P,!1,y)&&L,T)for(U=0;U<T.length;U++)te=y.g=T[U],L=xn(te,P,!1,y)&&L}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var T=d.g[y],P=0;P<T.length;P++)Pe(T[P]);delete d.g[y],d.h--}}this.F=null},Be.prototype.K=function(d,y,T,P){return this.i.add(String(d),y,!1,T,P)},Be.prototype.L=function(d,y,T,P){return this.i.add(String(d),y,!0,T,P)};function xn(d,y,T,P){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var L=!0,U=0;U<y.length;++U){var te=y[U];if(te&&!te.da&&te.capture==T){var at=te.listener,Gt=te.ha||te.src;te.fa&&Oe(d.i,te),L=at.call(Gt,P)!==!1&&L}}return L&&!P.defaultPrevented}function _r(d,y,T){if(typeof d=="function")T&&(d=p(d,T));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function ys(d){d.g=_r(()=>{d.g=null,d.i&&(d.i=!1,ys(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class bo extends ae{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ys(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(d){ae.call(this),this.h=d,this.g={}}w(Hr,ae);var ri=[];function ja(d){O(d.g,function(y,T){this.g.hasOwnProperty(T)&&B(y)},d),d.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),ja(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qr=a.JSON.stringify,Gr=a.JSON.parse,Cg=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Ce(){}Ce.prototype.h=null;function ot(d){return d.h||(d.h=d.i())}function nt(){}var rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){pe.call(this,"d")}w(Nn,pe);function si(){pe.call(this,"c")}w(si,pe);var vs={},Cb=null;function th(){return Cb=Cb||new Be}vs.La="serverreachability";function Ib(d){pe.call(this,vs.La,d)}w(Ib,pe);function Tc(d){const y=th();Me(y,new Ib(y))}vs.STAT_EVENT="statevent";function kb(d,y){pe.call(this,vs.STAT_EVENT,d),this.stat=y}w(kb,pe);function _n(d){const y=th();Me(y,new kb(y,d))}vs.Ma="timingevent";function Pb(d,y){pe.call(this,vs.Ma,d),this.size=y}w(Pb,pe);function Sc(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function Cc(){this.g=!0}Cc.prototype.xa=function(){this.g=!1};function eV(d,y,T,P,L,U){d.info(function(){if(d.g)if(U)for(var te="",at=U.split("&"),Gt=0;Gt<at.length;Gt++){var Ye=at[Gt].split("=");if(1<Ye.length){var sn=Ye[0];Ye=Ye[1];var on=sn.split("_");te=2<=on.length&&on[1]=="type"?te+(sn+"="+Ye+"&"):te+(sn+"=redacted&")}}else te=null;else te=U;return"XMLHTTP REQ ("+P+") [attempt "+L+"]: "+y+`
`+T+`
`+te})}function tV(d,y,T,P,L,U,te){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+L+"]: "+y+`
`+T+`
`+U+" "+te})}function Da(d,y,T,P){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+rV(d,T)+(P?" "+P:"")})}function nV(d,y){d.info(function(){return"TIMEOUT: "+y})}Cc.prototype.info=function(){};function rV(d,y){if(!d.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var P=T[d];if(!(2>P.length)){var L=P[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var te=1;te<L.length;te++)L[te]=""}}}}return qr(T)}catch{return y}}var nh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ab={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ig;function rh(){}w(rh,Ce),rh.prototype.g=function(){return new XMLHttpRequest},rh.prototype.i=function(){return{}},Ig=new rh;function ii(d,y,T,P){this.j=d,this.i=y,this.l=T,this.R=P||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rb}function Rb(){this.i=null,this.g="",this.h=!1}var Nb={},kg={};function Pg(d,y,T){d.L=1,d.v=ah(ws(y)),d.m=T,d.P=!0,jb(d,null)}function jb(d,y){d.F=Date.now(),sh(d),d.A=ws(d.v);var T=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),Gb(T.i,"t",P),d.C=0,T=d.j.J,d.h=new Rb,d.g=dE(d.j,T?y:null,!d.m),0<d.O&&(d.M=new bo(p(d.Y,d,d.g),d.O)),y=d.U,T=d.g,P=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(ri[0]=L.toString()),L=ri);for(var U=0;U<L.length;U++){var te=nn(T,L[U],P||y.handleEvent,!1,y.h||y);if(!te)break;y.g[te.key]=te}y=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Tc(),eV(d.i,d.u,d.A,d.l,d.R,d.m)}ii.prototype.ca=function(d){d=d.target;const y=this.M;y&&xs(d)==3?y.j():this.Y(d)},ii.prototype.Y=function(d){try{if(d==this.g)e:{const on=xs(this.g);var y=this.g.Ba();const Va=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||eE(this.g)))){this.J||on!=4||y==7||(y==8||0>=Va?Tc(3):Tc(2)),Ag(this);var T=this.g.Z();this.X=T;t:if(Db(this)){var P=eE(this.g);d="";var L=P.length,U=xs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Eo(this),Ic(this);var te="";break t}this.h.i=new a.TextDecoder}for(y=0;y<L;y++)this.h.h=!0,d+=this.h.i.decode(P[y],{stream:!(U&&y==L-1)});P.length=0,this.h.g+=d,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=T==200,tV(this.i,this.u,this.A,this.l,this.R,on,T),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Gt=this.g;if((at=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(at)){var Ye=at;break t}}Ye=null}if(T=Ye)Da(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rg(this,T);else{this.o=!1,this.s=3,_n(12),Eo(this),Ic(this);break e}}if(this.P){T=!0;let br;for(;!this.J&&this.C<te.length;)if(br=sV(this,te),br==kg){on==4&&(this.s=4,_n(14),T=!1),Da(this.i,this.l,null,"[Incomplete Response]");break}else if(br==Nb){this.s=4,_n(15),Da(this.i,this.l,te,"[Invalid Chunk]"),T=!1;break}else Da(this.i,this.l,br,null),Rg(this,br);if(Db(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||te.length!=0||this.h.h||(this.s=1,_n(16),T=!1),this.o=this.o&&T,!T)Da(this.i,this.l,te,"[Invalid Chunked Response]"),Eo(this),Ic(this);else if(0<te.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Vg(sn),sn.M=!0,_n(11))}}else Da(this.i,this.l,te,null),Rg(this,te);on==4&&Eo(this),this.o&&!this.J&&(on==4?aE(this.j,this):(this.o=!1,sh(this)))}else _V(this.g),T==400&&0<te.indexOf("Unknown SID")?(this.s=3,_n(12)):(this.s=0,_n(13)),Eo(this),Ic(this)}}}catch{}finally{}};function Db(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function sV(d,y){var T=d.C,P=y.indexOf(`
`,T);return P==-1?kg:(T=Number(y.substring(T,P)),isNaN(T)?Nb:(P+=1,P+T>y.length?kg:(y=y.slice(P,P+T),d.C=P+T,y)))}ii.prototype.cancel=function(){this.J=!0,Eo(this)};function sh(d){d.S=Date.now()+d.I,Ob(d,d.I)}function Ob(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Sc(p(d.ba,d),y)}function Ag(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ii.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(nV(this.i,this.A),this.L!=2&&(Tc(),_n(17)),Eo(this),this.s=2,Ic(this)):Ob(this,this.S-d)};function Ic(d){d.j.G==0||d.J||aE(d.j,d)}function Eo(d){Ag(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,ja(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Rg(d,y){try{var T=d.j;if(T.G!=0&&(T.g==d||Ng(T.h,d))){if(!d.K&&Ng(T.h,d)&&T.G==3){try{var P=T.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var L=P;if(L[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)fh(T),dh(T);else break e;Mg(T),_n(18)}}else T.za=L[1],0<T.za-T.T&&37500>L[2]&&T.F&&T.v==0&&!T.C&&(T.C=Sc(p(T.Za,T),6e3));if(1>=Lb(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else So(T,11)}else if((d.K||T.g==d)&&fh(T),!v(y))for(L=T.Da.g.parse(y),y=0;y<L.length;y++){let Ye=L[y];if(T.T=Ye[0],Ye=Ye[1],T.G==2)if(Ye[0]=="c"){T.K=Ye[1],T.ia=Ye[2];const sn=Ye[3];sn!=null&&(T.la=sn,T.j.info("VER="+T.la));const on=Ye[4];on!=null&&(T.Aa=on,T.j.info("SVER="+T.Aa));const Va=Ye[5];Va!=null&&typeof Va=="number"&&0<Va&&(P=1.5*Va,T.L=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const br=d.g;if(br){const mh=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mh){var U=P.h;U.g||mh.indexOf("spdy")==-1&&mh.indexOf("quic")==-1&&mh.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(jg(U,U.h),U.h=null))}if(P.D){const Lg=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;Lg&&(P.ya=Lg,dt(P.I,P.D,Lg))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),P=T;var te=d;if(P.qa=uE(P,P.J?P.ia:null,P.W),te.K){Fb(P.h,te);var at=te,Gt=P.L;Gt&&(at.I=Gt),at.B&&(Ag(at),sh(at)),P.g=te}else iE(P);0<T.i.length&&hh(T)}else Ye[0]!="stop"&&Ye[0]!="close"||So(T,7);else T.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?So(T,7):Og(T):Ye[0]!="noop"&&T.l&&T.l.ta(Ye),T.v=0)}}Tc(4)}catch{}}var iV=class{constructor(d,y){this.g=d,this.map=y}};function Mb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vb(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Lb(d){return d.h?1:d.g?d.g.size:0}function Ng(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function jg(d,y){d.g?d.g.add(y):d.h=y}function Fb(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Mb.prototype.cancel=function(){if(this.i=Ub(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ub(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const T of d.g.values())y=y.concat(T.D);return y}return g(d.i)}function oV(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],T=d.length,P=0;P<T;P++)y.push(d[P]);return y}y=[],T=0;for(P in d)y[T++]=d[P];return y}function aV(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var T=0;T<d;T++)y.push(T);return y}y=[],T=0;for(const P in d)y[T++]=P;return y}}}function Bb(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var T=aV(d),P=oV(d),L=P.length,U=0;U<L;U++)y.call(void 0,P[U],T&&T[U],d)}var $b=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lV(d,y){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var P=d[T].indexOf("="),L=null;if(0<=P){var U=d[T].substring(0,P);L=d[T].substring(P+1)}else U=d[T];y(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function To(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof To){this.h=d.h,ih(this,d.j),this.o=d.o,this.g=d.g,oh(this,d.s),this.l=d.l;var y=d.i,T=new Ac;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),zb(this,T),this.m=d.m}else d&&(y=String(d).match($b))?(this.h=!1,ih(this,y[1]||"",!0),this.o=kc(y[2]||""),this.g=kc(y[3]||"",!0),oh(this,y[4]),this.l=kc(y[5]||"",!0),zb(this,y[6]||"",!0),this.m=kc(y[7]||"")):(this.h=!1,this.i=new Ac(null,this.h))}To.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Pc(y,Wb,!0),":");var T=this.g;return(T||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Pc(y,Wb,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Pc(T,T.charAt(0)=="/"?dV:uV,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Pc(T,fV)),d.join("")};function ws(d){return new To(d)}function ih(d,y,T){d.j=T?kc(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function oh(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function zb(d,y,T){y instanceof Ac?(d.i=y,pV(d.i,d.h)):(T||(y=Pc(y,hV)),d.i=new Ac(y,d.h))}function dt(d,y,T){d.i.set(y,T)}function ah(d){return dt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function kc(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Pc(d,y,T){return typeof d=="string"?(d=encodeURI(d).replace(y,cV),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function cV(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Wb=/[#\/\?@]/g,uV=/[#\?:]/g,dV=/[#\?]/g,hV=/[#\?@]/g,fV=/#/g;function Ac(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function oi(d){d.g||(d.g=new Map,d.h=0,d.i&&lV(d.i,function(y,T){d.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}t=Ac.prototype,t.add=function(d,y){oi(this),this.i=null,d=Oa(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(y),this.h+=1,this};function Hb(d,y){oi(d),y=Oa(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function qb(d,y){return oi(d),y=Oa(d,y),d.g.has(y)}t.forEach=function(d,y){oi(this),this.g.forEach(function(T,P){T.forEach(function(L){d.call(y,L,P,this)},this)},this)},t.na=function(){oi(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let P=0;P<y.length;P++){const L=d[P];for(let U=0;U<L.length;U++)T.push(y[P])}return T},t.V=function(d){oi(this);let y=[];if(typeof d=="string")qb(this,d)&&(y=y.concat(this.g.get(Oa(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)y=y.concat(d[T])}return y},t.set=function(d,y){return oi(this),this.i=null,d=Oa(this,d),qb(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Gb(d,y,T){Hb(d,y),0<T.length&&(d.i=null,d.g.set(Oa(d,y),g(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var P=y[T];const U=encodeURIComponent(String(P)),te=this.V(P);for(P=0;P<te.length;P++){var L=U;te[P]!==""&&(L+="="+encodeURIComponent(String(te[P]))),d.push(L)}}return this.i=d.join("&")};function Oa(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function pV(d,y){y&&!d.j&&(oi(d),d.i=null,d.g.forEach(function(T,P){var L=P.toLowerCase();P!=L&&(Hb(this,P),Gb(this,L,T))},d)),d.j=y}function mV(d,y){const T=new Cc;if(a.Image){const P=new Image;P.onload=m(ai,T,"TestLoadImage: loaded",!0,y,P),P.onerror=m(ai,T,"TestLoadImage: error",!1,y,P),P.onabort=m(ai,T,"TestLoadImage: abort",!1,y,P),P.ontimeout=m(ai,T,"TestLoadImage: timeout",!1,y,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else y(!1)}function gV(d,y){const T=new Cc,P=new AbortController,L=setTimeout(()=>{P.abort(),ai(T,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:P.signal}).then(U=>{clearTimeout(L),U.ok?ai(T,"TestPingServer: ok",!0,y):ai(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),ai(T,"TestPingServer: error",!1,y)})}function ai(d,y,T,P,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),P(T)}catch{}}function yV(){this.g=new Cg}function vV(d,y,T){const P=T||"";try{Bb(d,function(L,U){let te=L;c(L)&&(te=qr(L)),y.push(P+U+"="+encodeURIComponent(te))})}catch(L){throw y.push(P+"type="+encodeURIComponent("_badmap")),L}}function lh(d){this.l=d.Ub||null,this.j=d.eb||!1}w(lh,Ce),lh.prototype.g=function(){return new ch(this.l,this.j)},lh.prototype.i=function(d){return function(){return d}}({});function ch(d,y){Be.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ch,Be),t=ch.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Nc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Nc(this)),this.g&&(this.readyState=3,Nc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kb(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kb(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Rc(this):Nc(this),this.readyState==3&&Kb(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Rc(this))},t.Qa=function(d){this.g&&(this.response=d,Rc(this))},t.ga=function(){this.g&&Rc(this)};function Rc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Nc(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=y.next();return d.join(`\r
`)};function Nc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ch.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qb(d){let y="";return O(d,function(T,P){y+=P,y+=":",y+=T,y+=`\r
`}),y}function Dg(d,y,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=Qb(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):dt(d,y,T))}function Tt(d){Be.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Tt,Be);var wV=/^https?$/i,xV=["POST","PUT"];t=Tt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ig.g(),this.v=this.o?ot(this.o):ot(Ig),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(U){Yb(this,U);return}if(d=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var L in P)T.set(L,P[L]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const U of P.keys())T.set(U,P.get(U));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(U=>U.toLowerCase()=="content-type"),L=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xV,y,void 0))||P||L||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,te]of T)this.g.setRequestHeader(U,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jb(this),this.u=!0,this.g.send(d),this.u=!1}catch(U){Yb(this,U)}};function Yb(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Xb(d),uh(d)}function Xb(d){d.A||(d.A=!0,Me(d,"complete"),Me(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Me(this,"complete"),Me(this,"abort"),uh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uh(this,!0)),Tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zb(this):this.bb())},t.bb=function(){Zb(this)};function Zb(d){if(d.h&&typeof o<"u"&&(!d.v[1]||xs(d)!=4||d.Z()!=2)){if(d.u&&xs(d)==4)_r(d.Ea,0,d);else if(Me(d,"readystatechange"),xs(d)==4){d.h=!1;try{const te=d.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var P;if(P=te===0){var L=String(d.D).match($b)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),P=!wV.test(L?L.toLowerCase():"")}T=P}if(T)Me(d,"complete"),Me(d,"success");else{d.m=6;try{var U=2<xs(d)?d.g.statusText:""}catch{U=""}d.l=U+" ["+d.Z()+"]",Xb(d)}}finally{uh(d)}}}}function uh(d,y){if(d.g){Jb(d);const T=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Me(d,"ready");try{T.onreadystatechange=P}catch{}}}function Jb(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function xs(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<xs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Gr(y)}};function eE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function _V(d){const y={};d=(d.g&&2<=xs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(v(d[P]))continue;var T=D(d[P]);const L=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const U=y[L]||[];y[L]=U,U.push(T)}C(y,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jc(d,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||y}function tE(d){this.Aa=0,this.i=[],this.j=new Cc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jc("baseRetryDelayMs",5e3,d),this.cb=jc("retryDelaySeedMs",1e4,d),this.Wa=jc("forwardChannelMaxRetries",2,d),this.wa=jc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Mb(d&&d.concurrentRequestLimit),this.Da=new yV,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tE.prototype,t.la=8,t.G=1,t.connect=function(d,y,T,P){_n(0),this.W=d,this.H=y||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.I=uE(this,null,this.W),hh(this)};function Og(d){if(nE(d),d.G==3){var y=d.U++,T=ws(d.I);if(dt(T,"SID",d.K),dt(T,"RID",y),dt(T,"TYPE","terminate"),Dc(d,T),y=new ii(d,d.j,y),y.L=2,y.v=ah(ws(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=y.v,T=!0),T||(y.g=dE(y.j,null),y.g.ea(y.v)),y.F=Date.now(),sh(y)}cE(d)}function dh(d){d.g&&(Vg(d),d.g.cancel(),d.g=null)}function nE(d){dh(d),d.u&&(a.clearTimeout(d.u),d.u=null),fh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function hh(d){if(!Vb(d.h)&&!d.s){d.s=!0;var y=d.Ga;se||oe(),F||(se(),F=!0),H.add(y,d),d.B=0}}function bV(d,y){return Lb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Sc(p(d.Ga,d,y),lE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new ii(this,this.j,d);let U=this.o;if(this.S&&(U?(U=S(U),N(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=sE(this,L,y),T=ws(this.I),dt(T,"RID",d),dt(T,"CVER",22),this.D&&dt(T,"X-HTTP-Session-Id",this.D),Dc(this,T),U&&(this.O?y="headers="+encodeURIComponent(String(Qb(U)))+"&"+y:this.m&&Dg(T,this.m,U)),jg(this.h,L),this.Ua&&dt(T,"TYPE","init"),this.P?(dt(T,"$req",y),dt(T,"SID","null"),L.T=!0,Pg(L,T,null)):Pg(L,T,y),this.G=2}}else this.G==3&&(d?rE(this,d):this.i.length==0||Vb(this.h)||rE(this))};function rE(d,y){var T;y?T=y.l:T=d.U++;const P=ws(d.I);dt(P,"SID",d.K),dt(P,"RID",T),dt(P,"AID",d.T),Dc(d,P),d.m&&d.o&&Dg(P,d.m,d.o),T=new ii(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),y&&(d.i=y.D.concat(d.i)),y=sE(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),jg(d.h,T),Pg(T,P,y)}function Dc(d,y){d.H&&O(d.H,function(T,P){dt(y,P,T)}),d.l&&Bb({},function(T,P){dt(y,P,T)})}function sE(d,y,T){T=Math.min(d.i.length,T);var P=d.l?p(d.l.Na,d.l,d):null;e:{var L=d.i;let U=-1;for(;;){const te=["count="+T];U==-1?0<T?(U=L[0].g,te.push("ofs="+U)):U=0:te.push("ofs="+U);let at=!0;for(let Gt=0;Gt<T;Gt++){let Ye=L[Gt].g;const sn=L[Gt].map;if(Ye-=U,0>Ye)U=Math.max(0,L[Gt].g-100),at=!1;else try{vV(sn,te,"req"+Ye+"_")}catch{P&&P(sn)}}if(at){P=te.join("&");break e}}}return d=d.i.splice(0,T),y.D=d,P}function iE(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;se||oe(),F||(se(),F=!0),H.add(y,d),d.v=0}}function Mg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Sc(p(d.Fa,d),lE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,oE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Sc(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_n(10),dh(this),oE(this))};function Vg(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function oE(d){d.g=new ii(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=ws(d.qa);dt(y,"RID","rpc"),dt(y,"SID",d.K),dt(y,"AID",d.T),dt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&dt(y,"TO",d.ja),dt(y,"TYPE","xmlhttp"),Dc(d,y),d.m&&d.o&&Dg(y,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=ah(ws(y)),T.m=null,T.P=!0,jb(T,d)}t.Za=function(){this.C!=null&&(this.C=null,dh(this),Mg(this),_n(19))};function fh(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function aE(d,y){var T=null;if(d.g==y){fh(d),Vg(d),d.g=null;var P=2}else if(Ng(d.h,y))T=y.D,Fb(d.h,y),P=1;else return;if(d.G!=0){if(y.o)if(P==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var L=d.B;P=th(),Me(P,new Pb(P,T)),hh(d)}else iE(d);else if(L=y.s,L==3||L==0&&0<y.X||!(P==1&&bV(d,y)||P==2&&Mg(d)))switch(T&&0<T.length&&(y=d.h,y.i=y.i.concat(T)),L){case 1:So(d,5);break;case 4:So(d,10);break;case 3:So(d,6);break;default:So(d,2)}}}function lE(d,y){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*y}function So(d,y){if(d.j.info("Error code "+y),y==2){var T=p(d.fb,d),P=d.Xa;const L=!P;P=new To(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ih(P,"https"),ah(P),L?mV(P.toString(),T):gV(P.toString(),T)}else _n(2);d.G=0,d.l&&d.l.sa(y),cE(d),nE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function cE(d){if(d.G=0,d.ka=[],d.l){const y=Ub(d.h);(y.length!=0||d.i.length!=0)&&(_(d.ka,y),_(d.ka,d.i),d.h.i.length=0,g(d.i),d.i.length=0),d.l.ra()}}function uE(d,y,T){var P=T instanceof To?ws(T):new To(T);if(P.g!="")y&&(P.g=y+"."+P.g),oh(P,P.s);else{var L=a.location;P=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;var U=new To(null);P&&ih(U,P),y&&(U.g=y),L&&oh(U,L),T&&(U.l=T),P=U}return T=d.D,y=d.ya,T&&y&&dt(P,T,y),dt(P,"VER",d.la),Dc(d,P),P}function dE(d,y,T){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Tt(new lh({eb:T})):new Tt(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hE(){}t=hE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ph(){}ph.prototype.g=function(d,y){return new qn(d,y)};function qn(d,y){Be.call(this),this.g=new tE(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!v(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!v(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Ma(this)}w(qn,Be),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){Og(this.g)},qn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=qr(d),d=T);y.i.push(new iV(y.Ya++,d)),y.G==3&&hh(y)},qn.prototype.N=function(){this.g.l=null,delete this.j,Og(this.g),delete this.g,qn.aa.N.call(this)};function fE(d){Nn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const T in y){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}w(fE,Nn);function pE(){si.call(this),this.status=1}w(pE,si);function Ma(d){this.g=d}w(Ma,hE),Ma.prototype.ua=function(){Me(this.g,"a")},Ma.prototype.ta=function(d){Me(this.g,new fE(d))},Ma.prototype.sa=function(d){Me(this.g,new pE)},Ma.prototype.ra=function(){Me(this.g,"b")},ph.prototype.createWebChannel=ph.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,HN=function(){return new ph},WN=function(){return th()},zN=vs,R0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nh.NO_ERROR=0,nh.TIMEOUT=8,nh.HTTP_ERROR=6,bf=nh,Ab.COMPLETE="complete",$N=Ab,nt.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",Be.prototype.listen=Be.prototype.K,su=nt,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,BN=Tt}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});const Q1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new Um("@firebase/firestore");function Hc(){return fa.logLevel}function fe(t,...e){if(fa.logLevel<=qe.DEBUG){const n=e.map(r_);fa.debug(`Firestore (${vc}): ${t}`,...n)}}function Xs(t,...e){if(fa.logLevel<=qe.ERROR){const n=e.map(r_);fa.error(`Firestore (${vc}): ${t}`,...n)}}function Gl(t,...e){if(fa.logLevel<=qe.WARN){const n=e.map(r_);fa.warn(`Firestore (${vc}): ${t}`,...n)}}function r_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: `+t;throw Xs(e),new Error(e)}function it(t,e){t||Se()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class j8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class D8{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new qN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new fn(e)}}class O8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class M8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new O8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){it(this.o===void 0);const r=i=>{i.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string"),this.R=n.token,new V8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=F8(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function Kl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Re(e)}static min(){return new Re(new zt(0,0))}static max(){return new Re(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ud.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ud?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pt extends ud{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const U8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends ud{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return U8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new he(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new he(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new he(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(pt.fromString(e))}static fromName(e){return new ye(pt.fromString(e).popFirst(5))}static empty(){return new ye(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new pt(e.slice()))}}function B8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new so(s,ye.empty(),e)}function $8(t){return new so(t.readTime,t.key,-1)}class so{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new so(Re.min(),ye.empty(),-1)}static max(){return new so(Re.max(),ye.empty(),-1)}}function z8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==W8)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function q8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}s_.oe=-1;function qm(t){return t==null}function vp(t){return t===0&&1/t==-1/0}function G8(t){return typeof t=="number"&&Number.isInteger(t)&&!vp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bh(this.root,e,this.comparator,!0)}}class Bh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=s??Qt.EMPTY,this.right=i??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Qt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X1(this.data.getIterator())}getIteratorFrom(e){return new X1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class X1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new Jt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new QN("Invalid base64 string: "+i):i}}(e);return new tn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const K8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(t){if(it(!!t),typeof t=="string"){let e=0;const n=K8.exec(t);if(it(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pa(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function o_(t){const e=t.mapValue.fields.__previous_value__;return i_(e)?o_(e):e}function dd(t){const e=io(t.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class hd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ma(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i_(t)?4:X8(t)?9007199254740991:Y8(t)?10:11:Se()}function fs(t,e){if(t===e)return!0;const n=ma(t);if(n!==ma(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dd(t).isEqual(dd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=io(s.timestampValue),a=io(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return pa(s.bytesValue).isEqual(pa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Pt(s.geoPointValue.latitude)===Pt(i.geoPointValue.latitude)&&Pt(s.geoPointValue.longitude)===Pt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Pt(s.integerValue)===Pt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Pt(s.doubleValue),a=Pt(i.doubleValue);return o===a?vp(o)===vp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Kl(t.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Y1(o)!==Y1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fs(o[l],a[l])))return!1;return!0}(t,e);default:return Se()}}function fd(t,e){return(t.values||[]).find(n=>fs(n,e))!==void 0}function Ql(t,e){if(t===e)return 0;const n=ma(t),r=ma(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Pt(i.integerValue||i.doubleValue),l=Pt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Z1(t.timestampValue,e.timestampValue);case 4:return Z1(dd(t),dd(e));case 5:return Xe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=pa(i),l=pa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Xe(a[c],l[c]);if(h!==0)return h}return Xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Xe(Pt(i.latitude),Pt(o.latitude));return a!==0?a:Xe(Pt(i.longitude),Pt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return J1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,h;const f=i.fields||{},p=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,g=Xe(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return g!==0?g:J1(m,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===$h.mapValue&&o===$h.mapValue)return 0;if(i===$h.mapValue)return 1;if(o===$h.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Xe(l[f],h[f]);if(p!==0)return p;const m=Ql(a[l[f]],c[h[f]]);if(m!==0)return m}return Xe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Se()}}function Z1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=io(t),r=io(e),s=Xe(n.seconds,r.seconds);return s!==0?s:Xe(n.nanos,r.nanos)}function J1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ql(n[s],r[s]);if(i)return i}return Xe(n.length,r.length)}function Yl(t){return N0(t)}function N0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=io(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=N0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${N0(n.fields[o])}`;return s+"}"}(t.mapValue):Se()}function eS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function j0(t){return!!t&&"integerValue"in t}function a_(t){return!!t&&"arrayValue"in t}function tS(t){return!!t&&"nullValue"in t}function nS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ef(t){return!!t&&"mapValue"in t}function Y8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Su(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Su(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Su(t.arrayValue.values[n]);return e}return Object.assign({},t)}function X8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(n)}setAll(e){let n=Yt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Su(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ef(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){wc(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new fr(Su(this.value))}}function YN(t){const e=[];return wc(t.fields,(n,r)=>{const s=new Yt([n]);if(Ef(r)){const i=YN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new mn(e,0,Re.min(),Re.min(),Re.min(),fr.empty(),0)}static newFoundDocument(e,n,r,s){return new mn(e,1,n,Re.min(),r,s,0)}static newNoDocument(e,n){return new mn(e,2,n,Re.min(),Re.min(),fr.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Re.min(),Re.min(),fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.position=e,this.inclusive=n}}function rS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=Ql(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function sS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Z8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{}class Lt extends XN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new e7(e,n,r):n==="array-contains"?new r7(e,r):n==="in"?new s7(e,r):n==="not-in"?new i7(e,r):n==="array-contains-any"?new o7(e,r):new Lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new t7(e,r):new n7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ql(n,this.value)):n!==null&&ma(this.value)===ma(n)&&this.matchesComparison(Ql(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends XN{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fr(e,n)}matches(e){return ZN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ZN(t){return t.op==="and"}function JN(t){return J8(t)&&ZN(t)}function J8(t){for(const e of t.filters)if(e instanceof Fr)return!1;return!0}function D0(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+Yl(t.value);if(JN(t))return t.filters.map(e=>D0(e)).join(",");{const e=t.filters.map(n=>D0(n)).join(",");return`${t.op}(${e})`}}function ej(t,e){return t instanceof Lt?function(r,s){return s instanceof Lt&&r.op===s.op&&r.field.isEqual(s.field)&&fs(r.value,s.value)}(t,e):t instanceof Fr?function(r,s){return s instanceof Fr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&ej(o,s.filters[a]),!0):!1}(t,e):void Se()}function tj(t){return t instanceof Lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Yl(n.value)}`}(t):t instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(tj).join(" ,")+"}"}(t):"Filter"}class e7 extends Lt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class t7 extends Lt{constructor(e,n){super(e,"in",n),this.keys=nj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class n7 extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=nj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class r7 extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a_(n)&&fd(n.arrayValue,this.value)}}class s7 extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fd(this.value.arrayValue,n)}}class i7 extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fd(this.value.arrayValue,n)}}class o7 extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function iS(t,e=null,n=[],r=[],s=null,i=null,o=null){return new a7(t,e,n,r,s,i,o)}function l_(t){const e=Ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>D0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),qm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yl(r)).join(",")),e.ue=n}return e.ue}function c_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Z8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ej(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sS(t.startAt,e.startAt)&&sS(t.endAt,e.endAt)}function O0(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function l7(t,e,n,r,s,i,o,a){return new Wd(t,e,n,r,s,i,o,a)}function rj(t){return new Wd(t)}function oS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sj(t){return t.collectionGroup!==null}function Cu(t){const e=Ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Jt(Yt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new xp(i,r))}),n.has(Yt.keyField().canonicalString())||e.ce.push(new xp(Yt.keyField(),r))}return e.ce}function as(t){const e=Ne(t);return e.le||(e.le=c7(e,Cu(t))),e.le}function c7(t,e){if(t.limitType==="F")return iS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new xp(s.field,i)});const n=t.endAt?new wp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wp(t.startAt.position,t.startAt.inclusive):null;return iS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function M0(t,e){const n=t.filters.concat([e]);return new Wd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function V0(t,e,n){return new Wd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gm(t,e){return c_(as(t),as(e))&&t.limitType===e.limitType}function ij(t){return`${l_(as(t))}|lt:${t.limitType}`}function Wa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>tj(s)).join(", ")}]`),qm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Yl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Yl(s)).join(",")),`Target(${r})`}(as(t))}; limitType=${t.limitType})`}function Km(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ye.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Cu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=rS(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Cu(r),s)||r.endAt&&!function(o,a,l){const c=rS(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Cu(r),s))}(t,e)}function u7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oj(t){return(e,n)=>{let r=!1;for(const s of Cu(t)){const i=d7(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function d7(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Ql(l,c):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wc(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return KN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=new Et(ye.comparator);function Zs(){return h7}const aj=new Et(ye.comparator);function iu(...t){let e=aj;for(const n of t)e=e.insert(n.key,n);return e}function lj(t){let e=aj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fo(){return Iu()}function cj(){return Iu()}function Iu(){return new xc(t=>t.toString(),(t,e)=>t.isEqual(e))}const f7=new Et(ye.comparator),p7=new Jt(ye.comparator);function He(...t){let e=p7;for(const n of t)e=e.add(n);return e}const m7=new Jt(Xe);function g7(){return m7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vp(e)?"-0":e}}function uj(t){return{integerValue:""+t}}function y7(t,e){return G8(e)?uj(e):u_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this._=void 0}}function v7(t,e,n){return t instanceof _p?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&i_(i)&&(i=o_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof pd?hj(t,e):t instanceof md?fj(t,e):function(s,i){const o=dj(s,i),a=aS(o)+aS(s.Pe);return j0(o)&&j0(s.Pe)?uj(a):u_(s.serializer,a)}(t,e)}function w7(t,e,n){return t instanceof pd?hj(t,e):t instanceof md?fj(t,e):n}function dj(t,e){return t instanceof bp?function(r){return j0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class _p extends Qm{}class pd extends Qm{constructor(e){super(),this.elements=e}}function hj(t,e){const n=pj(e);for(const r of t.elements)n.some(s=>fs(s,r))||n.push(r);return{arrayValue:{values:n}}}class md extends Qm{constructor(e){super(),this.elements=e}}function fj(t,e){let n=pj(e);for(const r of t.elements)n=n.filter(s=>!fs(s,r));return{arrayValue:{values:n}}}class bp extends Qm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function aS(t){return Pt(t.integerValue||t.doubleValue)}function pj(t){return a_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function x7(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof pd&&s instanceof pd||r instanceof md&&s instanceof md?Kl(r.elements,s.elements,fs):r instanceof bp&&s instanceof bp?fs(r.Pe,s.Pe):r instanceof _p&&s instanceof _p}(t.transform,e.transform)}class _7{constructor(e,n){this.version=e,this.transformResults=n}}class Ls{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ls}static exists(e){return new Ls(void 0,e)}static updateTime(e){return new Ls(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ym{}function mj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yj(t.key,Ls.none()):new Hd(t.key,t.data,Ls.none());{const n=t.data,r=fr.empty();let s=new Jt(Yt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ka(t.key,r,new Rr(s.toArray()),Ls.none())}}function b7(t,e,n){t instanceof Hd?function(s,i,o){const a=s.value.clone(),l=cS(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ka?function(s,i,o){if(!Tf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=cS(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(gj(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ku(t,e,n,r){return t instanceof Hd?function(i,o,a,l){if(!Tf(i.precondition,o))return a;const c=i.value.clone(),h=uS(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ka?function(i,o,a,l){if(!Tf(i.precondition,o))return a;const c=uS(i.fieldTransforms,l,o),h=o.data;return h.setAll(gj(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Tf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function E7(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=dj(r.transform,s||null);i!=null&&(n===null&&(n=fr.empty()),n.set(r.field,i))}return n||null}function lS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Kl(r,s,(i,o)=>x7(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hd extends Ym{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ka extends Ym{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cS(t,e,n){const r=new Map;it(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,w7(o,a,n[s]))}return r}function uS(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,v7(i,o,e))}return r}class yj extends Ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T7 extends Ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&b7(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ku(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ku(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cj();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=mj(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&Kl(this.mutations,e.mutations,(n,r)=>lS(n,r))&&Kl(this.baseMutations,e.baseMutations,(n,r)=>lS(n,r))}}class d_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){it(e.mutations.length===r.length);let s=function(){return f7}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new d_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C7=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Ge;function k7(t){switch(t){default:return Se();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function vj(t){if(t===void 0)return Xs("GRPC error has no .code"),q.UNKNOWN;switch(t){case Ot.OK:return q.OK;case Ot.CANCELLED:return q.CANCELLED;case Ot.UNKNOWN:return q.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return q.INTERNAL;case Ot.UNAVAILABLE:return q.UNAVAILABLE;case Ot.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Ot.NOT_FOUND:return q.NOT_FOUND;case Ot.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Ot.ABORTED:return q.ABORTED;case Ot.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Ot.DATA_LOSS:return q.DATA_LOSS;default:return Se()}}(Ge=Ot||(Ot={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=new Zo([4294967295,4294967295],0);function dS(t){const e=P7().encode(t),n=new UN;return n.update(e),new Uint8Array(n.digest())}function hS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Zo([n,r],0),new Zo([s,i],0)]}class h_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(r<0)throw new ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zo.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Zo.fromNumber(r)));return s.compare(A7)===1&&(s=new Zo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=dS(e),[r,s]=hS(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new h_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=dS(e),[r,s]=hS(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xm(Re.min(),s,new Et(Xe),Zs(),He())}}class qd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qd(r,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class wj{constructor(e,n){this.targetId=e,this.me=n}}class xj{constructor(e,n,r=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class fS{constructor(){this.fe=0,this.ge=mS(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=He(),n=He(),r=He();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se()}}),new qd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=mS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,it(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class R7{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zs(),this.qe=pS(),this.Qe=new Et(Xe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(O0(i))if(r===0){const o=new ye(i.path);this.Ue(n,o,mn.newNoDocument(o,Re.min()))}else it(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=pa(r).toUint8Array()}catch(l){if(l instanceof QN)return Gl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new h_(o,s,i)}catch(l){return Gl(l instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&O0(a.target)){const l=new ye(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,mn.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=He();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Xm(e,n,this.Qe,this.ke,r);return this.ke=Zs(),this.qe=pS(),this.Qe=new Et(Xe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new fS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Jt(Xe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new fS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function pS(){return new Et(ye.comparator)}function mS(){return new Et(ye.comparator)}const N7={asc:"ASCENDING",desc:"DESCENDING"},j7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D7={and:"AND",or:"OR"};class O7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function L0(t,e){return t.useProto3Json||qm(e)?e:{value:e}}function Ep(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _j(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function M7(t,e){return Ep(t,e.toTimestamp())}function ls(t){return it(!!t),Re.fromTimestamp(function(n){const r=io(n);return new zt(r.seconds,r.nanos)}(t))}function f_(t,e){return F0(t,e).canonicalString()}function F0(t,e){const n=function(s){return new pt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bj(t){const e=pt.fromString(t);return it(Ij(e)),e}function U0(t,e){return f_(t.databaseId,e.path)}function Ay(t,e){const n=bj(e);if(n.get(1)!==t.databaseId.projectId)throw new he(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(Tj(n))}function Ej(t,e){return f_(t.databaseId,e)}function V7(t){const e=bj(t);return e.length===4?pt.emptyPath():Tj(e)}function B0(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tj(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gS(t,e,n){return{name:U0(t,e),fields:n.value.mapValue.fields}}function L7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(it(h===void 0||typeof h=="string"),tn.fromBase64String(h||"")):(it(h===void 0||h instanceof Buffer||h instanceof Uint8Array),tn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?q.UNKNOWN:vj(c.code);return new he(h,c.message||"")}(o);n=new xj(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ay(t,r.document.name),i=ls(r.document.updateTime),o=r.document.createTime?ls(r.document.createTime):Re.min(),a=new fr({mapValue:{fields:r.document.fields}}),l=mn.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Sf(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ay(t,r.document),i=r.readTime?ls(r.readTime):Re.min(),o=mn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Sf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ay(t,r.document),i=r.removedTargetIds||[];n=new Sf([],i,s,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new I7(s,i),a=r.targetId;n=new wj(a,o)}}return n}function F7(t,e){let n;if(e instanceof Hd)n={update:gS(t,e.key,e.value)};else if(e instanceof yj)n={delete:U0(t,e.key)};else if(e instanceof ka)n={update:gS(t,e.key,e.data),updateMask:K7(e.fieldMask)};else{if(!(e instanceof T7))return Se();n={verify:U0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof _p)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof md)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:M7(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se()}(t,e.precondition)),n}function U7(t,e){return t&&t.length>0?(it(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ls(s.updateTime):ls(i);return o.isEqual(Re.min())&&(o=ls(i)),new _7(o,s.transformResults||[])}(n,e))):[]}function B7(t,e){return{documents:[Ej(t,e.path)]}}function $7(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ej(t,s);const i=function(c){if(c.length!==0)return Cj(Fr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Ha(p.field),direction:H7(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=L0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function z7(t){let e=V7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){it(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=Sj(f);return p instanceof Fr&&JN(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(w){return new xp(qa(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,qm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new wp(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new wp(m,p)}(n.endAt)),l7(e,s,o,i,a,"F",l,c)}function W7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qa(n.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=qa(n.unaryFilter.field);return Lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=qa(n.unaryFilter.field);return Lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qa(n.unaryFilter.field);return Lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return Lt.create(qa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(r=>Sj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function H7(t){return N7[t]}function q7(t){return j7[t]}function G7(t){return D7[t]}function Ha(t){return{fieldPath:t.canonicalString()}}function qa(t){return Yt.fromServerFormat(t.fieldPath)}function Cj(t){return t instanceof Lt?function(n){if(n.op==="=="){if(nS(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(tS(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nS(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(tS(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:q7(n.op),value:n.value}}}(t):t instanceof Fr?function(n){const r=n.getFilters().map(s=>Cj(s));return r.length===1?r[0]:{compositeFilter:{op:G7(n.op),filters:r}}}(t):Se()}function K7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ij(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r,s,i=Re.min(),o=Re.min(),a=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e){this.ct=e}}function Y7(t){const e=z7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?V0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(){this.un=new Z7}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(so.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(so.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Z7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Jt(pt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Jt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Xl(0)}static kn(){return new Xl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(){this.changes=new xc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ku(r.mutation,s,Rr.empty(),zt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,He()).next(()=>r))}getLocalViewOfDocuments(e,n,r=He()){const s=Fo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=iu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,He()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Zs();const o=Iu(),a=function(){return Iu()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof ka)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ku(h.mutation,c,h.mutation.getFieldMask(),zt.now())):o.set(c.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new eH(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Iu();let s=new Et((o,a)=>o-a),i=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Rr.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(s.get(a.batchId)||He()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=cj();h.forEach(p=>{if(!i.has(p)){const m=mj(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Fo());let a=-1,l=i;return o.next(c=>Q.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?Q.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,He())).next(h=>({batchId:a,changes:lj(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let s=iu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=iu();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(f,p){return new Wd(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,mn.newInvalidDocument(h)))});let a=iu();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&ku(h.mutation,c,Rr.empty(),zt.now()),Km(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ls(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:Y7(s.bundledQuery),readTime:ls(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(){this.overlays=new Et(ye.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fo();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Fo(),i=n.length+1,o=new ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Et((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Fo(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Fo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new C7(n,r));let i=this.Ir.get(n);i===void 0&&(i=He(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.Tr=new Jt(Wt.Er),this.dr=new Jt(Wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Wt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new pt([])),r=new Wt(n,e),s=new Wt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new pt([])),r=new Wt(n,e),s=new Wt(n,e+1);let i=He();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Wt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||Xe(e.wr,n.wr)}static Ar(e,n){return Xe(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Jt(Wt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new S7(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Wt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),s=new Wt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Xe);return n.forEach(s=>{const i=new Wt(s,0),o=new Wt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ye.isDocumentKey(i)||(i=i.child(""));const o=new Wt(new ye(i),0);let a=new Jt(Xe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){it(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new Wt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Wt(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e){this.Mr=e,this.docs=function(){return new Et(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=Zs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():mn.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Zs();const o=n.path,a=new ye(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||z8($8(h),r)<=0||(s.has(h.key)||Km(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aH(this)}getSize(e){return Q.resolve(this.size)}}class aH extends J7{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e){this.persistence=e,this.Nr=new xc(n=>l_(n),c_),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new p_,this.targetCount=0,this.kr=Xl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Xl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e,n){this.qr={},this.overlays={},this.Qr=new s_(0),this.Kr=!1,this.Kr=!0,this.$r=new sH,this.referenceDelegate=e(this),this.Ur=new lH(this),this.indexManager=new X7,this.remoteDocumentCache=function(s){return new oH(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Q7(n),this.Gr=new nH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new iH(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const s=new uH(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class uH extends H8{constructor(e){super(),this.currentSequenceNumber=e}}class m_{constructor(e){this.persistence=e,this.Jr=new p_,this.Yr=null}static Zr(e){return new m_(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=ye.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=He(),s=He();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new g_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return O$()?8:q8(vn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new dH;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Hc()<=qe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Hc()<=qe.DEBUG&&fe("QueryEngine","Query:",Wa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Hc()<=qe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(n))):Q.resolve())}Yi(e,n){if(oS(n))return Q.resolve(null);let r=as(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=V0(n,null,"F"),r=as(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=He(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,V0(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return oS(n)||s.isEqual(Re.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(Hc()<=qe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wa(n)),this.rs(e,o,n,B8(s,-1)).next(a=>a))})}ts(e,n){let r=new Jt(oj(e));return n.forEach((s,i)=>{Km(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Hc()<=qe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.Ji.getDocumentsMatchingQuery(e,n,so.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Et(Xe),this._s=new xc(i=>l_(i),c_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tH(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function pH(t,e,n,r){return new fH(t,e,n,r)}async function kj(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=He();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function mH(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,p=f.keys();let m=Q.resolve();return p.forEach(w=>{m=m.next(()=>h.getEntry(l,w)).next(g=>{const _=c.docVersions.get(w);it(_!==null),g.version.compareTo(_)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),h.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=He();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Pj(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function gH(t,e){const n=Ne(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(tn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),s=s.insert(f,m),function(g,_,b){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,m,h)&&a.push(n.Ur.updateTargetData(i,m))});let l=Zs(),c=He();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(yH(i,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(Re.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function yH(t,e,n){let r=He(),s=He();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Zs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function vH(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wH(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Oi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function $0(t,e,n){const r=Ne(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!zd(o))throw o;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function yS(t,e,n){const r=Ne(t);let s=Re.min(),i=He();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=Ne(l),p=f._s.get(h);return p!==void 0?Q.resolve(f.os.get(p)):f.Ur.getTargetData(c,h)}(r,o,as(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Re.min(),n?i:He())).next(a=>(xH(r,u7(e),a),{documents:a,Ts:i})))}function xH(t,e,n){let r=t.us.get(e)||Re.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class vS{constructor(){this.activeTargetIds=g7()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _H{constructor(){this.so=new vS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new vS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh=null;function Ry(){return zh===null?zh=function(){return 268435456+Math.round(2147483648*Math.random())}():zh++,"0x"+zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class SH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Ry(),l=this.xo(n,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(h=>(fe("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Gl("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=EH[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Ry();return new Promise((o,a)=>{const l=new BN;l.setWithCredentials(!0),l.listenOnce($N.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case bf.NO_ERROR:const h=l.getResponseJson();fe(un,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case bf.TIMEOUT:fe(un,`RPC '${e}' ${i} timed out`),a(new he(q.DEADLINE_EXCEEDED,"Request time out"));break;case bf.HTTP_ERROR:const f=l.getStatus();if(fe(un,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const w=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(b)>=0?b:q.UNKNOWN}(m.status);a(new he(w,m.message))}else a(new he(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new he(q.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{fe(un,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);fe(un,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Ry(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=HN(),a=WN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");fe(un,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,m=!1;const w=new TH({Io:_=>{m?fe(un,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(fe(un,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),fe(un,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},To:()=>f.close()}),g=(_,b,v)=>{_.listen(b,E=>{try{v(E)}catch(k){setTimeout(()=>{throw k},0)}})};return g(f,su.EventType.OPEN,()=>{m||(fe(un,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),g(f,su.EventType.CLOSE,()=>{m||(m=!0,fe(un,`RPC '${e}' stream ${s} transport closed`),w.So())}),g(f,su.EventType.ERROR,_=>{m||(m=!0,Gl(un,`RPC '${e}' stream ${s} transport errored:`,_),w.So(new he(q.UNAVAILABLE,"The operation could not be completed")))}),g(f,su.EventType.MESSAGE,_=>{var b;if(!m){const v=_.data[0];it(!!v);const E=v,k=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(k){fe(un,`RPC '${e}' stream ${s} received error:`,k);const R=k.status;let O=function(I){const N=Ot[I];if(N!==void 0)return vj(N)}(R),C=k.message;O===void 0&&(O=q.INTERNAL,C="Unknown error status: "+R+" with message "+k.message),m=!0,w.So(new he(O,C)),f.close()}else fe(un,`RPC '${e}' stream ${s} received:`,v),w.bo(v)}}),g(a,zN.STAT_EVENT,_=>{_.stat===R0.PROXY?fe(un,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===R0.NOPROXY&&fe(un,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Ny(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t){return new O7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Aj(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Xs(n.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new he(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CH extends Rj{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=L7(this.serializer,e),r=function(i){if(!("targetChange"in i))return Re.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Re.min():o.readTime?ls(o.readTime):Re.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=B0(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=O0(l)?{documents:B7(i,l)}:{query:$7(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_j(i,o.resumeToken);const c=L0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Re.min())>0){a.readTime=Ep(i,o.snapshotVersion.toTimestamp());const c=L0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=W7(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=B0(this.serializer),n.removeTarget=e,this.a_(n)}}class IH extends Rj{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=U7(e.writeResults,e.commitTime),r=ls(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=B0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>F7(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new he(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,F0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new he(q.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,F0(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(q.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class PH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Xs(n),this.D_=!1):fe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Pa(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ne(l);c.L_.add(4),await Gd(c),c.q_.set("Unknown"),c.L_.delete(4),await Jm(c)}(this))})}),this.q_=new PH(r,s)}}async function Jm(t){if(Pa(t))for(const e of t.B_)await e(!0)}async function Gd(t){for(const e of t.B_)await e(!1)}function Nj(t,e){const n=Ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),x_(n)?w_(n):_c(n).r_()&&v_(n,e))}function y_(t,e){const n=Ne(t),r=_c(n);n.N_.delete(e),r.r_()&&jj(n,e),n.N_.size===0&&(r.r_()?r.o_():Pa(n)&&n.q_.set("Unknown"))}function v_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_c(t).A_(e)}function jj(t,e){t.Q_.xe(e),_c(t).R_(e)}function w_(t){t.Q_=new R7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_c(t).start(),t.q_.v_()}function x_(t){return Pa(t)&&!_c(t).n_()&&t.N_.size>0}function Pa(t){return Ne(t).L_.size===0}function Dj(t){t.Q_=void 0}async function RH(t){t.q_.set("Online")}async function NH(t){t.N_.forEach((e,n)=>{v_(t,e)})}async function jH(t,e){Dj(t),x_(t)?(t.q_.M_(e),w_(t)):t.q_.set("Unknown")}async function DH(t,e,n){if(t.q_.set("Online"),e instanceof xj&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tp(t,r)}else if(e instanceof Sf?t.Q_.Ke(e):e instanceof wj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Re.min()))try{const r=await Pj(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(c);h&&i.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(tn.EMPTY_BYTE_STRING,h.snapshotVersion)),jj(i,l);const f=new Oi(h.target,l,c,h.sequenceNumber);v_(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await Tp(t,r)}}async function Tp(t,e,n){if(!zd(e))throw e;t.L_.add(1),await Gd(t),t.q_.set("Offline"),n||(n=()=>Pj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Jm(t)})}function Oj(t,e){return e().catch(n=>Tp(t,n,e))}async function eg(t){const e=Ne(t),n=oo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;OH(e);)try{const s=await vH(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,MH(e,s)}catch(s){await Tp(e,s)}Mj(e)&&Vj(e)}function OH(t){return Pa(t)&&t.O_.length<10}function MH(t,e){t.O_.push(e);const n=oo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Mj(t){return Pa(t)&&!oo(t).n_()&&t.O_.length>0}function Vj(t){oo(t).start()}async function VH(t){oo(t).p_()}async function LH(t){const e=oo(t);for(const n of t.O_)e.m_(n.mutations)}async function FH(t,e,n){const r=t.O_.shift(),s=d_.from(r,e,n);await Oj(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await eg(t)}async function UH(t,e){e&&oo(t).V_&&await async function(r,s){if(function(o){return k7(o)&&o!==q.ABORTED}(s.code)){const i=r.O_.shift();oo(r).s_(),await Oj(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await eg(r)}}(t,e),Mj(t)&&Vj(t)}async function xS(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Pa(n);n.L_.add(3),await Gd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Jm(n)}async function BH(t,e){const n=Ne(t);e?(n.L_.delete(2),await Jm(n)):e||(n.L_.add(2),await Gd(n),n.q_.set("Unknown"))}function _c(t){return t.K_||(t.K_=function(n,r,s){const i=Ne(n);return i.w_(),new CH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:RH.bind(null,t),Ro:NH.bind(null,t),mo:jH.bind(null,t),d_:DH.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),x_(t)?w_(t):t.q_.set("Unknown")):(await t.K_.stop(),Dj(t))})),t.K_}function oo(t){return t.U_||(t.U_=function(n,r,s){const i=Ne(n);return i.w_(),new IH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:VH.bind(null,t),mo:UH.bind(null,t),f_:LH.bind(null,t),g_:FH.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await eg(t)):(await t.U_.stop(),t.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new __(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b_(t,e){if(Xs("AsyncQueue",`${e}: ${t}`),zd(t))return new he(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=iu(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new El(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.W_=new Et(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zl(e,n,El.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class zH{constructor(){this.queries=bS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ne(n),i=s.queries;s.queries=bS(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new he(q.ABORTED,"Firestore shutting down"))}}function bS(){return new xc(t=>ij(t),Gm)}async function WH(t,e){const n=Ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new $H,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=b_(o,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&E_(n)}async function HH(t,e){const n=Ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qH(t,e){const n=Ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&E_(n)}function GH(t,e,n){const r=Ne(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function E_(t){t.Y_.forEach(e=>{e.next()})}var z0,ES;(ES=z0||(z0={})).ea="default",ES.Cache="cache";class KH{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==z0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.key=e}}class Fj{constructor(e){this.key=e}}class QH{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=He(),this.mutatedKeys=He(),this.Aa=oj(e),this.Ra=new El(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new _S,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),m=Km(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;p&&m?p.data.isEqual(m.data)?w!==g&&(r.track({type:3,doc:m}),_=!0):this.ga(p,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),_=!0):p&&!m&&(r.track({type:1,doc:p}),_=!0,(l||c)&&(a=!0)),_&&(m?(o=o.add(m),i=g?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(m,w){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return g(m)-g(w)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Zl(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new _S,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=He(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Fj(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Lj(r))}),n}ba(e){this.Ta=e.Ts,this.da=He();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Zl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class YH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XH{constructor(e){this.key=e,this.va=!1}}class ZH{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new xc(a=>ij(a),Gm),this.Ma=new Map,this.xa=new Set,this.Oa=new Et(ye.comparator),this.Na=new Map,this.La=new p_,this.Ba={},this.ka=new Map,this.qa=Xl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function JH(t,e,n=!0){const r=Hj(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Uj(r,e,n,!0),s}async function eq(t,e){const n=Hj(t);await Uj(n,e,!0,!1)}async function Uj(t,e,n,r){const s=await wH(t.localStore,as(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await tq(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Nj(t.remoteStore,s),a}async function tq(t,e,n,r,s){t.Ka=(f,p,m)=>async function(g,_,b,v){let E=_.view.ma(b);E.ns&&(E=await yS(g.localStore,_.query,!1).then(({documents:C})=>_.view.ma(C,E)));const k=v&&v.targetChanges.get(_.targetId),R=v&&v.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(E,g.isPrimaryClient,k,R);return SS(g,_.targetId,O.wa),O.snapshot}(t,f,p,m);const i=await yS(t.localStore,e,!0),o=new QH(e,i.Ts),a=o.ma(i.documents),l=qd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);SS(t,n,c.wa);const h=new YH(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function nq(t,e,n){const r=Ne(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Gm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await $0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&y_(r.remoteStore,s.targetId),W0(r,s.targetId)}).catch($d)):(W0(r,s.targetId),await $0(r.localStore,s.targetId,!0))}async function rq(t,e){const n=Ne(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),y_(n.remoteStore,r.targetId))}async function sq(t,e,n){const r=dq(t);try{const s=await function(o,a){const l=Ne(o),c=zt.now(),h=a.reduce((m,w)=>m.add(w.key),He());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Zs(),g=He();return l.cs.getEntries(m,h).next(_=>{w=_,w.forEach((b,v)=>{v.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(_=>{f=_;const b=[];for(const v of a){const E=E7(v,f.get(v.key).overlayedDocument);E!=null&&b.push(new ka(v.key,E,YN(E.value.mapValue),Ls.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,a)}).next(_=>{p=_;const b=_.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,_.batchId,b)})}).then(()=>({batchId:p.batchId,changes:lj(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Et(Xe)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Kd(r,s.changes),await eg(r.remoteStore)}catch(s){const i=b_(s,"Failed to persist write");n.reject(i)}}async function Bj(t,e){const n=Ne(t);try{const r=await gH(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(it(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?it(o.va):s.removedDocuments.size>0&&(it(o.va),o.va=!1))}),await Kd(n,r,e)}catch(r){await $d(r)}}function TS(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ne(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(c=!0)}),c&&E_(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iq(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Et(ye.comparator);o=o.insert(i,mn.newNoDocument(i,Re.min()));const a=He().add(i),l=new Xm(Re.min(),new Map,new Et(Xe),o,a);await Bj(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),T_(r)}else await $0(r.localStore,e,!1).then(()=>W0(r,e,n)).catch($d)}async function oq(t,e){const n=Ne(t),r=e.batch.batchId;try{const s=await mH(n.localStore,e);zj(n,r,null),$j(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kd(n,s)}catch(s){await $d(s)}}async function aq(t,e,n){const r=Ne(t);try{const s=await function(o,a){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(it(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);zj(r,e,n),$j(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kd(r,s)}catch(s){await $d(s)}}function $j(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function zj(t,e,n){const r=Ne(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function W0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Wj(t,r)})}function Wj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(y_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),T_(t))}function SS(t,e,n){for(const r of n)r instanceof Lj?(t.La.addReference(r.key,e),lq(t,r)):r instanceof Fj?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Wj(t,r.key)):Se()}function lq(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.xa.add(r),T_(t))}function T_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(pt.fromString(e)),r=t.qa.next();t.Na.set(r,new XH(n)),t.Oa=t.Oa.insert(n,r),Nj(t.remoteStore,new Oi(as(rj(n.path)),r,"TargetPurposeLimboResolution",s_.oe))}}async function Kd(t,e,n){const r=Ne(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=g_.Wi(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const h=Ne(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(c,p=>Q.forEach(p.$i,m=>h.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>Q.forEach(p.Ui,m=>h.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!zd(f))throw f;fe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=h.os.get(p),w=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(p,g)}}}(r.localStore,i))}async function cq(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await kj(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new he(q.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kd(n,r.hs)}}function uq(t,e){const n=Ne(t),r=n.Na.get(e);if(r&&r.va)return He().add(r.key);{let s=He();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function Hj(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iq.bind(null,e),e.Ca.d_=qH.bind(null,e.eventManager),e.Ca.$a=GH.bind(null,e.eventManager),e}function dq(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aq.bind(null,e),e}class Sp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return pH(this.persistence,new hH,e.initialUser,this.serializer)}Ga(e){return new cH(m_.Zr,this.serializer)}Wa(e){return new _H}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sp.provider={build:()=>new Sp};class H0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cq.bind(null,this.syncEngine),await BH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zH}()}createDatastore(e){const n=Zm(e.databaseInfo.databaseId),r=function(i){return new SH(i)}(e.databaseInfo);return function(i,o,a,l){return new kH(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new AH(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>TS(this.syncEngine,n,0),function(){return wS.D()?new wS:new bH}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const f=new ZH(s,i,o,a,l,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ne(s);fe("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Gd(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}H0.provider={build:()=>new H0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Xs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=fn.UNAUTHENTICATED,this.clientId=GN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{fe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jy(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await kj(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function CS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pq(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>xS(e.remoteStore,s)),t._onlineComponents=e}async function pq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await jy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Gl("Error using user provided cache. Falling back to memory cache: "+n),await jy(t,new Sp)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await jy(t,new Sp);return t._offlineComponents}async function qj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await CS(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await CS(t,new H0))),t._onlineComponents}function mq(t){return qj(t).then(e=>e.syncEngine)}async function gq(t){const e=await qj(t),n=e.eventManager;return n.onListen=JH.bind(null,e.syncEngine),n.onUnlisten=nq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rq.bind(null,e.syncEngine),n}function yq(t,e,n={}){const r=new Gi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new hq({next:p=>{h.Za(),o.enqueueAndForget(()=>HH(i,f)),p.fromCache&&l.source==="server"?c.reject(new he(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new KH(a,h,{includeMetadataChanges:!0,_a:!0});return WH(i,f)}(await gq(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t,e,n){if(!n)throw new he(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vq(t,e,n,r){if(e===!0&&r===!0)throw new he(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kS(t){if(!ye.isDocumentKey(t))throw new he(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PS(t){if(ye.isDocumentKey(t))throw new he(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Cp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tg(t);throw new he(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ng{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new N8;switch(r.type){case"firstParty":return new M8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=IS.get(n);r&&(fe("ComponentProvider","Removing Datastore"),IS.delete(n),r.terminate())}(this),Promise.resolve()}}function wq(t,e,n,r={}){var s;const i=(t=Cp(t,ng))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=fn.MOCK_USER;else{a=P$(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new he(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new fn(c)}t._authCredentials=new j8(new qN(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bc(this.firestore,e,this._query)}}class yr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class Ki extends bc{constructor(e,n,r){super(e,n,rj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new ye(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function Jl(t,e,...n){if(t=wn(t),Kj("collection","path",e),t instanceof ng){const r=pt.fromString(e,...n);return PS(r),new Ki(t,null,r)}{if(!(t instanceof yr||t instanceof Ki))throw new he(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return PS(r),new Ki(t.firestore,null,r)}}function xq(t,e,...n){if(t=wn(t),arguments.length===1&&(e=GN.newId()),Kj("doc","path",e),t instanceof ng){const r=pt.fromString(e,...n);return kS(r),new yr(t,null,new ye(r))}{if(!(t instanceof yr||t instanceof Ki))throw new he(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return kS(r),new yr(t.firestore,t instanceof Ki?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Aj(this,"async_queue_retry"),this.Vu=()=>{const r=Ny();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ny();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Gi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!zd(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Xs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=__.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class S_ extends ng{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new RS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RS(e),this._firestoreClient=void 0,await e}}}function _q(t,e){const n=typeof t=="object"?t:zx(),r=typeof t=="string"?t:"(default)",s=Ca(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=I$("firestore");i&&wq(s,...i)}return s}function Qj(t){if(t._terminated)throw new he(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bq(t),t._firestoreClient}function bq(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,h){return new Q8(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Gj(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new fq(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ec(tn.fromBase64String(e))}catch(n){throw new he(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ec(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq=/^__.*__$/;class Tq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ka(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hd(e,this.data,n,this.fieldTransforms)}}function Xj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class P_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new P_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ip(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Xj(this.Cu)&&Eq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Sq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zm(e)}Qu(e,n,r,s=!1){return new P_({Cu:e,methodName:n,qu:r,path:Yt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zj(t){const e=t._freezeSettings(),n=Zm(t._databaseId);return new Sq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Cq(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);t2("Data must be an object, but it was:",o,r);const a=Jj(r,o);let l,c;if(i.merge)l=new Rr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=kq(e,f,n);if(!o.contains(p))throw new he(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Aq(h,p)||h.push(p)}l=new Rr(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new Tq(new fr(a),l,c)}function Iq(t,e,n,r=!1){return A_(n,t.Qu(r?4:3,e))}function A_(t,e){if(e2(t=wn(t)))return t2("Unsupported field value:",e,t),Jj(t,e);if(t instanceof Yj)return function(r,s){if(!Xj(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=A_(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return y7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=zt.fromDate(r);return{timestampValue:Ep(s.serializer,i)}}if(r instanceof zt){const i=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ep(s.serializer,i)}}if(r instanceof I_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ec)return{bytesValue:_j(s.serializer,r._byteString)};if(r instanceof yr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:f_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof k_)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return u_(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${tg(r)}`)}(t,e)}function Jj(t,e){const n={};return KN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wc(t,(r,s)=>{const i=A_(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function e2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof I_||t instanceof ec||t instanceof yr||t instanceof Yj||t instanceof k_)}function t2(t,e,n){if(!e2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=tg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function kq(t,e,n){if((e=wn(e))instanceof C_)return e._internalPath;if(typeof e=="string")return n2(t,e);throw Ip("Field path arguments must be of type string or ",t,!1,void 0,n)}const Pq=new RegExp("[~\\*/\\[\\]]");function n2(t,e,n){if(e.search(Pq)>=0)throw Ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new C_(...e.split("."))._internalPath}catch{throw Ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ip(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new he(q.INVALID_ARGUMENT,a+t+l)}function Aq(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Rq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(R_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Rq extends r2{data(){return super.data()}}function R_(t,e){return typeof e=="string"?n2(t,e):e instanceof C_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N_{}class jq extends N_{}function Dq(t,e,...n){let r=[];e instanceof N_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof j_).length,a=i.filter(l=>l instanceof rg).length;if(o>1||o>0&&a>0)throw new he(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class rg extends jq{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rg(e,n,r)}_apply(e){const n=this._parse(e);return s2(e._query,n),new bc(e.firestore,e.converter,M0(e._query,n))}_parse(e){const n=Zj(e.firestore);return function(i,o,a,l,c,h,f){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new he(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){jS(f,h);const m=[];for(const w of f)m.push(NS(l,i,w));p={arrayValue:{values:m}}}else p=NS(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||jS(f,h),p=Iq(a,o,f,h==="in"||h==="not-in");return Lt.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Oq(t,e,n){const r=e,s=R_("where",t);return rg._create(s,r,n)}class j_ extends N_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new j_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)s2(o,l),o=M0(o,l)}(e._query,n),new bc(e.firestore,e.converter,M0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function NS(t,e,n){if(typeof(n=wn(n))=="string"){if(n==="")throw new he(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sj(e)&&n.indexOf("/")!==-1)throw new he(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pt.fromString(n));if(!ye.isDocumentKey(r))throw new he(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eS(t,new ye(r))}if(n instanceof yr)return eS(t,n._key);throw new he(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tg(n)}.`)}function jS(t,e){if(!Array.isArray(t)||t.length===0)throw new he(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function s2(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Mq{convertValue(e,n="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wc(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Pt(o.doubleValue));return new k_(i)}convertGeoPoint(e){return new I_(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=o_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){const n=io(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);it(Ij(r));const s=new hd(r.get(1),r.get(3)),i=new ye(r.popFirst(5));return s.isEqual(n)||Xs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lq extends r2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(R_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cf extends Lq{data(e={}){return super.data(e)}}class Fq{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Wh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cf(this._firestore,this._userDataWriter,r.key,r,new Wh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Cf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Wh(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Cf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Wh(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Uq(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Uq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class Bq extends Mq{constructor(e){super(),this.firestore=e}convertBytes(e){return new ec(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,n)}}function kp(t){t=Cp(t,bc);const e=Cp(t.firestore,S_),n=Qj(e),r=new Bq(e);return Nq(t._query),yq(n,t._query).then(s=>new Fq(e,r,t,s))}function i2(t,e){const n=Cp(t.firestore,S_),r=xq(t),s=Vq(t.converter,e);return $q(n,[Cq(Zj(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ls.exists(!1))]).then(()=>r)}function $q(t,e){return function(r,s){const i=new Gi;return r.asyncQueue.enqueueAndForget(async()=>sq(await mq(r),s,i)),i.promise}(Qj(t),e)}(function(e,n=!0){(function(s){vc=s})(gc),hs(new Vr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new S_(new D8(r.getProvider("auth-internal")),new L8(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new he(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hd(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),gr(Q1,"4.7.3",e),gr(Q1,"4.7.3","esm2017")})();const zq={apiKey:"AIzaSyAU6wmIRJyp_c5vyQlOSGiDGhyhIYfhyBc",authDomain:"trust-chain-98b07.firebaseapp.com",projectId:"trust-chain-98b07",storageBucket:"trust-chain-98b07.appspot.com",messagingSenderId:"487365413084",appId:"1:487365413084:web:a03305d85996411805cc19",measurementId:"G-PFT1HXCPH1"},D_=OR(zq);typeof window<"u"&&window.location.protocol==="https:"&&yz(D_);const Co=A8(D_),tc=_q(D_),o2=x.createContext(void 0),Wq=({children:t})=>{const[e,n]=x.useState(null),[r,s]=x.useState(!1),[i,o]=x.useState(!1),[a,l]=x.useState(!0),{toast:c}=Wn();x.useEffect(()=>{const g=Co.onAuthStateChanged(_=>{if(_){const b={id:_.uid,pseudonym:_.email?_.email.split("@")[0]:"Anonymous",email:_.email||void 0,isAdmin:_.email==="admin@safespeak.com"};n(b),s(!0),o(b.isAdmin||!1)}else n(null),s(!1),o(!1);l(!1)});return()=>g()},[]);const h=async(g,_)=>{try{const v=(await L1(Co,g+"@safespeak.com",_)).user,E={id:v.uid,pseudonym:v.email?v.email.split("@")[0]:"Anonymous",email:v.email||void 0,isAdmin:v.email==="admin@safespeak.com"};n(E),s(!0),o(!1),c({title:"Login Successful",description:"Welcome back to SafeSpeak!"})}catch(b){throw c({title:"Login Failed",description:b.message,variant:"destructive"}),b}},f=async(g,_)=>{try{await L1(Co,g,_);const b=Co.currentUser;if(b){const v={id:b.uid,pseudonym:b.email?b.email.split("@")[0]:"Anonymous",email:b.email||void 0,isAdmin:b.email==="admin@safespeak.com"};n(v),s(!0),o(!0),c({title:"Admin Login Successful",description:"Welcome to the Admin Dashboard!"})}else throw new Error("Failed to retrieve user data after login.")}catch(b){throw c({title:"Admin Login Failed",description:b.message,variant:"destructive"}),b}},p=async(g,_,b)=>{try{const E=(await V1(Co,_,b)).user;if(E){const k={id:E.uid,pseudonym:_.split("@")[0],email:E.email||void 0,isAdmin:!0,fullName:g};n(k),s(!0),o(!0),c({title:"Admin Registration Successful",description:"Admin account created successfully."})}else throw new Error("Failed to create admin account.")}catch(v){throw c({title:"Admin Registration Failed",description:v.message,variant:"destructive"}),v}},m=async(g,_)=>{try{const v=(await V1(Co,g+"@safespeak.com",_)).user,E={id:v.uid,pseudonym:g,email:v.email||void 0,isAdmin:!1};n(E),s(!0),o(!1),c({title:"Registration Successful",description:"Your anonymous profile has been created."})}catch(b){throw c({title:"Registration Failed",description:b.message,variant:"destructive"}),b}},w=async()=>{try{await wW(Co),n(null),s(!1),o(!1),c({title:"Logout Successful",description:"You have been logged out successfully."})}catch(g){c({title:"Logout Failed",description:g.message,variant:"destructive"})}};return u.jsx(o2.Provider,{value:{user:e,login:h,adminLogin:f,adminRegister:p,register:m,logout:w,isAuthenticated:r,isAdmin:i,loading:a},children:t})},Br=()=>{const t=x.useContext(o2);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},a2=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),sg=x.createContext({}),O_=x.createContext(null),ig=typeof document<"u",Hq=ig?x.useLayoutEffect:x.useEffect,l2=x.createContext({strict:!1}),M_=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),qq="framerAppearId",c2="data-"+M_(qq);function Gq(t,e,n,r){const{visualElement:s}=x.useContext(sg),i=x.useContext(l2),o=x.useContext(O_),a=x.useContext(a2).reducedMotion,l=x.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;x.useInsertionEffect(()=>{c&&c.update(n,o)});const h=x.useRef(!!(n[c2]&&!window.HandoffComplete));return Hq(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),x.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function al(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Kq(t,e,n){return x.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):al(n)&&(n.current=r))},[e])}function gd(t){return typeof t=="string"||Array.isArray(t)}function og(t){return typeof t=="object"&&typeof t.start=="function"}const V_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],L_=["initial",...V_];function ag(t){return og(t.animate)||L_.some(e=>gd(t[e]))}function u2(t){return!!(ag(t)||t.variants)}function Qq(t,e){if(ag(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gd(n)?n:void 0,animate:gd(r)?r:void 0}}return t.inherit!==!1?e:{}}function Yq(t){const{initial:e,animate:n}=Qq(t,x.useContext(sg));return x.useMemo(()=>({initial:e,animate:n}),[DS(e),DS(n)])}function DS(t){return Array.isArray(t)?t.join(" "):t}const OS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yd={};for(const t in OS)yd[t]={isEnabled:e=>OS[t].some(n=>!!e[n])};function Xq(t){for(const e in t)yd[e]={...yd[e],...t[e]}}const d2=x.createContext({}),h2=x.createContext({}),Zq=Symbol.for("motionComponentSymbol");function Jq({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&Xq(t);function i(a,l){let c;const h={...x.useContext(a2),...a,layoutId:eG(a)},{isStatic:f}=h,p=Yq(a),m=r(a,f);if(!f&&ig){p.visualElement=Gq(s,m,h,e);const w=x.useContext(h2),g=x.useContext(l2).strict;p.visualElement&&(c=p.visualElement.loadFeatures(h,g,t,w))}return x.createElement(sg.Provider,{value:p},c&&p.visualElement?x.createElement(c,{visualElement:p.visualElement,...h}):null,n(s,a,Kq(m,p.visualElement,l),m,f,p.visualElement))}const o=x.forwardRef(i);return o[Zq]=s,o}function eG({layoutId:t}){const e=x.useContext(d2).id;return e&&t!==void 0?e+"-"+t:t}function tG(t){function e(r,s={}){return Jq(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const nG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function F_(t){return typeof t!="string"||t.includes("-")?!1:!!(nG.indexOf(t)>-1||/[A-Z]/.test(t))}const Pp={};function rG(t){Object.assign(Pp,t)}const Qd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Aa=new Set(Qd);function f2(t,{layout:e,layoutId:n}){return Aa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Pp[t]||t==="opacity")}const $n=t=>!!(t&&t.getVelocity),sG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iG=Qd.length;function oG(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<iG;o++){const a=Qd[o];if(t[a]!==void 0){const l=sG[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const p2=t=>e=>typeof e=="string"&&e.startsWith(t),m2=p2("--"),q0=p2("var(--"),aG=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,lG=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ao=(t,e,n)=>Math.min(Math.max(n,t),e),Ra={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Pu={...Ra,transform:t=>ao(0,1,t)},Hh={...Ra,default:1},Au=t=>Math.round(t*1e5)/1e5,lg=/(-)?([\d]*\.?[\d])+/g,g2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,cG=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Yd(t){return typeof t=="string"}const Xd=t=>({test:e=>Yd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pi=Xd("deg"),cs=Xd("%"),we=Xd("px"),uG=Xd("vh"),dG=Xd("vw"),MS={...cs,parse:t=>cs.parse(t)/100,transform:t=>cs.transform(t*100)},VS={...Ra,transform:Math.round},y2={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,size:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,rotate:pi,rotateX:pi,rotateY:pi,rotateZ:pi,scale:Hh,scaleX:Hh,scaleY:Hh,scaleZ:Hh,skew:pi,skewX:pi,skewY:pi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Pu,originX:MS,originY:MS,originZ:we,zIndex:VS,fillOpacity:Pu,strokeOpacity:Pu,numOctaves:VS};function U_(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,c=!1,h=!0;for(const f in e){const p=e[f];if(m2(f)){i[f]=p;continue}const m=y2[f],w=lG(p,m);if(Aa.has(f)){if(l=!0,o[f]=w,!h)continue;p!==(m.default||0)&&(h=!1)}else f.startsWith("origin")?(c=!0,a[f]=w):s[f]=w}if(e.transform||(l||r?s.transform=oG(t.transform,n,h,r):s.transform&&(s.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;s.transformOrigin=`${f} ${p} ${m}`}}const B_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function v2(t,e,n){for(const r in e)!$n(e[r])&&!f2(r,n)&&(t[r]=e[r])}function hG({transformTemplate:t},e,n){return x.useMemo(()=>{const r=B_();return U_(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function fG(t,e,n){const r=t.style||{},s={};return v2(s,r,t),Object.assign(s,hG(t,e,n)),t.transformValues?t.transformValues(s):s}function pG(t,e,n){const r={},s=fG(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const mG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Ap(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||mG.has(t)}let w2=t=>!Ap(t);function gG(t){t&&(w2=e=>e.startsWith("on")?!Ap(e):t(e))}try{gG(require("@emotion/is-prop-valid").default)}catch{}function yG(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(w2(s)||n===!0&&Ap(s)||!e&&!Ap(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function LS(t,e,n){return typeof t=="string"?t:we.transform(e+n*t)}function vG(t,e,n){const r=LS(e,t.x,t.width),s=LS(n,t.y,t.height);return`${r} ${s}`}const wG={offset:"stroke-dashoffset",array:"stroke-dasharray"},xG={offset:"strokeDashoffset",array:"strokeDasharray"};function _G(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?wG:xG;t[i.offset]=we.transform(-r);const o=we.transform(e),a=we.transform(n);t[i.array]=`${o} ${a}`}function $_(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,f,p){if(U_(t,c,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:w,dimensions:g}=t;m.transform&&(g&&(w.transform=m.transform),delete m.transform),g&&(s!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=vG(g,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&_G(m,o,a,l,!1)}const x2=()=>({...B_(),attrs:{}}),z_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bG(t,e,n,r){const s=x.useMemo(()=>{const i=x2();return $_(i,e,{enableHardwareAcceleration:!1},z_(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};v2(i,t.style,t),s.style={...i,...s.style}}return s}function EG(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(F_(n)?bG:pG)(r,i,o,n),h={...yG(r,typeof n=="string",t),...l,ref:s},{children:f}=r,p=x.useMemo(()=>$n(f)?f.get():f,[f]);return x.createElement(n,{...h,children:p})}}function _2(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const b2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function E2(t,e,n,r){_2(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(b2.has(s)?s:M_(s),e.attrs[s])}function W_(t,e){const{style:n}=t,r={};for(const s in n)($n(n[s])||e.style&&$n(e.style[s])||f2(s,t))&&(r[s]=n[s]);return r}function T2(t,e){const n=W_(t,e);for(const r in t)if($n(t[r])||$n(e[r])){const s=Qd.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function H_(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function TG(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const Rp=t=>Array.isArray(t),SG=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),CG=t=>Rp(t)?t[t.length-1]||0:t;function If(t){const e=$n(t)?t.get():t;return SG(e)?e.toValue():e}function IG({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:kG(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const S2=t=>(e,n)=>{const r=x.useContext(sg),s=x.useContext(O_),i=()=>IG(t,e,r,s);return n?i():TG(i)};function kG(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=If(i[p]);let{initial:o,animate:a}=t;const l=ag(t),c=u2(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;return f&&typeof f!="boolean"&&!og(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const w=H_(t,m);if(!w)return;const{transitionEnd:g,transition:_,...b}=w;for(const v in b){let E=b[v];if(Array.isArray(E)){const k=h?E.length-1:0;E=E[k]}E!==null&&(s[v]=E)}for(const v in g)s[v]=g[v]}),s}const Rt=t=>t;class FS{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function PG(t){let e=new FS,n=new FS,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const f=h&&s,p=f?e:n;return c&&o.add(l),p.add(l)&&f&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const h=e.order[c];h(l),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const qh=["prepare","read","update","preRender","render","postRender"],AG=40;function RG(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=qh.reduce((f,p)=>(f[p]=PG(()=>n=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,AG),1),s.timestamp=f,s.isProcessing=!0,qh.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:qh.reduce((f,p)=>{const m=i[p];return f[p]=(w,g=!1,_=!1)=>(n||l(),m.schedule(w,g,_)),f},{}),cancel:f=>qh.forEach(p=>i[p].cancel(f)),state:s,steps:i}}const{schedule:gt,cancel:Js,state:hn,steps:Dy}=RG(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rt,!0),NG={useVisualState:S2({scrapeMotionValuesFromProps:T2,createRenderState:x2,onMount:(t,e,{renderState:n,latestValues:r})=>{gt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),gt.render(()=>{$_(n,r,{enableHardwareAcceleration:!1},z_(e.tagName),t.transformTemplate),E2(e,n)})}})},jG={useVisualState:S2({scrapeMotionValuesFromProps:W_,createRenderState:B_})};function DG(t,{forwardMotionProps:e=!1},n,r){return{...F_(t)?NG:jG,preloadedFeatures:n,useRender:EG(e),createVisualElement:r,Component:t}}function Ns(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const C2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function cg(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const OG=t=>e=>C2(e)&&t(e,cg(e));function Fs(t,e,n,r){return Ns(t,e,OG(n),r)}const MG=(t,e)=>n=>e(t(n)),Qi=(...t)=>t.reduce(MG);function I2(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const US=I2("dragHorizontal"),BS=I2("dragVertical");function k2(t){let e=!1;if(t==="y")e=BS();else if(t==="x")e=US();else{const n=US(),r=BS();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function P2(){const t=k2(!0);return t?(t(),!1):!0}class wo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function $S(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.type==="touch"||P2())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&gt.update(()=>a[r](i,o))};return Fs(t.current,n,s,{passive:!t.getProps()[r]})}class VG extends wo{mount(){this.unmount=Qi($S(this.node,!0),$S(this.node,!1))}unmount(){}}class LG extends wo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qi(Ns(this.node.current,"focus",()=>this.onFocus()),Ns(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const A2=(t,e)=>e?t===e?!0:A2(t,e.parentElement):!1;function Oy(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,cg(n))}class FG extends wo{constructor(){super(...arguments),this.removeStartListeners=Rt,this.removeEndListeners=Rt,this.removeAccessibleListeners=Rt,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=Fs(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h}=this.node.getProps();gt.update(()=>{A2(this.node.current,a.target)?c&&c(a,l):h&&h(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Fs(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Qi(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Oy("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&gt.update(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ns(this.node.current,"keyup",o),Oy("down",(a,l)=>{this.startPress(a,l)})},n=Ns(this.node.current,"keydown",e),r=()=>{this.isPressing&&Oy("cancel",(i,o)=>this.cancelPress(i,o))},s=Ns(this.node.current,"blur",r);this.removeAccessibleListeners=Qi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&gt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!P2()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&gt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Fs(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ns(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Qi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const G0=new WeakMap,My=new WeakMap,UG=t=>{const e=G0.get(t.target);e&&e(t)},BG=t=>{t.forEach(UG)};function $G({root:t,...e}){const n=t||document;My.has(n)||My.set(n,{});const r=My.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(BG,{root:t,...e})),r[s]}function zG(t,e,n){const r=$G(e);return G0.set(t,n),r.observe(t),()=>{G0.delete(t),r.unobserve(t)}}const WG={some:0,all:1};class HG extends wo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:WG[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=c?h:f;p&&p(l)};return zG(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qG(e,n))&&this.startObserver()}unmount(){}}function qG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const GG={inView:{Feature:HG},tap:{Feature:FG},focus:{Feature:LG},hover:{Feature:VG}};function R2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function KG(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function QG(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function ug(t,e,n){const r=t.getProps();return H_(r,e,n!==void 0?n:r.custom,KG(t),QG(t))}let Np=Rt;const Jo=t=>t*1e3,Us=t=>t/1e3,YG={current:!1},N2=t=>Array.isArray(t)&&typeof t[0]=="number";function j2(t){return!!(!t||typeof t=="string"&&D2[t]||N2(t)||Array.isArray(t)&&t.every(j2))}const au=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,D2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function O2(t){if(t)return N2(t)?au(t):Array.isArray(t)?t.map(O2):D2[t]}function XG(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=O2(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function ZG(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const M2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,JG=1e-7,eK=12;function tK(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=M2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>JG&&++a<eK);return o}function Zd(t,e,n,r){if(t===e&&n===r)return Rt;const s=i=>tK(i,0,1,t,n);return i=>i===0||i===1?i:M2(s(i),e,r)}const nK=Zd(.42,0,1,1),rK=Zd(0,0,.58,1),V2=Zd(.42,0,.58,1),sK=t=>Array.isArray(t)&&typeof t[0]!="number",L2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,F2=t=>e=>1-t(1-e),q_=t=>1-Math.sin(Math.acos(t)),U2=F2(q_),iK=L2(q_),B2=Zd(.33,1.53,.69,.99),G_=F2(B2),oK=L2(G_),aK=t=>(t*=2)<1?.5*G_(t):.5*(2-Math.pow(2,-10*(t-1))),zS={linear:Rt,easeIn:nK,easeInOut:V2,easeOut:rK,circIn:q_,circInOut:iK,circOut:U2,backIn:G_,backInOut:oK,backOut:B2,anticipate:aK},WS=t=>{if(Array.isArray(t)){Np(t.length===4);const[e,n,r,s]=t;return Zd(e,n,r,s)}else if(typeof t=="string")return Np(zS[t]!==void 0),zS[t];return t},K_=(t,e)=>n=>!!(Yd(n)&&cG.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),$2=(t,e,n)=>r=>{if(!Yd(r))return r;const[s,i,o,a]=r.match(lg);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},lK=t=>ao(0,255,t),Vy={...Ra,transform:t=>Math.round(lK(t))},Uo={test:K_("rgb","red"),parse:$2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Vy.transform(t)+", "+Vy.transform(e)+", "+Vy.transform(n)+", "+Au(Pu.transform(r))+")"};function cK(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const K0={test:K_("#"),parse:cK,transform:Uo.transform},ll={test:K_("hsl","hue"),parse:$2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+cs.transform(Au(e))+", "+cs.transform(Au(n))+", "+Au(Pu.transform(r))+")"},En={test:t=>Uo.test(t)||K0.test(t)||ll.test(t),parse:t=>Uo.test(t)?Uo.parse(t):ll.test(t)?ll.parse(t):K0.parse(t),transform:t=>Yd(t)?t:t.hasOwnProperty("red")?Uo.transform(t):ll.transform(t)},wt=(t,e,n)=>-n*t+n*e+t;function Ly(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function uK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Ly(l,a,t+1/3),i=Ly(l,a,t),o=Ly(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Fy=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},dK=[K0,Uo,ll],hK=t=>dK.find(e=>e.test(t));function HS(t){const e=hK(t);let n=e.parse(t);return e===ll&&(n=uK(n)),n}const z2=(t,e)=>{const n=HS(t),r=HS(e),s={...n};return i=>(s.red=Fy(n.red,r.red,i),s.green=Fy(n.green,r.green,i),s.blue=Fy(n.blue,r.blue,i),s.alpha=wt(n.alpha,r.alpha,i),Uo.transform(s))};function fK(t){var e,n;return isNaN(t)&&Yd(t)&&(((e=t.match(lg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(g2))===null||n===void 0?void 0:n.length)||0)>0}const W2={regex:aG,countKey:"Vars",token:"${v}",parse:Rt},H2={regex:g2,countKey:"Colors",token:"${c}",parse:En.parse},q2={regex:lg,countKey:"Numbers",token:"${n}",parse:Ra.parse};function Uy(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function jp(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Uy(n,W2),Uy(n,H2),Uy(n,q2),n}function G2(t){return jp(t).values}function K2(t){const{values:e,numColors:n,numVars:r,tokenised:s}=jp(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(W2.token,o[l]):l<r+n?a=a.replace(H2.token,En.transform(o[l])):a=a.replace(q2.token,Au(o[l]));return a}}const pK=t=>typeof t=="number"?0:t;function mK(t){const e=G2(t);return K2(t)(e.map(pK))}const lo={test:fK,parse:G2,createTransformer:K2,getAnimatableNone:mK},Q2=(t,e)=>n=>`${n>0?e:t}`;function Y2(t,e){return typeof t=="number"?n=>wt(t,e,n):En.test(t)?z2(t,e):t.startsWith("var(")?Q2(t,e):Z2(t,e)}const X2=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>Y2(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},gK=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Y2(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},Z2=(t,e)=>{const n=lo.createTransformer(e),r=jp(t),s=jp(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Qi(X2(r.values,s.values),n):Q2(t,e)},vd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},qS=(t,e)=>n=>wt(t,e,n);function yK(t){return typeof t=="number"?qS:typeof t=="string"?En.test(t)?z2:Z2:Array.isArray(t)?X2:typeof t=="object"?gK:qS}function vK(t,e,n){const r=[],s=n||yK(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Rt:e;a=Qi(l,a)}r.push(a)}return r}function J2(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Np(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=vK(e,r,s),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const f=vd(t[h],t[h+1],c);return o[h](f)};return n?c=>l(ao(t[0],t[i-1],c)):l}function wK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=vd(0,e,r);t.push(wt(n,1,s))}}function xK(t){const e=[0];return wK(e,t.length-1),e}function _K(t,e){return t.map(n=>n*e)}function bK(t,e){return t.map(()=>e||V2).splice(0,t.length-1)}function Dp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=sK(r)?r.map(WS):WS(r),i={done:!1,value:e[0]},o=_K(n&&n.length===e.length?n:xK(e),t),a=J2(o,e,{ease:Array.isArray(s)?s:bK(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function eD(t,e){return e?t*(1e3/e):0}const EK=5;function tD(t,e,n){const r=Math.max(e-EK,0);return eD(n-t(r),e-r)}const By=.001,TK=.01,SK=10,CK=.05,IK=1;function kK({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=ao(CK,IK,o),t=ao(TK,SK,Us(t)),o<1?(s=c=>{const h=c*o,f=h*t,p=h-n,m=Q0(c,o),w=Math.exp(-f);return By-p/m*w},i=c=>{const f=c*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-f),g=Q0(Math.pow(c,2),o);return(-s(c)+By>0?-1:1)*((p-m)*w)/g}):(s=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-By+h*f},i=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,l=AK(s,i,a);if(t=Jo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const PK=12;function AK(t,e,n){let r=n;for(let s=1;s<PK;s++)r=r-t(r)/e(r);return r}function Q0(t,e){return t*Math.sqrt(1-e*e)}const RK=["duration","bounce"],NK=["stiffness","damping","mass"];function GS(t,e){return e.some(n=>t[n]!==void 0)}function jK(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!GS(t,NK)&&GS(t,RK)){const n=kK(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function nD({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:h,velocity:f,isResolvedFromDuration:p}=jK({...r,velocity:-Us(r.velocity||0)}),m=f||0,w=l/(2*Math.sqrt(a*c)),g=i-s,_=Us(Math.sqrt(a/c)),b=Math.abs(g)<5;n||(n=b?.01:2),e||(e=b?.005:.5);let v;if(w<1){const E=Q0(_,w);v=k=>{const R=Math.exp(-w*_*k);return i-R*((m+w*_*g)/E*Math.sin(E*k)+g*Math.cos(E*k))}}else if(w===1)v=E=>i-Math.exp(-_*E)*(g+(m+_*g)*E);else{const E=_*Math.sqrt(w*w-1);v=k=>{const R=Math.exp(-w*_*k),O=Math.min(E*k,300);return i-R*((m+w*_*g)*Math.sinh(O)+E*g*Math.cosh(O))/E}}return{calculatedDuration:p&&h||null,next:E=>{const k=v(E);if(p)o.done=E>=h;else{let R=m;E!==0&&(w<1?R=tD(v,E,k):R=0);const O=Math.abs(R)<=n,C=Math.abs(i-k)<=e;o.done=O&&C}return o.value=o.done?i:k,o}}}function KS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},m=S=>a!==void 0&&S<a||l!==void 0&&S>l,w=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let g=n*e;const _=f+g,b=o===void 0?_:o(_);b!==_&&(g=b-f);const v=S=>-g*Math.exp(-S/r),E=S=>b+v(S),k=S=>{const I=v(S),N=E(S);p.done=Math.abs(I)<=c,p.value=p.done?b:N};let R,O;const C=S=>{m(p.value)&&(R=S,O=nD({keyframes:[p.value,w(p.value)],velocity:tD(E,S,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return C(0),{calculatedDuration:null,next:S=>{let I=!1;return!O&&R===void 0&&(I=!0,k(S),C(S)),R!==void 0&&S>R?O.next(S-R):(!I&&k(S),p)}}}const DK=t=>{const e=({timestamp:n})=>t(n);return{start:()=>gt.update(e,!0),stop:()=>Js(e),now:()=>hn.isProcessing?hn.timestamp:performance.now()}},QS=2e4;function YS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<QS;)e+=n,r=t.next(e);return e>=QS?1/0:e}const OK={decay:KS,inertia:KS,tween:Dp,keyframes:Dp,spring:nD};function Op({autoplay:t=!0,delay:e=0,driver:n=DK,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:h,onUpdate:f,...p}){let m=1,w=!1,g,_;const b=()=>{_=new Promise(K=>{g=K})};b();let v;const E=OK[s]||Dp;let k;E!==Dp&&typeof r[0]!="number"&&(k=J2([0,100],r,{clamp:!1}),r=[0,100]);const R=E({...p,keyframes:r});let O;a==="mirror"&&(O=E({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let C="idle",S=null,I=null,N=null;R.calculatedDuration===null&&i&&(R.calculatedDuration=YS(R));const{calculatedDuration:D}=R;let j=1/0,A=1/0;D!==null&&(j=D+o,A=j*(i+1)-o);let $=0;const re=K=>{if(I===null)return;m>0&&(I=Math.min(I,K)),m<0&&(I=Math.min(K-A/m,I)),S!==null?$=S:$=Math.round(K-I)*m;const ae=$-e*(m>=0?1:-1),pe=m>=0?ae<0:ae>A;$=Math.max(ae,0),C==="finished"&&S===null&&($=A);let $e=$,tt=R;if(i){const Ze=$/j;let Pe=Math.floor(Ze),Ee=Ze%1;!Ee&&Ze>=1&&(Ee=1),Ee===1&&Pe--,Pe=Math.min(Pe,i+1);const Oe=!!(Pe%2);Oe&&(a==="reverse"?(Ee=1-Ee,o&&(Ee-=o/j)):a==="mirror"&&(tt=O));let ut=ao(0,1,Ee);$>A&&(ut=a==="reverse"&&Oe?1:0),$e=ut*j}const be=pe?{done:!1,value:r[0]}:tt.next($e);k&&(be.value=k(be.value));let{done:de}=be;!pe&&D!==null&&(de=m>=0?$>=A:$<=0);const Ue=S===null&&(C==="finished"||C==="running"&&de);return f&&f(be.value),Ue&&F(),be},G=()=>{v&&v.stop(),v=void 0},se=()=>{C="idle",G(),g(),b(),I=N=null},F=()=>{C="finished",h&&h(),G(),g()},H=()=>{if(w)return;v||(v=n(re));const K=v.now();l&&l(),S!==null?I=K-S:(!I||C==="finished")&&(I=K),C==="finished"&&b(),N=I,S=null,C="running",v.start()};t&&H();const oe={then(K,ae){return _.then(K,ae)},get time(){return Us($)},set time(K){K=Jo(K),$=K,S!==null||!v||m===0?S=K:I=v.now()-K/m},get duration(){const K=R.calculatedDuration===null?YS(R):R.calculatedDuration;return Us(K)},get speed(){return m},set speed(K){K===m||!v||(m=K,oe.time=Us($))},get state(){return C},play:H,pause:()=>{C="paused",S=$},stop:()=>{w=!0,C!=="idle"&&(C="idle",c&&c(),se())},cancel:()=>{N!==null&&re(N),se()},complete:()=>{C="finished"},sample:K=>(I=0,re(K))};return oe}function MK(t){let e;return()=>(e===void 0&&(e=t()),e)}const VK=MK(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),LK=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Gh=10,FK=2e4,UK=(t,e)=>e.type==="spring"||t==="backgroundColor"||!j2(e.ease);function BK(t,e,{onUpdate:n,onComplete:r,...s}){if(!(VK()&&LK.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(v=>{a=v})};c();let{keyframes:h,duration:f=300,ease:p,times:m}=s;if(UK(e,s)){const v=Op({...s,repeat:0,delay:0});let E={done:!1,value:h[0]};const k=[];let R=0;for(;!E.done&&R<FK;)E=v.sample(R),k.push(E.value),R+=Gh;m=void 0,h=k,f=R-Gh,p="linear"}const w=XG(t.owner.current,e,h,{...s,duration:f,ease:p,times:m}),g=()=>w.cancel(),_=()=>{gt.update(g),a(),c()};return w.onfinish=()=>{t.set(ZG(h,s)),r&&r(),_()},{then(v,E){return l.then(v,E)},attachTimeline(v){return w.timeline=v,w.onfinish=null,Rt},get time(){return Us(w.currentTime||0)},set time(v){w.currentTime=Jo(v)},get speed(){return w.playbackRate},set speed(v){w.playbackRate=v},get duration(){return Us(f)},play:()=>{o||(w.play(),Js(g))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:v}=w;if(v){const E=Op({...s,autoplay:!1});t.setWithVelocity(E.sample(v-Gh).value,E.sample(v).value,Gh)}_()},complete:()=>w.finish(),cancel:_}}function $K({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Rt,pause:Rt,stop:Rt,then:i=>(i(),Promise.resolve()),cancel:Rt,complete:Rt});return e?Op({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const zK={type:"spring",stiffness:500,damping:25,restSpeed:10},WK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HK={type:"keyframes",duration:.8},qK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GK=(t,{keyframes:e})=>e.length>2?HK:Aa.has(t)?t.startsWith("scale")?WK(e[1]):zK:qK,Y0=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(lo.test(e)||e==="0")&&!e.startsWith("url(")),KK=new Set(["brightness","contrast","saturate","opacity"]);function QK(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(lg)||[];if(!r)return t;const s=n.replace(r,"");let i=KK.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const YK=/([a-z-]*)\(.*?\)/g,X0={...lo,getAnimatableNone:t=>{const e=t.match(YK);return e?e.map(QK).join(" "):t}},XK={...y2,color:En,backgroundColor:En,outlineColor:En,fill:En,stroke:En,borderColor:En,borderTopColor:En,borderRightColor:En,borderBottomColor:En,borderLeftColor:En,filter:X0,WebkitFilter:X0},Q_=t=>XK[t];function rD(t,e){let n=Q_(t);return n!==X0&&(n=lo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sD=t=>/^0[^.\s]+$/.test(t);function ZK(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||sD(t)}function JK(t,e,n,r){const s=Y0(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),ZK(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const h=l[c];i[h]=rD(e,a)}return i}function eQ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function Y_(t,e){return t[e]||t.default||t}const tQ={skipAnimations:!1},X_=(t,e,n,r={})=>s=>{const i=Y_(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Jo(o);const l=JK(e,t,n,i),c=l[0],h=l[l.length-1],f=Y0(t,c),p=Y0(t,h);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:w=>{e.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(eQ(i)||(m={...m,...GK(t,m)}),m.duration&&(m.duration=Jo(m.duration)),m.repeatDelay&&(m.repeatDelay=Jo(m.repeatDelay)),!f||!p||YG.current||i.type===!1||tQ.skipAnimations)return $K(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=BK(e,t,m);if(w)return w}return Op(m)};function Mp(t){return!!($n(t)&&t.add)}const iD=t=>/^\-?\d*\.?\d+$/.test(t);function Z_(t,e){t.indexOf(e)===-1&&t.push(e)}function J_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class eb{constructor(){this.subscriptions=[]}add(e){return Z_(this.subscriptions,e),()=>J_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nQ=t=>!isNaN(parseFloat(t));class rQ{constructor(e,n={}){this.version="10.17.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=hn;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,gt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>gt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=nQ(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new eb);const r=this.events[e].add(n);return e==="change"?()=>{r(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?eD(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nc(t,e){return new rQ(t,e)}const oD=t=>e=>e.test(t),sQ={test:t=>t==="auto",parse:t=>t},aD=[Ra,we,cs,pi,dG,uG,sQ],qc=t=>aD.find(oD(t)),iQ=[...aD,En,lo],oQ=t=>iQ.find(oD(t));function aQ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,nc(n))}function lQ(t,e){const n=ug(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=CG(i[o]);aQ(t,o,a)}}function cQ(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=e[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),h!=null&&(typeof h=="string"&&(iD(h)||sD(h))?h=parseFloat(h):!oQ(h)&&lo.test(c)&&(h=rD(l,c)),t.addValue(l,nc(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function uQ(t,e){return e?(e[t]||e.default||e).from:void 0}function dQ(t,e,n){const r={};for(const s in t){const i=uQ(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function hQ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function fQ(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function lD(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const p=t.getValue(f),m=a[f];if(!p||m===void 0||h&&hQ(h,f))continue;const w={delay:n,elapsed:0,...Y_(i||{},f)};if(window.HandoffAppearAnimations){const b=t.getProps()[c2];if(b){const v=window.HandoffAppearAnimations(b,f,p,gt);v!==null&&(w.elapsed=v,w.isHandoff=!0)}}let g=!w.isHandoff&&!fQ(p,m);if(w.type==="spring"&&(p.getVelocity()||w.velocity)&&(g=!1),p.animation&&(g=!1),g)continue;p.start(X_(f,p,m,t.shouldReduceMotion&&Aa.has(f)?{type:!1}:w));const _=p.animation;Mp(l)&&(l.add(f),_.then(()=>l.remove(f))),c.push(_)}return o&&Promise.all(c).then(()=>{o&&lQ(t,o)}),c}function Z0(t,e,n={}){const r=ug(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(lD(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=s;return pQ(t,e,c+l,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function pQ(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(mQ).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Z0(c,e,{...i,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function mQ(t,e){return t.sortNodePosition(e)}function gQ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Z0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Z0(t,e,n);else{const s=typeof e=="function"?ug(t,e,n.custom):e;r=Promise.all(lD(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const yQ=[...V_].reverse(),vQ=V_.length;function wQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>gQ(t,n,r)))}function xQ(t){let e=wQ(t);const n=bQ();let r=!0;const s=(l,c)=>{const h=ug(t,c);if(h){const{transition:f,transitionEnd:p,...m}=h;l={...l,...m,...p}}return l};function i(l){e=l(t)}function o(l,c){const h=t.getProps(),f=t.getVariantContext(!0)||{},p=[],m=new Set;let w={},g=1/0;for(let b=0;b<vQ;b++){const v=yQ[b],E=n[v],k=h[v]!==void 0?h[v]:f[v],R=gd(k),O=v===c?E.isActive:null;O===!1&&(g=b);let C=k===f[v]&&k!==h[v]&&R;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),E.protectedKeys={...w},!E.isActive&&O===null||!k&&!E.prevProp||og(k)||typeof k=="boolean")continue;let I=_Q(E.prevProp,k)||v===c&&E.isActive&&!C&&R||b>g&&R,N=!1;const D=Array.isArray(k)?k:[k];let j=D.reduce(s,{});O===!1&&(j={});const{prevResolvedValues:A={}}=E,$={...A,...j},re=G=>{I=!0,m.has(G)&&(N=!0,m.delete(G)),E.needsAnimating[G]=!0};for(const G in $){const se=j[G],F=A[G];if(w.hasOwnProperty(G))continue;let H=!1;Rp(se)&&Rp(F)?H=!R2(se,F):H=se!==F,H?se!==void 0?re(G):m.add(G):se!==void 0&&m.has(G)?re(G):E.protectedKeys[G]=!0}E.prevProp=k,E.prevResolvedValues=j,E.isActive&&(w={...w,...j}),r&&t.blockInitialAnimation&&(I=!1),I&&(!C||N)&&p.push(...D.map(G=>({animation:G,options:{type:v,...l}})))}if(m.size){const b={};m.forEach(v=>{const E=t.getBaseTarget(v);E!==void 0&&(b[v]=E)}),p.push({animation:b})}let _=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(p):Promise.resolve()}function a(l,c,h){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var w;return(w=m.animationState)===null||w===void 0?void 0:w.setActive(l,c)}),n[l].isActive=c;const p=o(h,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function _Q(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!R2(e,t):!1}function Io(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bQ(){return{animate:Io(!0),whileInView:Io(),whileHover:Io(),whileTap:Io(),whileDrag:Io(),whileFocus:Io(),exit:Io()}}class EQ extends wo{constructor(e){super(e),e.animationState||(e.animationState=xQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),og(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let TQ=0;class SQ extends wo{constructor(){super(...arguments),this.id=TQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const CQ={animation:{Feature:EQ},exit:{Feature:SQ}},XS=(t,e)=>Math.abs(t-e);function IQ(t,e){const n=XS(t.x,e.x),r=XS(t.y,e.y);return Math.sqrt(n**2+r**2)}class cD{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=zy(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=IQ(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:w}=f,{timestamp:g}=hn;this.history.push({...w,timestamp:g});const{onStart:_,onMove:b}=this.handlers;p||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=$y(p,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:w,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=zy(f.type==="pointercancel"?this.lastMoveEventInfo:$y(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,_),w&&w(f,_)},!C2(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=cg(e),a=$y(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=hn;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,zy(a,this.history)),this.removeListeners=Qi(Fs(this.contextWindow,"pointermove",this.handlePointerMove),Fs(this.contextWindow,"pointerup",this.handlePointerUp),Fs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Js(this.updatePoint)}}function $y(t,e){return e?{point:e(t.point)}:t}function ZS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zy({point:t},e){return{point:t,delta:ZS(t,uD(e)),offset:ZS(t,kQ(e)),velocity:PQ(e,.1)}}function kQ(t){return t[0]}function uD(t){return t[t.length-1]}function PQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=uD(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Jo(e)));)n--;if(!r)return{x:0,y:0};const i=Us(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rr(t){return t.max-t.min}function J0(t,e=0,n=.01){return Math.abs(t-e)<=n}function JS(t,e,n,r=.5){t.origin=r,t.originPoint=wt(e.min,e.max,t.origin),t.scale=rr(n)/rr(e),(J0(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=wt(n.min,n.max,t.origin)-t.originPoint,(J0(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ru(t,e,n,r){JS(t.x,e.x,n.x,r?r.originX:void 0),JS(t.y,e.y,n.y,r?r.originY:void 0)}function eC(t,e,n){t.min=n.min+e.min,t.max=t.min+rr(e)}function AQ(t,e,n){eC(t.x,e.x,n.x),eC(t.y,e.y,n.y)}function tC(t,e,n){t.min=e.min-n.min,t.max=t.min+rr(e)}function Nu(t,e,n){tC(t.x,e.x,n.x),tC(t.y,e.y,n.y)}function RQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?wt(n,t,r.max):Math.min(t,n)),t}function nC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function NQ(t,{top:e,left:n,bottom:r,right:s}){return{x:nC(t.x,n,s),y:nC(t.y,e,r)}}function rC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function jQ(t,e){return{x:rC(t.x,e.x),y:rC(t.y,e.y)}}function DQ(t,e){let n=.5;const r=rr(t),s=rr(e);return s>r?n=vd(e.min,e.max-r,t.min):r>s&&(n=vd(t.min,t.max-s,e.min)),ao(0,1,n)}function OQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ew=.35;function MQ(t=ew){return t===!1?t=0:t===!0&&(t=ew),{x:sC(t,"left","right"),y:sC(t,"top","bottom")}}function sC(t,e,n){return{min:iC(t,e),max:iC(t,n)}}function iC(t,e){return typeof t=="number"?t:t[e]||0}const oC=()=>({translate:0,scale:1,origin:0,originPoint:0}),cl=()=>({x:oC(),y:oC()}),aC=()=>({min:0,max:0}),Mt=()=>({x:aC(),y:aC()});function lr(t){return[t("x"),t("y")]}function dD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function VQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function LQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Wy(t){return t===void 0||t===1}function tw({scale:t,scaleX:e,scaleY:n}){return!Wy(t)||!Wy(e)||!Wy(n)}function Ro(t){return tw(t)||hD(t)||t.z||t.rotate||t.rotateX||t.rotateY}function hD(t){return lC(t.x)||lC(t.y)}function lC(t){return t&&t!=="0%"}function Vp(t,e,n){const r=t-n,s=e*r;return n+s}function cC(t,e,n,r,s){return s!==void 0&&(t=Vp(t,s,r)),Vp(t,n,r)+e}function nw(t,e=0,n=1,r,s){t.min=cC(t.min,e,n,r,s),t.max=cC(t.max,e,n,r,s)}function fD(t,{x:e,y:n}){nw(t.x,e.translate,e.scale,e.originPoint),nw(t.y,n.translate,n.scale,n.originPoint)}function FQ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ul(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,fD(t,o)),r&&Ro(i.latestValues)&&ul(t,i.latestValues))}e.x=uC(e.x),e.y=uC(e.y)}function uC(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function vi(t,e){t.min=t.min+e,t.max=t.max+e}function dC(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=wt(t.min,t.max,i);nw(t,e[n],e[r],o,e.scale)}const UQ=["x","scaleX","originX"],BQ=["y","scaleY","originY"];function ul(t,e){dC(t.x,e,UQ),dC(t.y,e,BQ)}function pD(t,e){return dD(LQ(t.getBoundingClientRect(),e))}function $Q(t,e,n){const r=pD(t,n),{scroll:s}=e;return s&&(vi(r.x,s.offset.x),vi(r.y,s.offset.y)),r}const mD=({current:t})=>t?t.ownerDocument.defaultView:null,zQ=new WeakMap;class WQ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cg(h,"page").point)},i=(h,f)=>{const{drag:p,dragPropagation:m,onDragStart:w}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=k2(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lr(_=>{let b=this.getAxisMotionValue(_).get()||0;if(cs.test(b)){const{projection:v}=this.visualElement;if(v&&v.layout){const E=v.layout.layoutBox[_];E&&(b=rr(E)*(parseFloat(b)/100))}}this.originPoint[_]=b}),w&&gt.update(()=>w(h,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:w,onDrag:g}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:_}=f;if(m&&this.currentDirection===null){this.currentDirection=HQ(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),g&&g(h,f)},a=(h,f)=>this.stop(h,f),l=()=>lr(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new cD(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:mD(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&gt.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Kh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=RQ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&al(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=NQ(s.layoutBox,n):this.constraints=!1,this.elastic=MQ(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&lr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=OQ(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!al(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=$Q(r,s.root,this.visualElement.getTransformPagePoint());let o=jQ(s.layout.layoutBox,i);if(n){const a=n(VQ(o));this.hasMutatedConstraints=!!a,a&&(o=dD(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=lr(h=>{if(!Kh(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(X_(e,r,0,n))}stopAnimation(){lr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){lr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){lr(n=>{const{drag:r}=this.getProps();if(!Kh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-wt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!al(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};lr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=DQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),lr(o=>{if(!Kh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(wt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;zQ.set(this.visualElement,this);const e=this.visualElement.current,n=Fs(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();al(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Ns(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(lr(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ew,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Kh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function HQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qQ extends wo{constructor(e){super(e),this.removeGroupControls=Rt,this.removeListeners=Rt,this.controls=new WQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rt}unmount(){this.removeGroupControls(),this.removeListeners()}}const hC=t=>(e,n)=>{t&&gt.update(()=>t(e,n))};class GQ extends wo{constructor(){super(...arguments),this.removePointerDownListener=Rt}onPointerDown(e){this.session=new cD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:hC(e),onStart:hC(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&gt.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Fs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function KQ(){const t=x.useContext(O_);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=x.useId();return x.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=fC(t,e.target.x),r=fC(t,e.target.y);return`${n}% ${r}%`}},QQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=lo.parse(t);if(s.length>5)return r;const i=lo.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=wt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class YQ extends z.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;rG(XQ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||gt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gD(t){const[e,n]=KQ(),r=x.useContext(d2);return z.createElement(YQ,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(h2),isPresent:e,safeToRemove:n})}const XQ={borderRadius:{...Gc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gc,borderTopRightRadius:Gc,borderBottomLeftRadius:Gc,borderBottomRightRadius:Gc,boxShadow:QQ},yD=["TopLeft","TopRight","BottomLeft","BottomRight"],ZQ=yD.length,pC=t=>typeof t=="string"?parseFloat(t):t,mC=t=>typeof t=="number"||we.test(t);function JQ(t,e,n,r,s,i){s?(t.opacity=wt(0,n.opacity!==void 0?n.opacity:1,eY(r)),t.opacityExit=wt(e.opacity!==void 0?e.opacity:1,0,tY(r))):i&&(t.opacity=wt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<ZQ;o++){const a=`border${yD[o]}Radius`;let l=gC(e,a),c=gC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||mC(l)===mC(c)?(t[a]=Math.max(wt(pC(l),pC(c),r),0),(cs.test(c)||cs.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=wt(e.rotate||0,n.rotate||0,r))}function gC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const eY=vD(0,.5,U2),tY=vD(.5,.95,Rt);function vD(t,e,n){return r=>r<t?0:r>e?1:n(vd(t,e,r))}function yC(t,e){t.min=e.min,t.max=e.max}function or(t,e){yC(t.x,e.x),yC(t.y,e.y)}function vC(t,e,n,r,s){return t-=e,t=Vp(t,1/n,r),s!==void 0&&(t=Vp(t,1/s,r)),t}function nY(t,e=0,n=1,r=.5,s,i=t,o=t){if(cs.test(e)&&(e=parseFloat(e),e=wt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=wt(i.min,i.max,r);t===i&&(a-=e),t.min=vC(t.min,e,n,a,s),t.max=vC(t.max,e,n,a,s)}function wC(t,e,[n,r,s],i,o){nY(t,e[n],e[r],e[s],e.scale,i,o)}const rY=["x","scaleX","originX"],sY=["y","scaleY","originY"];function xC(t,e,n,r){wC(t.x,e,rY,n?n.x:void 0,r?r.x:void 0),wC(t.y,e,sY,n?n.y:void 0,r?r.y:void 0)}function _C(t){return t.translate===0&&t.scale===1}function wD(t){return _C(t.x)&&_C(t.y)}function iY(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function xD(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function bC(t){return rr(t.x)/rr(t.y)}class oY{constructor(){this.members=[]}add(e){Z_(this.members,e),e.scheduleRender()}remove(e){if(J_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EC(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:h}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const aY=(t,e)=>t.depth-e.depth;class lY{constructor(){this.children=[],this.isDirty=!1}add(e){Z_(this.children,e),this.isDirty=!0}remove(e){J_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aY),this.isDirty=!1,this.children.forEach(e)}}function cY(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Js(r),t(i-e))};return gt.read(r,!0),()=>Js(r)}function uY(t){window.MotionDebug&&window.MotionDebug.record(t)}function dY(t){return t instanceof SVGElement&&t.tagName!=="svg"}function hY(t,e,n){const r=$n(t)?t:nc(t);return r.start(X_("",r,e,n)),r.animation}const TC=["","X","Y","Z"],fY={visibility:"hidden"},SC=1e3;let pY=0;const No={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _D({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=pY++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,No.totalNodes=No.resolvedTargetDeltas=No.recalculatedProjection=0,this.nodes.forEach(yY),this.nodes.forEach(bY),this.nodes.forEach(EY),this.nodes.forEach(vY),uY(No)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new lY)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new eb),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=dY(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=cY(p,250),kf.hasAnimatedSinceResize&&(kf.hasAnimatedSinceResize=!1,this.nodes.forEach(IC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||h.getDefaultTransition()||kY,{onLayoutAnimationStart:_,onLayoutAnimationComplete:b}=h.getProps(),v=!this.targetLayout||!xD(this.targetLayout,w)||m,E=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const k={...Y_(g,"layout"),onPlay:_,onComplete:b};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else p||IC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TY),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CC);return}this.isUpdating||this.nodes.forEach(xY),this.isUpdating=!1,this.nodes.forEach(_Y),this.nodes.forEach(mY),this.nodes.forEach(gY),this.clearAllSnapshots();const a=performance.now();hn.delta=ao(0,1e3/60,a-hn.timestamp),hn.timestamp=a,hn.isProcessing=!0,Dy.update.process(hn),Dy.preRender.process(hn),Dy.render.process(hn),hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(wY),this.sharedNodes.forEach(SY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!wD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Ro(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),PY(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Mt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(vi(a.x,l.offset.x),vi(a.y,l.offset.y)),a}removeElementScroll(o){const a=Mt();or(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:f}=c;if(c!==this.root&&h&&f.layoutScroll){if(h.isRoot){or(a,o);const{scroll:p}=this.root;p&&(vi(a.x,-p.offset.x),vi(a.y,-p.offset.y))}vi(a.x,h.offset.x),vi(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=Mt();or(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ul(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ro(h.latestValues)&&ul(l,h.latestValues)}return Ro(this.latestValues)&&ul(l,this.latestValues),l}removeTransform(o){const a=Mt();or(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ro(c.latestValues))continue;tw(c.latestValues)&&c.updateSnapshot();const h=Mt(),f=c.measurePageBox();or(h,f),xC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Ro(this.latestValues)&&xC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=hn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),Nu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Mt(),this.targetWithTransforms=Mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):or(this.target,this.layout.layoutBox),fD(this.target,this.targetDelta)):or(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),Nu(this.relativeTargetOrigin,this.target,m.target),or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}No.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tw(this.parent.latestValues)||hD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===hn.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;or(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;FQ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=cl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=cl(),this.projectionDeltaWithTransform=cl());const g=this.projectionTransform;Ru(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=EC(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),No.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Mt(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,g=m!==w,_=this.getStack(),b=!_||_.members.length<=1,v=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(IY));this.animationProgress=0;let E;this.mixTargetDelta=k=>{const R=k/1e3;kC(f.x,o.x,R),kC(f.y,o.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CY(this.relativeTarget,this.relativeTargetOrigin,p,R),E&&iY(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Mt()),or(E,this.relativeTarget)),g&&(this.animationValues=h,JQ(h,c,this.latestValues,R,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{kf.hasAnimatedSinceResize=!0,this.currentAnimation=hY(0,SC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&bD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Mt();const f=rr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=rr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}or(a,l),ul(a,h),Ru(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new oY),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<TC.length;h++){const f="rotate"+TC[h];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return fY;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=If(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=If(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ro(this.latestValues)&&(g.transform=h?h({},""):"none",this.hasProjected=!1),g}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=EC(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:m,y:w}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in Pp){if(p[g]===void 0)continue;const{correct:_,applyTo:b}=Pp[g],v=c.transform==="none"?p[g]:_(p[g],f);if(b){const E=b.length;for(let k=0;k<E;k++)c[b[k]]=v}else c[g]=v}return this.options.layoutId&&(c.pointerEvents=f===this?If(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(CC),this.root.sharedNodes.clear()}}}function mY(t){t.updateLayout()}function gY(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?lr(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=rr(p);p.min=r[f].min,p.max=p.min+m}):bD(i,n.layoutBox,r)&&lr(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=rr(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=cl();Ru(a,r,n.layoutBox);const l=cl();o?Ru(l,t.applyTransform(s,!0),n.measuredBox):Ru(l,r,n.layoutBox);const c=!wD(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const w=Mt();Nu(w,n.layoutBox,p.layoutBox);const g=Mt();Nu(g,r,m.layoutBox),xD(w,g)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=w,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function yY(t){No.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function wY(t){t.clearSnapshot()}function CC(t){t.clearMeasurements()}function xY(t){t.isLayoutDirty=!1}function _Y(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bY(t){t.resolveTargetDelta()}function EY(t){t.calcProjection()}function TY(t){t.resetRotation()}function SY(t){t.removeLeadSnapshot()}function kC(t,e,n){t.translate=wt(e.translate,0,n),t.scale=wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function PC(t,e,n,r){t.min=wt(e.min,n.min,r),t.max=wt(e.max,n.max,r)}function CY(t,e,n,r){PC(t.x,e.x,n.x,r),PC(t.y,e.y,n.y,r)}function IY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kY={duration:.45,ease:[.4,0,.1,1]},AC=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),RC=AC("applewebkit/")&&!AC("chrome/")?Math.round:Rt;function NC(t){t.min=RC(t.min),t.max=RC(t.max)}function PY(t){NC(t.x),NC(t.y)}function bD(t,e,n){return t==="position"||t==="preserve-aspect"&&!J0(bC(e),bC(n),.2)}const AY=_D({attachResizeListener:(t,e)=>Ns(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hy={current:void 0},ED=_D({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hy.current){const t=new AY({});t.mount(window),t.setOptions({layoutScroll:!0}),Hy.current=t}return Hy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),RY={pan:{Feature:GQ},drag:{Feature:qQ,ProjectionNode:ED,MeasureLayout:gD}},NY=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function jY(t){const e=NY.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function rw(t,e,n=1){const[r,s]=jY(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return iD(o)?parseFloat(o):o}else return q0(s)?rw(s,e,n+1):s}function DY(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!q0(i))return;const o=rw(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!q0(i))continue;const o=rw(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const OY=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),TD=t=>OY.has(t),MY=t=>Object.keys(t).some(TD),jC=t=>t===Ra||t===we,DC=(t,e)=>parseFloat(t.split(", ")[e]),OC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return DC(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?DC(i[1],t):0}},VY=new Set(["x","y","z"]),LY=Qd.filter(t=>!VY.has(t));function FY(t){const e=[];return LY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const rc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:OC(4,13),y:OC(5,14)};rc.translateX=rc.x;rc.translateY=rc.y;const UY=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=rc[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),t[c]=rc[c](l,i)}),t},BY=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(TD);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],f=qc(h);const p=e[l];let m;if(Rp(p)){const w=p.length,g=p[0]===null?1:0;h=p[g],f=qc(h);for(let _=g;_<w&&p[_]!==null;_++)m?Np(qc(p[_])===m):m=qc(p[_])}else m=qc(p);if(f!==m)if(jC(f)&&jC(m)){const w=c.get();typeof w=="string"&&c.set(parseFloat(w)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===we&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(h===0||p===0)?h===0?c.set(m.transform(h)):e[l]=f.transform(p):(o||(i=FY(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=UY(e,t,a);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),ig&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function $Y(t,e,n,r){return MY(e)?BY(t,e,n,r):{target:e,transitionEnd:r}}const zY=(t,e,n,r)=>{const s=DY(t,e,r);return e=s.target,r=s.transitionEnd,$Y(t,e,n,r)},sw={current:null},SD={current:!1};function WY(){if(SD.current=!0,!!ig)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>sw.current=t.matches;t.addListener(e),e()}else sw.current=!1}function HY(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if($n(i))t.addValue(s,i),Mp(r)&&r.add(s);else if($n(o))t.addValue(s,nc(i,{owner:t})),Mp(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,nc(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const MC=new WeakMap,CD=Object.keys(yd),qY=CD.length,VC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],GY=L_.length;class KY{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>gt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=ag(n),this.isVariantNode=u2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const p=h[f];a[f]!==void 0&&$n(p)&&(p.set(a[f],!1),Mp(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,MC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),SD.current||WY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){MC.delete(this.current),this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Aa.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&gt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<qY;l++){const c=CD[l],{isEnabled:h,Feature:f,ProjectionNode:p,MeasureLayout:m}=yd[c];p&&(o=p),h(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:h,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||f&&al(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<VC.length;r++){const s=VC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=HY(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<GY;r++){const s=L_[r],i=this.props[s];(gd(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=nc(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=H_(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!$n(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new eb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class ID extends KY{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=dQ(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){cQ(this,r,o);const a=zY(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function QY(t){return window.getComputedStyle(t)}class YY extends ID{readValueFromInstance(e,n){if(Aa.has(n)){const r=Q_(n);return r&&r.default||0}else{const r=QY(e),s=(m2(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pD(e,n)}build(e,n,r,s){U_(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return W_(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$n(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){_2(e,n,r,s)}}class XY extends ID{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Aa.has(n)){const r=Q_(n);return r&&r.default||0}return n=b2.has(n)?n:M_(n),e.getAttribute(n)}measureInstanceViewportBox(){return Mt()}scrapeMotionValuesFromProps(e,n){return T2(e,n)}build(e,n,r,s){$_(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){E2(e,n,r,s)}mount(e){this.isSVGTag=z_(e.tagName),super.mount(e)}}const ZY=(t,e)=>F_(t)?new XY(e,{enableHardwareAcceleration:!1}):new YY(e,{enableHardwareAcceleration:!0}),JY={layout:{ProjectionNode:ED,MeasureLayout:gD}},eX={...CQ,...GG,...RY,...JY},xt=tG((t,e)=>DG(t,e,eX,ZY)),tX=jd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ie=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Zi:"button";return u.jsx(o,{className:ke(tX({variant:e,size:n,className:t})),ref:i,...s})});Ie.displayName="Button";const gs=()=>u.jsx("footer",{className:"bg-trust-chain-dark-accent/50 border-t border-white/5 py-8",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[u.jsxs("div",{className:"mb-6 md:mb-0",children:[u.jsxs(Bt,{to:"/",className:"flex items-center gap-2",children:[u.jsx(qs,{className:"h-6 w-6 text-trust-chain-blue"}),u.jsxs("span",{className:"text-lg font-bold",children:["Trust",u.jsx("span",{className:"text-trust-chain-blue",children:"Chain"})]})]}),u.jsx("p",{className:"text-white/60 text-sm mt-2 max-w-sm",children:"Anonymous crime reporting platform secured by blockchain technology."})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8 md:gap-12 text-center md:text-left",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-3",children:"Platform"}),u.jsxs("ul",{className:"space-y-2 text-white/60 text-sm",children:[u.jsx("li",{children:u.jsx(Bt,{to:"/about",className:"hover:text-white transition-colors",children:"About Us"})}),u.jsx("li",{children:u.jsx(Bt,{to:"/faq",className:"hover:text-white transition-colors",children:"FAQ"})}),u.jsx("li",{children:u.jsx(Bt,{to:"/",className:"hover:text-white transition-colors",children:"Security"})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-3",children:"Resources"}),u.jsxs("ul",{className:"space-y-2 text-white/60 text-sm",children:[u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Documentation"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-3",children:"Connect"}),u.jsxs("div",{className:"flex justify-center md:justify-start space-x-4",children:[u.jsx("a",{href:"#",className:"text-white/60 hover:text-white transition-colors",children:u.jsx(rU,{className:"h-5 w-5"})}),u.jsx("a",{href:"#",className:"text-white/60 hover:text-white transition-colors",children:u.jsx(uU,{className:"h-5 w-5"})})]})]})]})]}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-white/5 flex flex-col md:flex-row justify-between items-center text-white/60 text-sm",children:[u.jsxs("p",{children:[" ",new Date().getFullYear()," SafeSpeak. All rights reserved."]}),u.jsx("p",{className:"mt-2 md:mt-0",children:"Made with privacy & security in mind."})]})]})}),nX=()=>u.jsxs("div",{className:"min-h-screen flex flex-col bg-trust-chain-dark",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-trust-chain-dark-accent/30 pointer-events-none"}),u.jsx("main",{className:"flex-1 flex flex-col items-center justify-center px-4 py-16",children:u.jsxs(xt.div,{className:"container max-w-4xl z-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[u.jsx("div",{className:"flex justify-center mb-8",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-trust-chain-blue to-trust-chain-green rounded-full blur opacity-70"}),u.jsx("div",{className:"relative bg-trust-chain-dark p-5 rounded-full",children:u.jsx(qs,{className:"h-20 w-20 text-trust-chain-blue"})})]})}),u.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-center mb-6",children:["Trust",u.jsx("span",{className:"text-trust-chain-blue",children:"Chain"})]}),u.jsx("p",{className:"text-xl md:text-2xl text-white/80 text-center mb-16",children:"Secure, Anonymous Crime Reporting"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-3xl mx-auto",children:[u.jsxs(xt.div,{className:"glass-card p-8 rounded-2xl flex flex-col items-center text-center",whileHover:{y:-5,transition:{duration:.2}},children:[u.jsx("div",{className:"bg-trust-chain-blue/15 p-4 rounded-full mb-4",children:u.jsx(dU,{className:"h-10 w-10 text-trust-chain-blue"})}),u.jsx("h2",{className:"text-2xl font-bold mb-3",children:"User Access"}),u.jsx("p",{className:"text-white/70 mb-6",children:"Create an anonymous profile and report crimes securely with complete privacy."}),u.jsx("div",{className:"flex flex-col w-full gap-3",children:u.jsx(Ie,{asChild:!0,className:"w-full bg-trust-chain-blue hover:bg-trust-chain-blue/90",children:u.jsx(Bt,{to:"/login",children:"Login"})})})]}),u.jsxs(xt.div,{className:"glass-card p-8 rounded-2xl flex flex-col items-center text-center",whileHover:{y:-5,transition:{duration:.2}},children:[u.jsx("div",{className:"bg-trust-chain-green/15 p-4 rounded-full mb-4",children:u.jsx(hU,{className:"h-10 w-10 text-trust-chain-green"})}),u.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Admin Access"}),u.jsx("p",{className:"text-white/70 mb-6",children:"Authorized personnel login to manage and investigate reported cases."}),u.jsx("div",{className:"flex flex-col w-full gap-3",children:u.jsx(Ie,{asChild:!0,className:"w-full bg-trust-chain-green hover:bg-trust-chain-green/90",children:u.jsx(Bt,{to:"/admin-login",children:"Admin Login"})})})]})]}),u.jsx("div",{className:"mt-16 text-center",children:u.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/5 px-4 py-2 rounded-full",children:[u.jsx(r0,{className:"h-4 w-4 text-trust-chain-blue"}),u.jsx("span",{className:"text-sm text-white/60",children:"Blockchain Secured | Zero Data Collection | Anonymous Reporting"})]})})]})}),u.jsx(gs,{})]});function $r(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ga(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const kD=6048e5,rX=864e5;let sX={};function dg(){return sX}function wd(t,e){var a,l,c,h;const n=dg(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,s=$r(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Lp(t){return wd(t,{weekStartsOn:1})}function PD(t){const e=$r(t),n=e.getFullYear(),r=ga(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Lp(r),i=ga(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Lp(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function LC(t){const e=$r(t);return e.setHours(0,0,0,0),e}function FC(t){const e=$r(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function iX(t,e){const n=LC(t),r=LC(e),s=+n-FC(n),i=+r-FC(r);return Math.round((s-i)/rX)}function oX(t){const e=PD(t),n=ga(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Lp(n)}function aX(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function lX(t){if(!aX(t)&&typeof t!="number")return!1;const e=$r(t);return!isNaN(Number(e))}function cX(t){const e=$r(t),n=ga(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const uX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dX=(t,e,n)=>{let r;const s=uX[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function qy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const hX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mX={date:qy({formats:hX,defaultWidth:"full"}),time:qy({formats:fX,defaultWidth:"full"}),dateTime:qy({formats:pX,defaultWidth:"full"})},gX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yX=(t,e,n,r)=>gX[t];function Kc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const vX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_X={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},TX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},SX={ordinalNumber:TX,era:Kc({values:vX,defaultWidth:"wide"}),quarter:Kc({values:wX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Kc({values:xX,defaultWidth:"wide"}),day:Kc({values:_X,defaultWidth:"wide"}),dayPeriod:Kc({values:bX,defaultWidth:"wide",formattingValues:EX,defaultFormattingWidth:"wide"})};function Qc(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?IX(a,f=>f.test(o)):CX(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}function CX(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function IX(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function kX(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const PX=/^(\d+)(th|st|nd|rd)?/i,AX=/\d+/i,RX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NX={any:[/^b/i,/^(a|c)/i]},jX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DX={any:[/1/i,/2/i,/3/i,/4/i]},OX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},VX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},LX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BX={ordinalNumber:kX({matchPattern:PX,parsePattern:AX,valueCallback:t=>parseInt(t,10)}),era:Qc({matchPatterns:RX,defaultMatchWidth:"wide",parsePatterns:NX,defaultParseWidth:"any"}),quarter:Qc({matchPatterns:jX,defaultMatchWidth:"wide",parsePatterns:DX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qc({matchPatterns:OX,defaultMatchWidth:"wide",parsePatterns:MX,defaultParseWidth:"any"}),day:Qc({matchPatterns:VX,defaultMatchWidth:"wide",parsePatterns:LX,defaultParseWidth:"any"}),dayPeriod:Qc({matchPatterns:FX,defaultMatchWidth:"any",parsePatterns:UX,defaultParseWidth:"any"})},$X={code:"en-US",formatDistance:dX,formatLong:mX,formatRelative:yX,localize:SX,match:BX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zX(t){const e=$r(t);return iX(e,cX(e))+1}function WX(t){const e=$r(t),n=+Lp(e)-+oX(e);return Math.round(n/kD)+1}function AD(t,e){var h,f,p,m;const n=$r(t),r=n.getFullYear(),s=dg(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=ga(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=wd(o,e),l=ga(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=wd(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function HX(t,e){var a,l,c,h;const n=dg(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,s=AD(t,e),i=ga(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),wd(i,e)}function qX(t,e){const n=$r(t),r=+wd(n,e)-+HX(n,e);return Math.round(r/kD)+1}function rt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const hi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return rt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):rt(n+1,2)},d(t,e){return rt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return rt(t.getHours()%12||12,e.length)},H(t,e){return rt(t.getHours(),e.length)},m(t,e){return rt(t.getMinutes(),e.length)},s(t,e){return rt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return rt(s,e.length)}},Fa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return hi.y(t,e)},Y:function(t,e,n,r){const s=AD(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return rt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):rt(i,e.length)},R:function(t,e){const n=PD(t);return rt(n,e.length)},u:function(t,e){const n=t.getFullYear();return rt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return rt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return rt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return hi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return rt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=qX(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):rt(s,e.length)},I:function(t,e,n){const r=WX(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):rt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):hi.d(t,e)},D:function(t,e,n){const r=zX(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):rt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return rt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return rt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return rt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Fa.noon:r===0?s=Fa.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Fa.evening:r>=12?s=Fa.afternoon:r>=4?s=Fa.morning:s=Fa.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return hi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):hi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):rt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):rt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):hi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):hi.s(t,e)},S:function(t,e){return hi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return $C(r);case"XXXX":case"XX":return jo(r);case"XXXXX":case"XXX":default:return jo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return $C(r);case"xxxx":case"xx":return jo(r);case"xxxxx":case"xxx":default:return jo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+BC(r,":");case"OOOO":default:return"GMT"+jo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+BC(r,":");case"zzzz":default:return"GMT"+jo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return rt(r,e.length)},T:function(t,e,n){const r=t.getTime();return rt(r,e.length)}};function BC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+rt(i,2)}function $C(t,e){return t%60===0?(t>0?"-":"+")+rt(Math.abs(t)/60,2):jo(t,e)}function jo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=rt(Math.trunc(r/60),2),i=rt(r%60,2);return n+s+e+i}const zC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},RD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},GX=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return zC(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",zC(r,e)).replace("{{time}}",RD(s,e))},KX={p:RD,P:GX},QX=/^D+$/,YX=/^Y+$/,XX=["D","DD","YY","YYYY"];function ZX(t){return QX.test(t)}function JX(t){return YX.test(t)}function eZ(t,e,n){const r=tZ(t,e,n);if(console.warn(r),XX.includes(t))throw new RangeError(r)}function tZ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sZ=/^'([^]*?)'?$/,iZ=/''/g,oZ=/[a-zA-Z]/;function aZ(t,e,n){var h,f,p,m;const r=dg(),s=r.locale??$X,i=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,a=$r(t);if(!lX(a))throw new RangeError("Invalid time value");let l=e.match(rZ).map(w=>{const g=w[0];if(g==="p"||g==="P"){const _=KX[g];return _(w,s.formatLong)}return w}).join("").match(nZ).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const g=w[0];if(g==="'")return{isToken:!1,value:lZ(w)};if(UC[g])return{isToken:!0,value:w};if(g.match(oZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(w=>{if(!w.isToken)return w.value;const g=w.value;(JX(g)||ZX(g))&&eZ(g,e,String(t));const _=UC[g[0]];return _(a,g,s.localize,c)}).join("")}function lZ(t){const e=t.match(sZ);return e?e[1].replace(iZ,"'"):t}function cZ(t,e=[]){let n=[];function r(i,o){const a=x.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:m,...w}=f,g=(p==null?void 0:p[t][l])||a,_=x.useMemo(()=>w,Object.values(w));return u.jsx(g.Provider,{value:_,children:m})}function h(f,p){const m=(p==null?void 0:p[t][l])||a,w=x.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,uZ(s,...e)]}function uZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var tb="Progress",nb=100,[dZ,Ute]=cZ(tb),[hZ,fZ]=dZ(tb),ND=x.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=pZ,...o}=t;(s||s===0)&&!WC(s)&&console.error(mZ(`${s}`,"Progress"));const a=WC(s)?s:nb;r!==null&&!HC(r,a)&&console.error(gZ(`${r}`,"Progress"));const l=HC(r,a)?r:null,c=Fp(l)?i(l,a):void 0;return u.jsx(hZ,{scope:n,value:l,max:a,children:u.jsx(Le.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Fp(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":OD(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});ND.displayName=tb;var jD="ProgressIndicator",DD=x.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=fZ(jD,n);return u.jsx(Le.div,{"data-state":OD(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});DD.displayName=jD;function pZ(t,e){return`${Math.round(t/e*100)}%`}function OD(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Fp(t){return typeof t=="number"}function WC(t){return Fp(t)&&!isNaN(t)&&t>0}function HC(t,e){return Fp(t)&&!isNaN(t)&&t<=e&&t>=0}function mZ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${nb}\`.`}function gZ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${nb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MD=ND,yZ=DD;const ju=x.forwardRef(({className:t,value:e,indicatorClassName:n,...r},s)=>u.jsx(MD,{ref:s,className:ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:u.jsx(yZ,{className:ke("h-full w-full flex-1 bg-primary transition-all",n),style:{transform:`translateX(-${100-(e||0)}%)`}})}));ju.displayName=MD.displayName;var Gy="focusScope.autoFocusOnMount",Ky="focusScope.autoFocusOnUnmount",qC={bubbles:!1,cancelable:!0},vZ="FocusScope",rb=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=x.useState(null),c=Bn(s),h=Bn(i),f=x.useRef(null),p=ct(e,g=>l(g)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let g=function(E){if(m.paused||!a)return;const k=E.target;a.contains(k)?f.current=k:mi(f.current,{select:!0})},_=function(E){if(m.paused||!a)return;const k=E.relatedTarget;k!==null&&(a.contains(k)||mi(f.current,{select:!0}))},b=function(E){if(document.activeElement===document.body)for(const R of E)R.removedNodes.length>0&&mi(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",_);const v=new MutationObserver(b);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",_),v.disconnect()}}},[r,a,m.paused]),x.useEffect(()=>{if(a){KC.add(m);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(Gy,qC);a.addEventListener(Gy,c),a.dispatchEvent(b),b.defaultPrevented||(wZ(TZ(VD(a)),{select:!0}),document.activeElement===g&&mi(a))}return()=>{a.removeEventListener(Gy,c),setTimeout(()=>{const b=new CustomEvent(Ky,qC);a.addEventListener(Ky,h),a.dispatchEvent(b),b.defaultPrevented||mi(g??document.body,{select:!0}),a.removeEventListener(Ky,h),KC.remove(m)},0)}}},[a,c,h,m]);const w=x.useCallback(g=>{if(!n&&!r||m.paused)return;const _=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(_&&b){const v=g.currentTarget,[E,k]=xZ(v);E&&k?!g.shiftKey&&b===k?(g.preventDefault(),n&&mi(E,{select:!0})):g.shiftKey&&b===E&&(g.preventDefault(),n&&mi(k,{select:!0})):b===v&&g.preventDefault()}},[n,r,m.paused]);return u.jsx(Le.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});rb.displayName=vZ;function wZ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(mi(r,{select:e}),document.activeElement!==n)return}function xZ(t){const e=VD(t),n=GC(e,t),r=GC(e.reverse(),t);return[n,r]}function VD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function GC(t,e){for(const n of t)if(!_Z(n,{upTo:e}))return n}function _Z(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bZ(t){return t instanceof HTMLInputElement&&"select"in t}function mi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bZ(t)&&e&&t.select()}}var KC=EZ();function EZ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=QC(t,e),t.unshift(e)},remove(e){var n;t=QC(t,e),(n=t[0])==null||n.resume()}}}function QC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function TZ(t){return t.filter(e=>e.tagName!=="A")}var Qy=0;function LD(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??YC()),document.body.insertAdjacentElement("beforeend",t[1]??YC()),Qy++,()=>{Qy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qy--}},[])}function YC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Pf="right-scroll-bar-position",Af="width-before-scroll-bar",SZ="with-scroll-bars-hidden",CZ="--removed-body-scroll-bar-size";function Yy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function IZ(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var kZ=typeof window<"u"?x.useLayoutEffect:x.useEffect,XC=new WeakMap;function PZ(t,e){var n=IZ(null,function(r){return t.forEach(function(s){return Yy(s,r)})});return kZ(function(){var r=XC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Yy(a,null)}),i.forEach(function(a){s.has(a)||Yy(a,o)})}XC.set(n,t)},[t]),n}function AZ(t){return t}function RZ(t,e){e===void 0&&(e=AZ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function NZ(t){t===void 0&&(t={});var e=RZ(null);return e.options=es({async:!0,ssr:!1},t),e}var FD=function(t){var e=t.sideCar,n=Vd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,es({},n))};FD.isSideCarExport=!0;function jZ(t,e){return t.useMedium(e),FD}var UD=NZ(),Xy=function(){},hg=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:Xy,onWheelCapture:Xy,onTouchMoveCapture:Xy}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,m=t.noIsolation,w=t.inert,g=t.allowPinchZoom,_=t.as,b=_===void 0?"div":_,v=t.gapMode,E=Vd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,R=PZ([n,e]),O=es(es({},E),s);return x.createElement(x.Fragment,null,h&&x.createElement(k,{sideCar:UD,removeScrollBar:c,shards:f,noIsolation:m,inert:w,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:v}),o?x.cloneElement(x.Children.only(a),es(es({},O),{ref:R})):x.createElement(b,es({},O,{className:l,ref:R}),a))});hg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hg.classNames={fullWidth:Af,zeroRight:Pf};var DZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=DZ();return e&&t.setAttribute("nonce",e),t}function MZ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function VZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var LZ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=OZ())&&(MZ(e,n),VZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},FZ=function(){var t=LZ();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},BD=function(){var t=FZ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},UZ={left:0,top:0,right:0,gap:0},Zy=function(t){return parseInt(t||"",10)||0},BZ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Zy(n),Zy(r),Zy(s)]},$Z=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return UZ;var e=BZ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},zZ=BD(),Tl="data-scroll-locked",WZ=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(SZ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Tl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Af,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pf," .").concat(Pf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Af," .").concat(Af,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Tl,`] {
    `).concat(CZ,": ").concat(a,`px;
  }
`)},ZC=function(){var t=parseInt(document.body.getAttribute(Tl)||"0",10);return isFinite(t)?t:0},HZ=function(){x.useEffect(function(){return document.body.setAttribute(Tl,(ZC()+1).toString()),function(){var t=ZC()-1;t<=0?document.body.removeAttribute(Tl):document.body.setAttribute(Tl,t.toString())}},[])},qZ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;HZ();var i=x.useMemo(function(){return $Z(s)},[s]);return x.createElement(zZ,{styles:WZ(i,!e,s,n?"":"!important")})},iw=!1;if(typeof window<"u")try{var Qh=Object.defineProperty({},"passive",{get:function(){return iw=!0,!0}});window.addEventListener("test",Qh,Qh),window.removeEventListener("test",Qh,Qh)}catch{iw=!1}var Ua=iw?{passive:!1}:!1,GZ=function(t){return t.tagName==="TEXTAREA"},$D=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!GZ(t)&&n[e]==="visible")},KZ=function(t){return $D(t,"overflowY")},QZ=function(t){return $D(t,"overflowX")},JC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=zD(t,r);if(s){var i=WD(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},YZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},XZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},zD=function(t,e){return t==="v"?KZ(e):QZ(e)},WD=function(t,e){return t==="v"?YZ(e):XZ(e)},ZZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},JZ=function(t,e,n,r,s){var i=ZZ(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,h=o>0,f=0,p=0;do{var m=WD(t,a),w=m[0],g=m[1],_=m[2],b=g-_-i*w;(w||b)&&zD(t,a)&&(f+=b,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(p)<1||!s))&&(c=!0),c},Yh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},eI=function(t){return[t.deltaX,t.deltaY]},tI=function(t){return t&&"current"in t?t.current:t},eJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},tJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nJ=0,Ba=[];function rJ(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(nJ++)[0],i=x.useState(BD)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=_z([t.lockRef.current],(t.shards||[]).map(tI),!0).filter(Boolean);return g.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(g,_){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=Yh(g),v=n.current,E="deltaX"in g?g.deltaX:v[0]-b[0],k="deltaY"in g?g.deltaY:v[1]-b[1],R,O=g.target,C=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in g&&C==="h"&&O.type==="range")return!1;var S=JC(C,O);if(!S)return!0;if(S?R=C:(R=C==="v"?"h":"v",S=JC(C,O)),!S)return!1;if(!r.current&&"changedTouches"in g&&(E||k)&&(r.current=R),!R)return!0;var I=r.current||R;return JZ(I,_,g,I==="h"?E:k,!0)},[]),l=x.useCallback(function(g){var _=g;if(!(!Ba.length||Ba[Ba.length-1]!==i)){var b="deltaY"in _?eI(_):Yh(_),v=e.current.filter(function(R){return R.name===_.type&&(R.target===_.target||_.target===R.shadowParent)&&eJ(R.delta,b)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var E=(o.current.shards||[]).map(tI).filter(Boolean).filter(function(R){return R.contains(_.target)}),k=E.length>0?a(_,E[0]):!o.current.noIsolation;k&&_.cancelable&&_.preventDefault()}}},[]),c=x.useCallback(function(g,_,b,v){var E={name:g,delta:_,target:b,should:v,shadowParent:sJ(b)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(k){return k!==E})},1)},[]),h=x.useCallback(function(g){n.current=Yh(g),r.current=void 0},[]),f=x.useCallback(function(g){c(g.type,eI(g),g.target,a(g,t.lockRef.current))},[]),p=x.useCallback(function(g){c(g.type,Yh(g),g.target,a(g,t.lockRef.current))},[]);x.useEffect(function(){return Ba.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Ua),document.addEventListener("touchmove",l,Ua),document.addEventListener("touchstart",h,Ua),function(){Ba=Ba.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ua),document.removeEventListener("touchmove",l,Ua),document.removeEventListener("touchstart",h,Ua)}},[]);var m=t.removeScrollBar,w=t.inert;return x.createElement(x.Fragment,null,w?x.createElement(i,{styles:tJ(s)}):null,m?x.createElement(qZ,{gapMode:t.gapMode}):null)}function sJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const iJ=jZ(UD,rJ);var sb=x.forwardRef(function(t,e){return x.createElement(hg,es({},t,{ref:e,sideCar:iJ}))});sb.classNames=hg.classNames;var oJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$a=new WeakMap,Xh=new WeakMap,Zh={},Jy=0,HD=function(t){return t&&(t.host||HD(t.parentNode))},aJ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=HD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},lJ=function(t,e,n,r){var s=aJ(e,Array.isArray(t)?t:[t]);Zh[n]||(Zh[n]=new WeakMap);var i=Zh[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var m=p.getAttribute(r),w=m!==null&&m!=="false",g=($a.get(p)||0)+1,_=(i.get(p)||0)+1;$a.set(p,g),i.set(p,_),o.push(p),g===1&&w&&Xh.set(p,!0),_===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(e),a.clear(),Jy++,function(){o.forEach(function(f){var p=$a.get(f)-1,m=i.get(f)-1;$a.set(f,p),i.set(f,m),p||(Xh.has(f)||f.removeAttribute(r),Xh.delete(f)),m||f.removeAttribute(n)}),Jy--,Jy||($a=new WeakMap,$a=new WeakMap,Xh=new WeakMap,Zh={})}},qD=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=oJ(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),lJ(r,s,n,"aria-hidden")):function(){return null}},ib="Dialog",[GD,Bte]=Ad(ib),[cJ,zr]=GD(ib),KD=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=x.useRef(null),l=x.useRef(null),[c=!1,h]=aa({prop:r,defaultProp:s,onChange:i});return u.jsx(cJ,{scope:e,triggerRef:a,contentRef:l,contentId:Ms(),titleId:Ms(),descriptionId:Ms(),open:c,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};KD.displayName=ib;var QD="DialogTrigger",YD=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zr(QD,n),i=ct(e,s.triggerRef);return u.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":lb(s.open),...r,ref:i,onClick:ve(t.onClick,s.onOpenToggle)})});YD.displayName=QD;var ob="DialogPortal",[uJ,XD]=GD(ob,{forceMount:void 0}),ZD=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=zr(ob,e);return u.jsx(uJ,{scope:e,forceMount:n,children:x.Children.map(r,o=>u.jsx(Ta,{present:n||i.open,children:u.jsx(Tm,{asChild:!0,container:s,children:o})}))})};ZD.displayName=ob;var Up="DialogOverlay",JD=x.forwardRef((t,e)=>{const n=XD(Up,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=zr(Up,t.__scopeDialog);return i.modal?u.jsx(Ta,{present:r||i.open,children:u.jsx(dJ,{...s,ref:e})}):null});JD.displayName=Up;var dJ=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zr(Up,n);return u.jsx(sb,{as:Zi,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Le.div,{"data-state":lb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ya="DialogContent",eO=x.forwardRef((t,e)=>{const n=XD(ya,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=zr(ya,t.__scopeDialog);return u.jsx(Ta,{present:r||i.open,children:i.modal?u.jsx(hJ,{...s,ref:e}):u.jsx(fJ,{...s,ref:e})})});eO.displayName=ya;var hJ=x.forwardRef((t,e)=>{const n=zr(ya,t.__scopeDialog),r=x.useRef(null),s=ct(e,n.contentRef,r);return x.useEffect(()=>{const i=r.current;if(i)return qD(i)},[]),u.jsx(tO,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ve(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ve(t.onFocusOutside,i=>i.preventDefault())})}),fJ=x.forwardRef((t,e)=>{const n=zr(ya,t.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return u.jsx(tO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),tO=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=zr(ya,n),l=x.useRef(null),c=ct(e,l);return LD(),u.jsxs(u.Fragment,{children:[u.jsx(rb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(Rd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":lb(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(pJ,{titleId:a.titleId}),u.jsx(gJ,{contentRef:l,descriptionId:a.descriptionId})]})]})}),ab="DialogTitle",nO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zr(ab,n);return u.jsx(Le.h2,{id:s.titleId,...r,ref:e})});nO.displayName=ab;var rO="DialogDescription",sO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zr(rO,n);return u.jsx(Le.p,{id:s.descriptionId,...r,ref:e})});sO.displayName=rO;var iO="DialogClose",oO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zr(iO,n);return u.jsx(Le.button,{type:"button",...r,ref:e,onClick:ve(t.onClick,()=>s.onOpenChange(!1))})});oO.displayName=iO;function lb(t){return t?"open":"closed"}var aO="DialogTitleWarning",[$te,lO]=o4(aO,{contentName:ya,titleName:ab,docsSlug:"dialog"}),pJ=({titleId:t})=>{const e=lO(aO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},mJ="DialogDescriptionWarning",gJ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lO(mJ).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},cO=KD,yJ=YD,uO=ZD,fg=JD,pg=eO,mg=nO,gg=sO,cb=oO;const vJ=cO,wJ=yJ,xJ=uO,dO=x.forwardRef(({className:t,...e},n)=>u.jsx(fg,{className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));dO.displayName=fg.displayName;const _J=jd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),hO=x.forwardRef(({side:t="right",className:e,children:n,...r},s)=>u.jsxs(xJ,{children:[u.jsx(dO,{}),u.jsxs(pg,{ref:s,className:ke(_J({side:t}),e),...r,children:[n,u.jsxs(cb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(uc,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hO.displayName=pg.displayName;const bJ=x.forwardRef(({className:t,...e},n)=>u.jsx(mg,{ref:n,className:ke("text-lg font-semibold text-foreground",t),...e}));bJ.displayName=mg.displayName;const EJ=x.forwardRef(({className:t,...e},n)=>u.jsx(gg,{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));EJ.displayName=gg.displayName;const Na=()=>{const[t,e]=x.useState(!1),{user:n,logout:r}=Br(),s=go(),{toast:i}=Wn(),o=()=>{r(),i({title:"Logged Out",description:"You have been securely logged out."}),s("/")};return u.jsx("header",{className:"fixed top-0 left-0 w-full z-50 bg-trust-chain-dark/80 backdrop-blur-md border-b border-white/10",children:u.jsxs("div",{className:"container mx-auto flex items-center justify-between py-4 px-4",children:[u.jsx(xt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:u.jsxs(Bt,{to:n?n.isAdmin?"/admin":"/dashboard":"/",className:"flex items-center gap-2 text-white",children:[u.jsx(qs,{className:"h-7 w-7 text-trust-chain-blue"}),u.jsxs("span",{className:"text-xl font-bold",children:["Trust",u.jsx("span",{className:"text-trust-chain-blue",children:"Chain"})]})]})}),n&&u.jsx(xt.nav,{className:"hidden md:flex items-center gap-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-white/5 px-3 py-1.5 rounded-full",children:[u.jsx("span",{className:"h-2 w-2 rounded-full bg-safespeak-green"}),u.jsx("span",{className:"text-sm",children:n.pseudonym})]}),u.jsxs(Ie,{variant:"outline",size:"sm",className:"flex items-center gap-1.5",onClick:o,children:[u.jsx(s0,{className:"h-3.5 w-3.5"}),u.jsx("span",{children:"Logout"})]})]})}),n&&u.jsxs(vJ,{open:t,onOpenChange:e,children:[u.jsx(wJ,{asChild:!0,className:"md:hidden",children:u.jsxs(Ie,{variant:"ghost",size:"icon",children:[u.jsx(oU,{className:"h-6 w-6"}),u.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),u.jsx(hO,{side:"right",className:"bg-safespeak-dark-accent border-l border-white/10",children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center justify-between py-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(qs,{className:"h-6 w-6 text-safespeak-blue"}),u.jsx("span",{className:"font-semibold",children:"SafeSpeak"})]}),u.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>e(!1),children:u.jsx(uc,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"py-4",children:[u.jsxs("div",{className:"px-3 py-2 bg-white/5 rounded-lg flex items-center gap-2 mb-6",children:[u.jsx("span",{className:"h-2 w-2 rounded-full bg-safespeak-green"}),u.jsxs("span",{className:"text-sm",children:["Logged in as: ",n.pseudonym]})]}),u.jsx("nav",{className:"flex flex-col gap-1"})]}),u.jsx("div",{className:"mt-auto pt-6 border-t border-white/10",children:u.jsxs(Ie,{variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:()=>{e(!1),o()},children:[u.jsx(s0,{className:"h-4 w-4"}),u.jsx("span",{children:"Logout"})]})})]})})]})]})})},Jh=({title:t,value:e,icon:n,trend:r})=>u.jsxs(xt.div,{className:"stat-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{translateY:-5},children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(n,{className:"h-6 w-6 text-white/70"}),r&&u.jsxs("div",{className:`flex items-center ${r.isPositive?"text-safespeak-green":"text-red-400"}`,children:[r.isPositive?u.jsx(K4,{className:"h-3 w-3 mr-1"}):u.jsx(q4,{className:"h-3 w-3 mr-1"}),u.jsxs("span",{className:"text-xs font-medium",children:[r.value,"%"]})]})]}),u.jsx("h3",{className:"text-3xl font-bold mt-2",children:e}),u.jsx("p",{className:"text-white/70 text-sm",children:t})]}),TJ=()=>{const{user:t}=Br(),[e,n]=x.useState([]),[r,s]=x.useState({totalReports:0,solvedCases:0,underInvestigation:0,criticalCases:0});x.useEffect(()=>{const l=localStorage.getItem("userReports"),c=l?JSON.parse(l):[];n(c);const h={totalReports:c.length,solvedCases:c.filter(f=>f.status==="resolved").length,underInvestigation:c.filter(f=>f.status==="under-investigation").length,criticalCases:c.filter(f=>f.priority==="urgent"||f.priority==="high").length};s(h)},[t]);const i=r.totalReports>0?Math.round(r.solvedCases/r.totalReports*100):0,o=r.totalReports>0?Math.round(r.underInvestigation/r.totalReports*100):0,a=r.totalReports>0?Math.round(r.criticalCases/r.totalReports*100):0;return u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark",children:[u.jsx(Na,{}),u.jsx("main",{className:"flex-1 pt-20 pb-12",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Welcome, ",(t==null?void 0:t.pseudonym)||"Guest"]}),u.jsx("p",{className:"text-white/70",children:"Your anonymous dashboard for crime reporting and tracking."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[u.jsx(Jh,{title:"Total Reports",value:r.totalReports.toString(),icon:n0,trend:r.totalReports>0?{value:r.totalReports,isPositive:!0}:void 0}),u.jsx(Jh,{title:"Cases Solved",value:r.solvedCases.toString(),icon:zl,trend:r.solvedCases>0?{value:r.solvedCases,isPositive:!0}:void 0}),u.jsx(Jh,{title:"Under Investigation",value:r.underInvestigation.toString(),icon:Ji,trend:void 0}),u.jsx(Jh,{title:"Critical Cases",value:r.criticalCases.toString(),icon:i0,trend:void 0})]}),u.jsxs(xt.div,{className:"glass-card rounded-2xl p-6 mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Case Resolution Progress"}),e.length>0&&u.jsxs(Ie,{variant:"outline",size:"sm",className:"text-xs","aria-label":"View detailed statistics",children:[u.jsx(bx,{className:"h-4 w-4 mr-1"})," View Detailed Stats"]})]}),e.length>0?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("div",{className:"text-sm font-medium",children:"Cases Solved"}),u.jsxs("div",{className:"text-sm text-white/70",children:[i,"%"]})]}),u.jsx(ju,{value:i,className:"h-2 bg-white/10"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("div",{className:"text-sm font-medium",children:"Under Investigation"}),u.jsxs("div",{className:"text-sm text-white/70",children:[o,"%"]})]}),u.jsx(ju,{value:o,className:"h-2 bg-white/10"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("div",{className:"text-sm font-medium",children:"Critical Cases"}),u.jsxs("div",{className:"text-sm text-white/70",children:[a,"%"]})]}),u.jsx(ju,{value:a,className:"h-2 bg-white/10"})]})]}):u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-white/50",children:"No reports submitted yet. Submit your first report to see statistics."})})]}),u.jsxs(xt.div,{className:"glass-card rounded-2xl p-6 mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Submitted Reports"}),e.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-white/60 border-b border-white/10",children:[u.jsx("th",{className:"p-4 font-medium text-sm",children:"Report ID"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Type"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Date"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Status"}),u.jsx("th",{className:"p-4 font-medium text-sm text-right",children:"Actions"})]})}),u.jsx("tbody",{children:e.map((l,c)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"p-4 font-mono text-sm",children:l.id}),u.jsx("td",{className:"p-4 capitalize",children:l.crimeType.replace(/-/g," ")}),u.jsx("td",{className:"p-4 text-sm text-white/70",children:aZ(new Date(l.date),"PPP")}),u.jsx("td",{className:"p-4",children:u.jsx("span",{className:`px-2 py-1 text-xs rounded ${l.status==="resolved"?"bg-safespeak-green/20 text-safespeak-green":l.status==="under-investigation"?"bg-safespeak-blue/20 text-safespeak-blue":"bg-amber-500/20 text-amber-500"}`,children:l.status==="resolved"?"Resolved":l.status==="under-investigation"?"Under Investigation":"Pending"})}),u.jsx("td",{className:"p-4 text-right",children:u.jsx(Bt,{to:`/track/${l.id}`,children:u.jsx(Ie,{size:"sm",variant:"outline",className:"text-xs","aria-label":`View report ${l.id}`,children:"View Details"})})})]},`${l.id}-${c}`))})]})}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-white/50",children:"You haven't submitted any reports yet."}),u.jsx(Bt,{to:"/report",children:u.jsx(Ie,{className:"mt-4",children:"Submit Your First Report"})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs(xt.div,{className:"glass-card rounded-2xl p-6 text-center flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{y:-5,transition:{duration:.2}},children:[u.jsx("div",{className:"bg-safespeak-blue/15 p-4 rounded-full mb-4",children:u.jsx(n0,{className:"h-8 w-8 text-safespeak-blue"})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Report a Crime"}),u.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Submit a new anonymous crime report securely."}),u.jsx(Bt,{to:"/report",className:"btn-primary w-full",children:"Report Now"})]}),u.jsxs(xt.div,{className:"glass-card rounded-2xl p-6 text-center flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},whileHover:{y:-5,transition:{duration:.2}},children:[u.jsx("div",{className:"bg-safespeak-green/15 p-4 rounded-full mb-4",children:u.jsx(Ji,{className:"h-8 w-8 text-safespeak-green"})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Track a Report"}),u.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Check the status of your previously submitted report."}),u.jsx(Bt,{to:"/track",className:"btn-secondary w-full",children:"Track Report"})]}),u.jsxs(xt.div,{className:"glass-card rounded-2xl p-6 text-center flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},whileHover:{y:-5,transition:{duration:.2}},children:[u.jsx("div",{className:"bg-purple-500/15 p-4 rounded-full mb-4",children:u.jsx(i0,{className:"h-8 w-8 text-purple-500"})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Give Feedback"}),u.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Share your experience with SafeSpeak."}),u.jsx(Bt,{to:"/feedback",className:"btn-ghost w-full",children:"Provide Feedback"})]})]})]})}),u.jsx(gs,{})]})},Xt=x.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base text-white ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-white placeholder:text-white/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Xt.displayName="Input";function nI(t,[e,n]){return Math.min(n,Math.max(e,t))}var SJ=x.createContext(void 0);function ub(t){const e=x.useContext(SJ);return t||e||"ltr"}function CJ(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var IJ=[" ","Enter","ArrowUp","ArrowDown"],kJ=[" ","Enter"],Jd="Select",[yg,vg,PJ]=vx(Jd),[Ec,zte]=Ad(Jd,[PJ,Rm]),wg=Rm(),[AJ,xo]=Ec(Jd),[RJ,NJ]=Ec(Jd),fO=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:h,autoComplete:f,disabled:p,required:m,form:w}=t,g=wg(e),[_,b]=x.useState(null),[v,E]=x.useState(null),[k,R]=x.useState(!1),O=ub(c),[C=!1,S]=aa({prop:r,defaultProp:s,onChange:i}),[I,N]=aa({prop:o,defaultProp:a,onChange:l}),D=x.useRef(null),j=_?w||!!_.closest("form"):!0,[A,$]=x.useState(new Set),re=Array.from(A).map(G=>G.props.value).join(";");return u.jsx(QA,{...g,children:u.jsxs(AJ,{required:m,scope:e,trigger:_,onTriggerChange:b,valueNode:v,onValueNodeChange:E,valueNodeHasChildren:k,onValueNodeHasChildrenChange:R,contentId:Ms(),value:I,onValueChange:N,open:C,onOpenChange:S,dir:O,triggerPointerDownPosRef:D,disabled:p,children:[u.jsx(yg.Provider,{scope:e,children:u.jsx(RJ,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(G=>{$(se=>new Set(se).add(G))},[]),onNativeOptionRemove:x.useCallback(G=>{$(se=>{const F=new Set(se);return F.delete(G),F})},[]),children:n})}),j?u.jsxs(LO,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:I,onChange:G=>N(G.target.value),disabled:p,form:w,children:[I===void 0?u.jsx("option",{value:""}):null,Array.from(A)]},re):null]})})};fO.displayName=Jd;var pO="SelectTrigger",mO=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=wg(n),o=xo(pO,n),a=o.disabled||r,l=ct(e,o.onTriggerChange),c=vg(n),h=x.useRef("touch"),[f,p,m]=FO(g=>{const _=c().filter(E=>!E.disabled),b=_.find(E=>E.value===o.value),v=UO(_,g,b);v!==void 0&&o.onValueChange(v.value)}),w=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(YA,{asChild:!0,...i,children:u.jsx(Le.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":VO(o.value)?"":void 0,...s,ref:l,onClick:ve(s.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&w(g)}),onPointerDown:ve(s.onPointerDown,g=>{h.current=g.pointerType;const _=g.target;_.hasPointerCapture(g.pointerId)&&_.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:ve(s.onKeyDown,g=>{const _=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(_&&g.key===" ")&&IJ.includes(g.key)&&(w(),g.preventDefault())})})})});mO.displayName=pO;var gO="SelectValue",yO=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=xo(gO,n),{onValueNodeHasChildrenChange:c}=l,h=i!==void 0,f=ct(e,l.onValueNodeChange);return yn(()=>{c(h)},[c,h]),u.jsx(Le.span,{...a,ref:f,style:{pointerEvents:"none"},children:VO(l.value)?u.jsx(u.Fragment,{children:o}):i})});yO.displayName=gO;var jJ="SelectIcon",vO=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(Le.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});vO.displayName=jJ;var DJ="SelectPortal",wO=t=>u.jsx(Tm,{asChild:!0,...t});wO.displayName=DJ;var va="SelectContent",xO=x.forwardRef((t,e)=>{const n=xo(va,t.__scopeSelect),[r,s]=x.useState();if(yn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ea.createPortal(u.jsx(_O,{scope:t.__scopeSelect,children:u.jsx(yg.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(bO,{...t,ref:e})});xO.displayName=va;var Tr=10,[_O,_o]=Ec(va),OJ="SelectContentImpl",bO=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:_,...b}=t,v=xo(va,n),[E,k]=x.useState(null),[R,O]=x.useState(null),C=ct(e,de=>k(de)),[S,I]=x.useState(null),[N,D]=x.useState(null),j=vg(n),[A,$]=x.useState(!1),re=x.useRef(!1);x.useEffect(()=>{if(E)return qD(E)},[E]),LD();const G=x.useCallback(de=>{const[Ue,...Ze]=j().map(Oe=>Oe.ref.current),[Pe]=Ze.slice(-1),Ee=document.activeElement;for(const Oe of de)if(Oe===Ee||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Ue&&R&&(R.scrollTop=0),Oe===Pe&&R&&(R.scrollTop=R.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==Ee))return},[j,R]),se=x.useCallback(()=>G([S,E]),[G,S,E]);x.useEffect(()=>{A&&se()},[A,se]);const{onOpenChange:F,triggerPointerDownPosRef:H}=v;x.useEffect(()=>{if(E){let de={x:0,y:0};const Ue=Pe=>{var Ee,Oe;de={x:Math.abs(Math.round(Pe.pageX)-(((Ee=H.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((Oe=H.current)==null?void 0:Oe.y)??0))}},Ze=Pe=>{de.x<=10&&de.y<=10?Pe.preventDefault():E.contains(Pe.target)||F(!1),document.removeEventListener("pointermove",Ue),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",Ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",Ze,{capture:!0})}}},[E,F,H]),x.useEffect(()=>{const de=()=>F(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[F]);const[oe,K]=FO(de=>{const Ue=j().filter(Ee=>!Ee.disabled),Ze=Ue.find(Ee=>Ee.ref.current===document.activeElement),Pe=UO(Ue,de,Ze);Pe&&setTimeout(()=>Pe.ref.current.focus())}),ae=x.useCallback((de,Ue,Ze)=>{const Pe=!re.current&&!Ze;(v.value!==void 0&&v.value===Ue||Pe)&&(I(de),Pe&&(re.current=!0))},[v.value]),pe=x.useCallback(()=>E==null?void 0:E.focus(),[E]),$e=x.useCallback((de,Ue,Ze)=>{const Pe=!re.current&&!Ze;(v.value!==void 0&&v.value===Ue||Pe)&&D(de)},[v.value]),tt=r==="popper"?ow:EO,be=tt===ow?{side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:_}:{};return u.jsx(_O,{scope:n,content:E,viewport:R,onViewportChange:O,itemRefCallback:ae,selectedItem:S,onItemLeave:pe,itemTextRefCallback:$e,focusSelectedItem:se,selectedItemText:N,position:r,isPositioned:A,searchRef:oe,children:u.jsx(sb,{as:Zi,allowPinchZoom:!0,children:u.jsx(rb,{asChild:!0,trapped:v.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:ve(s,de=>{var Ue;(Ue=v.trigger)==null||Ue.focus({preventScroll:!0}),de.preventDefault()}),children:u.jsx(Rd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:u.jsx(tt,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:de=>de.preventDefault(),...b,...be,onPlaced:()=>$(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ve(b.onKeyDown,de=>{const Ue=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!Ue&&de.key.length===1&&K(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let Pe=j().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(de.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const Ee=de.target,Oe=Pe.indexOf(Ee);Pe=Pe.slice(Oe+1)}setTimeout(()=>G(Pe)),de.preventDefault()}})})})})})})});bO.displayName=OJ;var MJ="SelectItemAlignedPosition",EO=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=xo(va,n),o=_o(va,n),[a,l]=x.useState(null),[c,h]=x.useState(null),f=ct(e,C=>h(C)),p=vg(n),m=x.useRef(!1),w=x.useRef(!0),{viewport:g,selectedItem:_,selectedItemText:b,focusSelectedItem:v}=o,E=x.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&_&&b){const C=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),N=b.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=N.left-S.left,Oe=I.left-Ee,ut=C.left-Oe,Dt=C.width+ut,Hn=Math.max(Dt,S.width),nn=window.innerWidth-Tr,Wr=nI(Oe,[Tr,Math.max(Tr,nn-Hn)]);a.style.minWidth=Dt+"px",a.style.left=Wr+"px"}else{const Ee=S.right-N.right,Oe=window.innerWidth-I.right-Ee,ut=window.innerWidth-C.right-Oe,Dt=C.width+ut,Hn=Math.max(Dt,S.width),nn=window.innerWidth-Tr,Wr=nI(Oe,[Tr,Math.max(Tr,nn-Hn)]);a.style.minWidth=Dt+"px",a.style.right=Wr+"px"}const D=p(),j=window.innerHeight-Tr*2,A=g.scrollHeight,$=window.getComputedStyle(c),re=parseInt($.borderTopWidth,10),G=parseInt($.paddingTop,10),se=parseInt($.borderBottomWidth,10),F=parseInt($.paddingBottom,10),H=re+G+A+F+se,oe=Math.min(_.offsetHeight*5,H),K=window.getComputedStyle(g),ae=parseInt(K.paddingTop,10),pe=parseInt(K.paddingBottom,10),$e=C.top+C.height/2-Tr,tt=j-$e,be=_.offsetHeight/2,de=_.offsetTop+be,Ue=re+G+de,Ze=H-Ue;if(Ue<=$e){const Ee=D.length>0&&_===D[D.length-1].ref.current;a.style.bottom="0px";const Oe=c.clientHeight-g.offsetTop-g.offsetHeight,ut=Math.max(tt,be+(Ee?pe:0)+Oe+se),Dt=Ue+ut;a.style.height=Dt+"px"}else{const Ee=D.length>0&&_===D[0].ref.current;a.style.top="0px";const ut=Math.max($e,re+g.offsetTop+(Ee?ae:0)+be)+Ze;a.style.height=ut+"px",g.scrollTop=Ue-$e+g.offsetTop}a.style.margin=`${Tr}px 0`,a.style.minHeight=oe+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,a,c,g,_,b,i.dir,r]);yn(()=>E(),[E]);const[k,R]=x.useState();yn(()=>{c&&R(window.getComputedStyle(c).zIndex)},[c]);const O=x.useCallback(C=>{C&&w.current===!0&&(E(),v==null||v(),w.current=!1)},[E,v]);return u.jsx(LJ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:O,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:u.jsx(Le.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});EO.displayName=MJ;var VJ="SelectPopperPosition",ow=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Tr,...i}=t,o=wg(n);return u.jsx(XA,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ow.displayName=VJ;var[LJ,db]=Ec(va,{}),aw="SelectViewport",TO=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=_o(aw,n),o=db(aw,n),a=ct(e,i.onViewportChange),l=x.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(yg.Slot,{scope:n,children:u.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ve(s.onScroll,c=>{const h=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const m=Math.abs(l.current-h.scrollTop);if(m>0){const w=window.innerHeight-Tr*2,g=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),b=Math.max(g,_);if(b<w){const v=b+m,E=Math.min(w,v),k=v-E;f.style.height=E+"px",f.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});TO.displayName=aw;var SO="SelectGroup",[FJ,UJ]=Ec(SO),BJ=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ms();return u.jsx(FJ,{scope:n,id:s,children:u.jsx(Le.div,{role:"group","aria-labelledby":s,...r,ref:e})})});BJ.displayName=SO;var CO="SelectLabel",IO=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=UJ(CO,n);return u.jsx(Le.div,{id:s.id,...r,ref:e})});IO.displayName=CO;var Bp="SelectItem",[$J,kO]=Ec(Bp),PO=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=xo(Bp,n),l=_o(Bp,n),c=a.value===r,[h,f]=x.useState(i??""),[p,m]=x.useState(!1),w=ct(e,v=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,v,r,s)}),g=Ms(),_=x.useRef("touch"),b=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx($J,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:x.useCallback(v=>{f(E=>E||((v==null?void 0:v.textContent)??"").trim())},[]),children:u.jsx(yg.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:u.jsx(Le.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:ve(o.onFocus,()=>m(!0)),onBlur:ve(o.onBlur,()=>m(!1)),onClick:ve(o.onClick,()=>{_.current!=="mouse"&&b()}),onPointerUp:ve(o.onPointerUp,()=>{_.current==="mouse"&&b()}),onPointerDown:ve(o.onPointerDown,v=>{_.current=v.pointerType}),onPointerMove:ve(o.onPointerMove,v=>{var E;_.current=v.pointerType,s?(E=l.onItemLeave)==null||E.call(l):_.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(o.onPointerLeave,v=>{var E;v.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:ve(o.onKeyDown,v=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&v.key===" "||(kJ.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});PO.displayName=Bp;var lu="SelectItemText",AO=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=xo(lu,n),a=_o(lu,n),l=kO(lu,n),c=NJ(lu,n),[h,f]=x.useState(null),p=ct(e,b=>f(b),l.onItemTextChange,b=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,b,l.value,l.disabled)}),m=h==null?void 0:h.textContent,w=x.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:_}=c;return yn(()=>(g(w),()=>_(w)),[g,_,w]),u.jsxs(u.Fragment,{children:[u.jsx(Le.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ea.createPortal(i.children,o.valueNode):null]})});AO.displayName=lu;var RO="SelectItemIndicator",NO=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return kO(RO,n).isSelected?u.jsx(Le.span,{"aria-hidden":!0,...r,ref:e}):null});NO.displayName=RO;var lw="SelectScrollUpButton",jO=x.forwardRef((t,e)=>{const n=_o(lw,t.__scopeSelect),r=db(lw,t.__scopeSelect),[s,i]=x.useState(!1),o=ct(e,r.onScrollButtonChange);return yn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(OO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});jO.displayName=lw;var cw="SelectScrollDownButton",DO=x.forwardRef((t,e)=>{const n=_o(cw,t.__scopeSelect),r=db(cw,t.__scopeSelect),[s,i]=x.useState(!1),o=ct(e,r.onScrollButtonChange);return yn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(OO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});DO.displayName=cw;var OO=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=_o("SelectScrollButton",n),o=x.useRef(null),a=vg(n),l=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),yn(()=>{var h;const c=a().find(f=>f.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),u.jsx(Le.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ve(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ve(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ve(s.onPointerLeave,()=>{l()})})}),zJ="SelectSeparator",MO=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Le.div,{"aria-hidden":!0,...r,ref:e})});MO.displayName=zJ;var uw="SelectArrow",WJ=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=wg(n),i=xo(uw,n),o=_o(uw,n);return i.open&&o.position==="popper"?u.jsx(ZA,{...s,...r,ref:e}):null});WJ.displayName=uw;function VO(t){return t===""||t===void 0}var LO=x.forwardRef((t,e)=>{const{value:n,...r}=t,s=x.useRef(null),i=ct(e,s),o=CJ(n);return x.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(f)}},[o,n]),u.jsx(Nd,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});LO.displayName="BubbleSelect";function FO(t){const e=Bn(t),n=x.useRef(""),r=x.useRef(0),s=x.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function UO(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=HJ(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function HJ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qJ=fO,BO=mO,GJ=yO,KJ=vO,QJ=wO,$O=xO,YJ=TO,zO=IO,WO=PO,XJ=AO,ZJ=NO,HO=jO,qO=DO,GO=MO;const dw=qJ,hw=GJ,$p=x.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(BO,{ref:r,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm text-white ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(KJ,{asChild:!0,children:u.jsx(Ex,{className:"h-4 w-4 opacity-50"})})]}));$p.displayName=BO.displayName;const KO=x.forwardRef(({className:t,...e},n)=>u.jsx(HO,{ref:n,className:ke("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(yA,{className:"h-4 w-4"})}));KO.displayName=HO.displayName;const QO=x.forwardRef(({className:t,...e},n)=>u.jsx(qO,{ref:n,className:ke("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Ex,{className:"h-4 w-4"})}));QO.displayName=qO.displayName;const zp=x.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(QJ,{children:u.jsxs($O,{ref:s,className:ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-dropdown-background text-white shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(KO,{}),u.jsx(YJ,{className:ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(QO,{})]})}));zp.displayName=$O.displayName;const JJ=x.forwardRef(({className:t,...e},n)=>u.jsx(zO,{ref:n,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold text-white",t),...e}));JJ.displayName=zO.displayName;const Tn=x.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(WO,{ref:r,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm text-white outline-none focus:bg-dropdown-hover focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(ZJ,{children:u.jsx(Y4,{className:"h-4 w-4"})})}),u.jsx(XJ,{children:e})]}));Tn.displayName=WO.displayName;const eee=x.forwardRef(({className:t,...e},n)=>u.jsx(GO,{ref:n,className:ke("-mx-1 my-1 h-px bg-white/20",t),...e}));eee.displayName=GO.displayName;const YO=cO,tee=uO,XO=cb,ZO=x.forwardRef(({className:t,...e},n)=>u.jsx(fg,{ref:n,className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));ZO.displayName=fg.displayName;const hb=x.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(tee,{children:[u.jsx(ZO,{}),u.jsxs(pg,{ref:r,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(cb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(uc,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hb.displayName=pg.displayName;const fb=({className:t,...e})=>u.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});fb.displayName="DialogHeader";const pb=({className:t,...e})=>u.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});pb.displayName="DialogFooter";const mb=x.forwardRef(({className:t,...e},n)=>u.jsx(mg,{ref:n,className:ke("text-lg font-semibold leading-none tracking-tight",t),...e}));mb.displayName=mg.displayName;const nee=x.forwardRef(({className:t,...e},n)=>u.jsx(gg,{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));nee.displayName=gg.displayName;function ree(t,e=[]){let n=[];function r(i,o){const a=x.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:m,...w}=f,g=(p==null?void 0:p[t][l])||a,_=x.useMemo(()=>w,Object.values(w));return u.jsx(g.Provider,{value:_,children:m})}function h(f,p){const m=(p==null?void 0:p[t][l])||a,w=x.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,see(s,...e)]}function see(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ev="rovingFocusGroup.onEntryFocus",iee={bubbles:!1,cancelable:!0},xg="RovingFocusGroup",[fw,JO,oee]=vx(xg),[aee,eM]=ree(xg,[oee]),[lee,cee]=aee(xg),tM=x.forwardRef((t,e)=>u.jsx(fw.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(fw.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(uee,{...t,ref:e})})}));tM.displayName=xg;var uee=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...f}=t,p=x.useRef(null),m=ct(e,p),w=ub(i),[g=null,_]=aa({prop:o,defaultProp:a,onChange:l}),[b,v]=x.useState(!1),E=Bn(c),k=JO(n),R=x.useRef(!1),[O,C]=x.useState(0);return x.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(ev,E),()=>S.removeEventListener(ev,E)},[E]),u.jsx(lee,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:g,onItemFocus:x.useCallback(S=>_(S),[_]),onItemShiftTab:x.useCallback(()=>v(!0),[]),onFocusableItemAdd:x.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:x.useCallback(()=>C(S=>S-1),[]),children:u.jsx(Le.div,{tabIndex:b||O===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:ve(t.onMouseDown,()=>{R.current=!0}),onFocus:ve(t.onFocus,S=>{const I=!R.current;if(S.target===S.currentTarget&&I&&!b){const N=new CustomEvent(ev,iee);if(S.currentTarget.dispatchEvent(N),!N.defaultPrevented){const D=k().filter(G=>G.focusable),j=D.find(G=>G.active),A=D.find(G=>G.id===g),re=[j,A,...D].filter(Boolean).map(G=>G.ref.current);sM(re,h)}}R.current=!1}),onBlur:ve(t.onBlur,()=>v(!1))})})}),nM="RovingFocusGroupItem",rM=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ms(),l=i||a,c=cee(nM,n),h=c.currentTabStopId===l,f=JO(n),{onFocusableItemAdd:p,onFocusableItemRemove:m}=c;return x.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),u.jsx(fw.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:u.jsx(Le.span,{tabIndex:h?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ve(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:ve(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ve(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const g=fee(w,c.orientation,c.dir);if(g!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=f().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const v=b.indexOf(w.currentTarget);b=c.loop?pee(b,v+1):b.slice(v+1)}setTimeout(()=>sM(b))}})})})});rM.displayName=nM;var dee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hee(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function fee(t,e,n){const r=hee(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return dee[r]}function sM(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function pee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var mee=tM,gee=rM,gb="Tabs",[yee,Wte]=Ad(gb,[eM]),iM=eM(),[vee,yb]=yee(gb),oM=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,h=ub(a),[f,p]=aa({prop:r,onChange:s,defaultProp:i});return u.jsx(vee,{scope:n,baseId:Ms(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:l,children:u.jsx(Le.div,{dir:h,"data-orientation":o,...c,ref:e})})});oM.displayName=gb;var aM="TabsList",lM=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=yb(aM,n),o=iM(n);return u.jsx(mee,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(Le.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});lM.displayName=aM;var cM="TabsTrigger",uM=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=yb(cM,n),a=iM(n),l=fM(o.baseId,r),c=pM(o.baseId,r),h=r===o.value;return u.jsx(gee,{asChild:!0,...a,focusable:!s,active:h,children:u.jsx(Le.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ve(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ve(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ve(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});uM.displayName=cM;var dM="TabsContent",hM=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=yb(dM,n),l=fM(a.baseId,r),c=pM(a.baseId,r),h=r===a.value,f=x.useRef(h);return x.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(Ta,{present:s||h,children:({present:p})=>u.jsx(Le.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});hM.displayName=dM;function fM(t,e){return`${t}-trigger-${e}`}function pM(t,e){return`${t}-content-${e}`}var wee=oM,mM=lM,gM=uM,yM=hM;const vM=wee,vb=x.forwardRef(({className:t,...e},n)=>u.jsx(mM,{ref:n,className:ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));vb.displayName=mM.displayName;const ea=x.forwardRef(({className:t,...e},n)=>u.jsx(gM,{ref:n,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ea.displayName=gM.displayName;const ta=x.forwardRef(({className:t,...e},n)=>u.jsx(yM,{ref:n,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ta.displayName=yM.displayName;const _g=x.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-white ring-offset-background placeholder:text-white/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));_g.displayName="Textarea";const xee=({allReports:t=[]})=>{var R;const[e,n]=x.useState(t),[r,s]=x.useState(""),[i,o]=x.useState(null),[a,l]=x.useState(!1),[c,h]=x.useState("pending"),[f,p]=x.useState(""),{toast:m}=Wn(),w=e.filter(O=>{var C,S,I,N;return((C=O.id)==null?void 0:C.toLowerCase().includes(r.toLowerCase()))||((S=O.crimeType)==null?void 0:S.toLowerCase().includes(r.toLowerCase()))||((I=O.description)==null?void 0:I.toLowerCase().includes(r.toLowerCase()))||((N=O.location)==null?void 0:N.toLowerCase().includes(r.toLowerCase()))}),g=O=>{switch(O){case"resolved":return u.jsx(zl,{className:"h-4 w-4 text-safespeak-green"});case"under-investigation":return u.jsx(Ji,{className:"h-4 w-4 text-safespeak-blue"});case"pending":return u.jsx(Ji,{className:"h-4 w-4 text-amber-500"});case"closed":return u.jsx(uc,{className:"h-4 w-4 text-gray-400"});default:return null}},_=O=>{switch(O){case"resolved":return"Resolved";case"under-investigation":return"Under Investigation";case"pending":return"Pending Review";case"closed":return"Closed";default:return O}},b=O=>{switch(O){case"urgent":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-red-500/20 text-red-500",children:"Urgent"});case"high":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-amber-500/20 text-amber-500",children:"High"});case"medium":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-safespeak-blue/20 text-safespeak-blue",children:"Medium"});case"low":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-safespeak-green/20 text-safespeak-green",children:"Low"});default:return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:"Unknown"})}},v=O=>{switch(O){case"image":return u.jsx("div",{className:"w-8 h-8 bg-safespeak-blue/10 rounded flex items-center justify-center",children:u.jsx(_i,{className:"h-4 w-4 text-safespeak-blue"})});case"video":return u.jsx("div",{className:"w-8 h-8 bg-purple-500/10 rounded flex items-center justify-center",children:u.jsx(_i,{className:"h-4 w-4 text-purple-500"})});case"pdf":return u.jsx("div",{className:"w-8 h-8 bg-red-500/10 rounded flex items-center justify-center",children:u.jsx(_i,{className:"h-4 w-4 text-red-500"})});case"document":return u.jsx("div",{className:"w-8 h-8 bg-safespeak-green/10 rounded flex items-center justify-center",children:u.jsx(_i,{className:"h-4 w-4 text-safespeak-green"})});default:return u.jsx("div",{className:"w-8 h-8 bg-gray-500/10 rounded flex items-center justify-center",children:u.jsx(_i,{className:"h-4 w-4 text-gray-400"})})}},E=O=>{o(O)},k=()=>{if(!i)return;const O=e.map(C=>C.id===i.id?{...C,status:c}:C);n(O),localStorage.setItem("userReports",JSON.stringify(O)),o(C=>C?{...C,status:c}:null),l(!1),m({title:"Status Updated",description:`Case ${i.id} has been updated to "${_(c)}"`}),p("")};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[u.jsx(qs,{className:"h-5 w-5 text-safespeak-blue"}),u.jsx("span",{children:"Case Management"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2 gap-2 w-full",children:[u.jsxs("div",{className:"relative w-full sm:w-64",children:[u.jsx(Sx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white/40"}),u.jsx(Xt,{placeholder:"Search cases...",className:"pl-10 bg-safespeak-dark-accent border-white/10 w-full",value:r,onChange:O=>s(O.target.value)})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(p0,{children:u.jsxs(HT,{children:[u.jsx(qT,{asChild:!0,children:u.jsx(Ie,{variant:"outline",size:"icon",children:u.jsx(nU,{className:"h-4 w-4"})})}),u.jsx(m0,{children:u.jsx("p",{children:"Filter Cases"})})]})}),u.jsx(p0,{children:u.jsxs(HT,{children:[u.jsx(qT,{asChild:!0,children:u.jsx(Ie,{variant:"outline",size:"icon",children:u.jsx(NT,{className:"h-4 w-4"})})}),u.jsx(m0,{children:u.jsx("p",{children:"Export Cases"})})]})})]})]})]}),u.jsx("div",{className:"glass-card rounded-xl overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-white/60 border-b border-white/10",children:[u.jsx("th",{className:"p-4 font-medium text-sm",children:"Report ID"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Type"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Location"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Date"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Priority"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Status"}),u.jsx("th",{className:"p-4 font-medium text-sm text-right",children:"Actions"})]})}),u.jsx("tbody",{children:w.length>0?w.map(O=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"p-4 font-mono text-sm",children:O.id}),u.jsx("td",{className:"p-4",children:O.crimeType}),u.jsx("td",{className:"p-4",children:O.location}),u.jsx("td",{className:"p-4 text-sm text-white/70",children:O.date}),u.jsx("td",{className:"p-4",children:b(O.priority)}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-1.5",children:[g(O.status),u.jsx("span",{className:"text-sm",children:_(O.status)})]})}),u.jsx("td",{className:"p-4 text-right",children:u.jsxs(Ie,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>E(O),children:[u.jsx(bu,{className:"h-3.5 w-3.5 mr-1"}),"View Details"]})})]},O.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"p-8 text-center text-white/60",children:r?"No reports found matching your search.":"No reports have been submitted yet."})})})]})})}),i&&u.jsx(YO,{open:!!i,onOpenChange:O=>!O&&o(null),children:u.jsxs(hb,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsx(fb,{children:u.jsxs(mb,{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-mono text-sm bg-safespeak-dark-accent px-2 py-1 rounded",children:i.id}),u.jsxs("span",{className:"text-lg",children:[i.crimeType," Report"]}),b(i.priority)]})}),u.jsxs(vM,{defaultValue:"details",className:"mt-4",children:[u.jsxs(vb,{className:"grid grid-cols-3 mb-4",children:[u.jsx(ea,{value:"details",children:"Case Details"}),u.jsx(ea,{value:"evidence",children:"Evidence"}),u.jsx(ea,{value:"status",children:"Status Update"})]}),u.jsxs(ta,{value:"details",className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Date Reported"}),u.jsx("p",{children:i.date})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Location"}),u.jsx("p",{children:i.location})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Current Status"}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[g(i.status),u.jsx("span",{children:_(i.status)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Reported By"}),u.jsx("p",{children:((R=i.userDetails)==null?void 0:R.pseudonym)||"Anonymous Report"})]})]}),u.jsxs("div",{className:"space-y-2 pt-4 border-t border-white/10",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Description"}),u.jsx("p",{className:"bg-safespeak-dark-accent/50 p-4 rounded-md text-white/90",children:i.description})]})]}),u.jsx(ta,{value:"evidence",className:"space-y-4",children:i.evidence&&i.evidence.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.evidence.map(O=>u.jsxs("div",{className:"flex items-center gap-3 bg-safespeak-dark-accent/30 p-3 rounded-lg",children:[v(O.type),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium truncate",children:O.filename}),u.jsx("p",{className:"text-xs text-white/60",children:O.size})]}),u.jsxs(Ie,{variant:"outline",size:"sm",children:[u.jsx(NT,{className:"h-3.5 w-3.5 mr-1.5"}),"Download"]})]},O.id))}):u.jsxs("div",{className:"text-center py-8 text-white/60",children:[u.jsx(Wl,{className:"h-8 w-8 mx-auto mb-2 text-amber-500"}),u.jsx("p",{children:"No evidence files were submitted with this report."})]})}),u.jsxs(ta,{value:"status",className:"space-y-4",children:[u.jsxs("div",{className:"bg-safespeak-dark-accent/30 p-4 rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-4",children:"Update Case Status"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm text-white/70",children:"Current Status"}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-safespeak-dark p-2 rounded",children:[g(i.status),u.jsx("span",{children:_(i.status)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm text-white/70",children:"New Status"}),u.jsxs(dw,{onValueChange:O=>h(O),defaultValue:i.status,children:[u.jsx($p,{children:u.jsx(hw,{placeholder:"Select new status"})}),u.jsxs(zp,{children:[u.jsx(Tn,{value:"pending",children:"Pending Review"}),u.jsx(Tn,{value:"under-investigation",children:"Under Investigation"}),u.jsx(Tn,{value:"resolved",children:"Case Resolved"}),u.jsx(Tn,{value:"closed",children:"Closed"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm text-white/70",children:"Status Update Note (Internal)"}),u.jsx(_g,{placeholder:"Add notes about this status update...",value:f,onChange:O=>p(O.target.value)})]}),u.jsx(Ie,{className:"w-full",onClick:k,children:"Update Status"})]})]}),u.jsxs("div",{className:"bg-safespeak-dark-accent/30 p-4 rounded-lg",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h3",{className:"font-medium",children:"Status History"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"border-l-2 border-safespeak-blue pl-4 py-2",children:[u.jsx("p",{className:"text-xs text-white/60",children:new Date().toISOString().split("T")[0]}),u.jsxs("p",{className:"font-medium",children:["Case status changed to:"," ",_(i.status)]}),u.jsx("p",{className:"text-sm text-white/70",children:"Initial review complete."})]}),u.jsxs("div",{className:"border-l-2 border-safespeak-blue pl-4 py-2",children:[u.jsx("p",{className:"text-xs text-white/60",children:i.date}),u.jsx("p",{className:"font-medium",children:"Case Opened"}),u.jsx("p",{className:"text-sm text-white/70",children:"Report received and case created."})]})]})]})]})]}),u.jsx(pb,{children:u.jsx(XO,{asChild:!0,children:u.jsx(Ie,{variant:"outline",children:"Close"})})})]})})]})},_ee=()=>{const[t,e]=x.useState([]),[n,r]=x.useState(""),[s,i]=x.useState("all"),[o,a]=x.useState("all"),[l,c]=x.useState(null),{toast:h}=Wn();x.useEffect(()=>{(async()=>{try{const b=Jl(tc,"feedback"),E=(await kp(b)).docs.map(k=>({id:k.id,...k.data()}));e(E)}catch(b){console.error("Error fetching feedback:",b),h({title:"Error",description:"Failed to fetch feedback from the database.",variant:"destructive"})}})()},[]);const f=t.filter(_=>{const b=_.description.toLowerCase().includes(n.toLowerCase())||_.id.toLowerCase().includes(n.toLowerCase())||_.reportId&&_.reportId.toLowerCase().includes(n.toLowerCase()),v=s==="all"||_.type===s,E=o==="all"||_.status===o;return b&&v&&E}),p=_=>{switch(_){case"investigation":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-safespeak-blue/20 text-safespeak-blue",children:"Investigation"});case"admin":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-purple-500/20 text-purple-500",children:"Admin Behavior"});case"resolution":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-safespeak-green/20 text-safespeak-green",children:"Case Resolution"});case"other":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:"Other"});default:return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:"Unknown"})}},m=_=>{switch(_){case"unread":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-amber-500/20 text-amber-500",children:"Unread"});case"read":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-safespeak-blue/20 text-safespeak-blue",children:"Read"});case"flagged":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-red-500/20 text-red-500",children:"Flagged"});case"resolved":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-safespeak-green/20 text-safespeak-green",children:"Resolved"});default:return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:"Unknown"})}},w=_=>{if(_.status==="unread"){const b=t.map(v=>v.id===_.id?{...v,status:"read"}:v);e(b)}c(_)},g=_=>{if(!l)return;const b=t.map(v=>v.id===l.id?{...v,status:_}:v);e(b),c(v=>v?{...v,status:_}:null)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[u.jsx(Tx,{className:"h-5 w-5 text-safespeak-blue"}),u.jsx("span",{children:"Feedback Review"})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs(Ie,{variant:"outline",size:"sm",className:"flex items-center gap-1.5",children:[u.jsx(bx,{className:"h-4 w-4"}),u.jsx("span",{children:"Analytics"})]})})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Sx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white/40"}),u.jsx(Xt,{placeholder:"Search feedback...",className:"pl-10 bg-safespeak-dark-accent border-white/10",value:n,onChange:_=>r(_.target.value)})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(dw,{value:s,onValueChange:i,children:[u.jsx($p,{className:"w-[150px]",children:u.jsx(hw,{placeholder:"Filter by type"})}),u.jsxs(zp,{children:[u.jsx(Tn,{value:"all",children:"All Types"}),u.jsx(Tn,{value:"investigation",children:"Investigation"}),u.jsx(Tn,{value:"admin",children:"Admin Behavior"}),u.jsx(Tn,{value:"resolution",children:"Case Resolution"}),u.jsx(Tn,{value:"other",children:"Other"})]})]}),u.jsxs(dw,{value:o,onValueChange:a,children:[u.jsx($p,{className:"w-[150px]",children:u.jsx(hw,{placeholder:"Filter by status"})}),u.jsxs(zp,{children:[u.jsx(Tn,{value:"all",children:"All Status"}),u.jsx(Tn,{value:"unread",children:"Unread"}),u.jsx(Tn,{value:"read",children:"Read"}),u.jsx(Tn,{value:"flagged",children:"Flagged"}),u.jsx(Tn,{value:"resolved",children:"Resolved"})]})]})]})]}),u.jsx("div",{className:"glass-card rounded-xl overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-white/60 border-b border-white/10",children:[u.jsx("th",{className:"p-4 font-medium text-sm",children:"ID"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Report ID"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Type"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Date"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Status"}),u.jsx("th",{className:"p-4 font-medium text-sm text-right",children:"Actions"})]})}),u.jsxs("tbody",{children:[f.map(_=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"p-4 font-mono text-sm",children:_.id}),u.jsx("td",{className:"p-4 font-mono text-sm",children:_.reportId||u.jsx("span",{className:"text-white/40",children:"No report ID"})}),u.jsx("td",{className:"p-4",children:p(_.type)}),u.jsx("td",{className:"p-4 text-sm text-white/70",children:_.date}),u.jsx("td",{className:"p-4",children:m(_.status)}),u.jsx("td",{className:"p-4 text-right",children:u.jsxs(Ie,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>w(_),children:[u.jsx(bu,{className:"h-3.5 w-3.5 mr-1"}),"View"]})})]},_.id)),f.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"p-8 text-center text-white/60",children:"No feedback found matching your search criteria."})})]})]})})}),l&&u.jsx(YO,{open:!!l,onOpenChange:_=>!_&&c(null),children:u.jsxs(hb,{className:"max-w-2xl",children:[u.jsx(fb,{children:u.jsxs(mb,{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-mono text-sm bg-safespeak-dark-accent px-2 py-1 rounded",children:l.id}),u.jsx("span",{children:"Feedback Details"})]})}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Date Submitted"}),u.jsx("p",{children:l.date})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Status"}),u.jsx("div",{children:m(l.status)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Feedback Type"}),u.jsx("div",{children:p(l.type)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Related Report"}),u.jsx("p",{className:"font-mono",children:l.reportId||"No related report"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Feedback Content"}),u.jsx("div",{className:"bg-safespeak-dark-accent/50 p-4 rounded-md text-white/90",children:l.description})]}),l.type==="other"&&u.jsxs("div",{className:"bg-amber-500/10 p-4 rounded-md flex gap-3",children:[u.jsx(Wl,{className:"h-5 w-5 text-amber-500 shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-amber-500 font-medium",children:"Non-case related feedback"}),u.jsx("p",{className:"text-sm text-white/70",children:"This feedback appears to be about app features or interface rather than a specific case."})]})]}),u.jsxs("div",{className:"space-y-2 pt-4 border-t border-white/10",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Update Status"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ie,{variant:"outline",size:"sm",className:"text-safespeak-blue border-safespeak-blue/30",onClick:()=>g("read"),children:"Mark as Read"}),u.jsx(Ie,{variant:"outline",size:"sm",className:"text-amber-500 border-amber-500/30",onClick:()=>g("flagged"),children:"Flag for Review"}),u.jsx(Ie,{variant:"outline",size:"sm",className:"text-safespeak-green border-safespeak-green/30",onClick:()=>g("resolved"),children:"Mark Resolved"})]})]})]}),u.jsxs(pb,{children:[u.jsx(XO,{asChild:!0,children:u.jsx(Ie,{variant:"outline",children:"Close"})}),l.reportId&&u.jsx(Ie,{children:"View Related Case"})]})]})})]})},wM=x.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));wM.displayName="Card";const xM=x.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ke("flex flex-col space-y-1.5 p-6",t),...e}));xM.displayName="CardHeader";const _M=x.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:ke("text-2xl font-semibold leading-none tracking-tight",t),...e}));_M.displayName="CardTitle";const bM=x.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));bM.displayName="CardDescription";const EM=x.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ke("p-6 pt-0",t),...e}));EM.displayName="CardContent";const TM=x.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ke("flex items-center p-6 pt-0",t),...e}));TM.displayName="CardFooter";const bee=jd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ef({className:t,variant:e,...n}){return u.jsx("div",{className:ke(bee({variant:e}),t),...n})}const Eee=[{id:"RPT-A1B2C3",title:"Armed Robbery at Downtown Store",description:"Multiple armed individuals entered the store and threatened the employees. Surveillance footage available.",location:"Downtown Commercial District",timeElapsed:"2 hours ago",status:"urgent",crimeType:"robbery",aiScore:95,aiReason:"Recent incident, violent crime with weapons involved, multiple perpetrators, available evidence."},{id:"RPT-D4E5F6",title:"Repeated Domestic Violence Reports",description:"Multiple reports from the same address over the past week. Escalating pattern observed.",location:"Westside Apartments",timeElapsed:"6 hours ago",status:"critical",crimeType:"domestic violence",aiScore:92,aiReason:"Pattern of escalation, potential for serious harm, involves vulnerable victims, high recurrence risk."},{id:"RPT-G7H8I9",title:"Drug Trafficking Near School",description:"Multiple witnesses reported drug dealing activities near the elementary school during school hours.",location:"Northside Elementary School Area",timeElapsed:"1 day ago",status:"high",crimeType:"drug trafficking",aiScore:87,aiReason:"Proximity to school, ongoing criminal activity, affects children safety, community impact."},{id:"RPT-J1K2L3",title:"Cybercrime Targeting Elderly",description:"Organized phishing scheme targeting elderly residents in the community. Multiple victims reported.",location:"Citywide",timeElapsed:"2 days ago",status:"high",crimeType:"cybercrime",aiScore:83,aiReason:"Targets vulnerable population, multiple victims, organized crime, financial impact on victims."}],Tee=t=>{switch(t){case"urgent":return u.jsx(ef,{className:"bg-red-500 hover:bg-red-600",children:"Urgent"});case"critical":return u.jsx(ef,{className:"bg-amber-500 hover:bg-amber-600",children:"Critical"});case"high":return u.jsx(ef,{className:"bg-orange-500 hover:bg-orange-600",children:"High Priority"});default:return u.jsx(ef,{children:"Unknown"})}},See=()=>{const[t,e]=x.useState(null),{toast:n}=Wn(),r=i=>{e(t===i?null:i)},s=i=>{n({title:"Case Assigned",description:`You've been assigned to case ${i}`})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[u.jsx(Wl,{className:"h-5 w-5 text-red-500"}),u.jsx("span",{children:"AI-Prioritized Critical Cases"})]})}),u.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Wl,{className:"h-5 w-5 text-red-500 shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-400",children:"AI Priority System"}),u.jsx("p",{className:"text-sm text-white/70",children:"Cases are automatically prioritized based on crime type, time sensitivity, public safety risk, and likelihood of evidence degradation. Review these cases first for efficient resource allocation."})]})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Eee.map(i=>u.jsxs(wM,{className:"glass-card shadow-lg border-white/10 overflow-hidden",children:[u.jsx(xM,{className:"pb-2",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx(_M,{className:"text-lg flex items-center gap-2",children:i.title}),u.jsxs(bM,{className:"mt-1 flex items-center gap-2",children:[u.jsx("span",{className:"font-mono text-xs",children:i.id}),Tee(i.status)]})]}),u.jsxs("div",{className:"bg-white/10 rounded-full px-2 py-1 text-xs font-medium flex items-center",children:["AI Score: ",u.jsxs("span",{className:"text-amber-400 ml-1",children:[i.aiScore,"/100"]})]})]})}),u.jsx(EM,{className:"pb-3",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"text-sm text-white/80",children:i.description}),u.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[u.jsxs("div",{className:"flex items-center gap-1 bg-white/10 px-2 py-1 rounded-full",children:[u.jsx(Ji,{className:"h-3 w-3"}),u.jsx("span",{children:i.timeElapsed})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white/10 px-2 py-1 rounded-full",children:[u.jsx(_i,{className:"h-3 w-3"}),u.jsx("span",{children:i.crimeType})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white/10 px-2 py-1 rounded-full",children:[u.jsx(wA,{className:"h-3 w-3"}),u.jsx("span",{children:i.location})]})]}),t===i.id&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10",children:[u.jsx("h4",{className:"text-xs font-medium text-white/70 mb-2",children:"AI Priority Reasoning:"}),u.jsx("p",{className:"text-sm text-white/80",children:i.aiReason})]})]})}),u.jsxs(TM,{className:"flex justify-between pt-0",children:[u.jsx(Ie,{variant:"ghost",size:"sm",className:"text-xs flex items-center gap-1",onClick:()=>r(i.id),children:t===i.id?u.jsxs(u.Fragment,{children:[u.jsx(yA,{className:"h-3 w-3"}),u.jsx("span",{children:"Show Less"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ex,{className:"h-3 w-3"}),u.jsx("span",{children:"AI Details"})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ie,{variant:"outline",size:"sm",className:"text-xs",children:[u.jsx(J4,{className:"h-3 w-3 mr-1"}),"View Details"]}),u.jsx(Ie,{size:"sm",className:"text-xs",onClick:()=>s(i.id),children:"Assign to Me"})]})]})]},i.id))})]})},Cee=()=>{const{user:t,logout:e}=Br(),n=go(),{toast:r}=Wn(),[s,i]=x.useState([]),[o,a]=x.useState([]),[l,c]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const _=await kp(Jl(tc,"reports")),b=await kp(Jl(tc,"feedback")),v=_.docs.map(k=>({id:k.id,...k.data()})),E=b.docs.map(k=>({id:k.id,...k.data()}));i(v),a(E)}catch(_){console.error("Fetch error:",_),r({title:"Error",description:"Failed to fetch data from the database.",variant:"destructive"})}finally{c(!1)}})()},[]);const h=()=>{e(),r({title:"Logged Out",description:"You have been successfully logged out."}),n("/")},f=s.length,p=s.filter(g=>g.status==="resolved").length,m=s.filter(g=>g.status==="pending").length,w=s.filter(g=>["urgent","high"].includes((g.priority||"").toLowerCase())).length;return u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark",children:[u.jsx(Na,{}),u.jsx("main",{className:"flex-1 pt-20 pb-12",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-safespeak-green/15 p-2 rounded-full",children:u.jsx(lU,{className:"h-6 w-6 text-safespeak-green"})}),u.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"})]}),u.jsxs(Ie,{variant:"outline",size:"sm",onClick:h,children:[u.jsx(s0,{className:"h-4 w-4 mr-1"}),"Logout"]})]}),u.jsx("p",{className:"text-white/70",children:"Manage and track anonymous crime reports and user feedback."})]}),l?u.jsx("div",{className:"text-center py-24",children:u.jsx("p",{className:"text-white/60 text-lg animate-pulse",children:"Loading Dashboard..."})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[{icon:u.jsx(_i,{}),label:"Total Reports",value:f},{icon:u.jsx(zl,{className:"text-safespeak-green"}),label:"Solved Cases",value:p},{icon:u.jsx(Ji,{className:"text-amber-500"}),label:"Pending Review",value:m},{icon:u.jsx(Wl,{className:"text-red-500"}),label:"Critical Cases",value:w}].map((g,_)=>u.jsxs(xt.div,{className:"glass-card p-4 rounded-xl flex items-center gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:_*.1},children:[u.jsx("div",{className:"bg-white/10 p-3 rounded-lg",children:g.icon}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-white/70",children:g.label}),u.jsx("p",{className:"text-2xl font-bold",children:g.value})]})]},g.label))}),u.jsxs(xt.div,{className:"glass-card rounded-xl p-6 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Case Progress Overview"}),u.jsxs(Ie,{variant:"outline",size:"sm",children:[u.jsx(bx,{className:"h-4 w-4 mr-1"}),"Export Analytics"]})]}),f>0?u.jsx("div",{className:"space-y-5",children:[{label:"Solved",value:p},{label:"Under Investigation",value:s.filter(g=>g.status==="under-investigation").length},{label:"Pending Review",value:m},{label:"Critical Cases",value:w}].map(g=>{const _=(g.value/f*100).toFixed(1);return u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsx("p",{className:"text-sm font-medium",children:g.label}),u.jsxs("p",{className:"text-sm text-white/70",children:[_,"%"]})]}),u.jsx(ju,{value:parseFloat(_),className:"h-2"})]},g.label)})}):u.jsx("p",{className:"text-center text-white/60 py-10",children:"No reports available to analyze yet."})]}),u.jsx(xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:u.jsxs(vM,{defaultValue:"cases",children:[u.jsxs(vb,{className:"mb-6 overflow-x-auto whitespace-nowrap flex gap-2 px-1 scrollbar-hide",children:[u.jsxs(ea,{value:"cases",className:"min-w-[140px] flex items-center gap-1.5",children:[u.jsx(_i,{className:"h-4 w-4"}),"Case Management"]}),u.jsxs(ea,{value:"critical",className:"min-w-[140px] flex items-center gap-1.5",children:[u.jsx(Wl,{className:"h-4 w-4"}),"Critical Cases"]}),u.jsxs(ea,{value:"feedback",className:"min-w-[140px] flex items-center gap-1.5",children:[u.jsx(Tx,{className:"h-4 w-4"}),"User Feedback"]})]}),u.jsx(ta,{value:"cases",children:u.jsx(xee,{allReports:s})}),u.jsx(ta,{value:"critical",children:u.jsx(See,{allReports:s})}),u.jsx(ta,{value:"feedback",children:u.jsx(_ee,{allFeedback:o})})]})})]})]})}),u.jsx(gs,{})]})};var eh=t=>t.type==="checkbox",Bo=t=>t instanceof Date,Cn=t=>t==null;const SM=t=>typeof t=="object";var jt=t=>!Cn(t)&&!Array.isArray(t)&&SM(t)&&!Bo(t),CM=t=>jt(t)&&t.target?eh(t.target)?t.target.checked:t.target.value:t,Iee=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,IM=(t,e)=>t.has(Iee(e)),kee=t=>{const e=t.constructor&&t.constructor.prototype;return jt(e)&&e.hasOwnProperty("isPrototypeOf")},wb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(wb&&(t instanceof Blob||t instanceof FileList))&&(n||jt(t)))if(e=n?[]:{},!n&&!kee(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=jn(t[r]));else return t;return e}var bg=t=>Array.isArray(t)?t.filter(Boolean):[],kt=t=>t===void 0,ne=(t,e,n)=>{if(!e||!jt(t))return n;const r=bg(e.split(/[,[\].]+?/)).reduce((s,i)=>Cn(s)?s:s[i],t);return kt(r)||r===t?kt(t[e])?n:t[e]:r},ur=t=>typeof t=="boolean",xb=t=>/^\w*$/.test(t),kM=t=>bg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),et=(t,e,n)=>{let r=-1;const s=xb(e)?[e]:kM(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=jt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const Wp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ar={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},PM=z.createContext(null),Eg=()=>z.useContext(PM),Pee=t=>{const{children:e,...n}=t;return z.createElement(PM.Provider,{value:n},e)};var AM=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Ar.all&&(e._proxyFormState[o]=!r||Ar.all),n&&(n[o]=!0),t[o]}});return s},Dn=t=>jt(t)&&!Object.keys(t).length,RM=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Dn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Ar.all))},Du=t=>Array.isArray(t)?t:[t],NM=(t,e,n)=>!t||!e||t===e||Du(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function _b(t){const e=z.useRef(t);e.current=t,z.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Aee(t){const e=Eg(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=z.useState(n._formState),l=z.useRef(!0),c=z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=z.useRef(s);return h.current=s,_b({disabled:r,next:f=>l.current&&NM(h.current,f.name,i)&&RM(f,c.current,n._updateFormState)&&a({...n._formState,...f}),subject:n._subjects.state}),z.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),AM(o,n,c.current,!1)}var ns=t=>typeof t=="string",jM=(t,e,n,r,s)=>ns(t)?(r&&e.watch.add(t),ne(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ne(n,i))):(r&&(e.watchAll=!0),n);function Ree(t){const e=Eg(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=z.useRef(r);a.current=r,_b({disabled:i,subject:n._subjects.values,next:h=>{NM(a.current,h.name,o)&&c(jn(jM(a.current,n._names,h.values||n._formValues,!1,s)))}});const[l,c]=z.useState(n._getWatch(r,s));return z.useEffect(()=>n._removeUnmounted()),l}function Nee(t){const e=Eg(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=IM(s._names.array,n),a=Ree({control:s,name:n,defaultValue:ne(s._formValues,n,ne(s._defaultValues,n,t.defaultValue)),exact:!0}),l=Aee({control:s,name:n,exact:!0}),c=z.useRef(s.register(n,{...t.rules,value:a,...ur(t.disabled)?{disabled:t.disabled}:{}}));return z.useEffect(()=>{const h=s._options.shouldUnregister||i,f=(p,m)=>{const w=ne(s._fields,p);w&&w._f&&(w._f.mount=m)};if(f(n,!0),h){const p=jn(ne(s._options.defaultValues,n));et(s._defaultValues,n,p),kt(ne(s._formValues,n))&&et(s._formValues,n,p)}return()=>{(o?h&&!s._state.action:h)?s.unregister(n):f(n,!1)}},[n,s,o,i]),z.useEffect(()=>{ne(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:ne(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...ur(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:z.useCallback(h=>c.current.onChange({target:{value:CM(h),name:n},type:Wp.CHANGE}),[n]),onBlur:z.useCallback(()=>c.current.onBlur({target:{value:ne(s._formValues,n),name:n},type:Wp.BLUR}),[n,s]),ref:z.useCallback(h=>{const f=ne(s._fields,n);f&&h&&(f._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:p=>h.setCustomValidity(p),reportValidity:()=>h.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ne(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!ne(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ne(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ne(l.validatingFields,n)},error:{enumerable:!0,get:()=>ne(l.errors,n)}})}}const jee=t=>t.render(Nee(t));var DM=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},rI=t=>({isOnSubmit:!t||t===Ar.onSubmit,isOnBlur:t===Ar.onBlur,isOnChange:t===Ar.onChange,isOnAll:t===Ar.all,isOnTouch:t===Ar.onTouched}),sI=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ou=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ne(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Ou(a,e))break}else if(jt(a)&&Ou(a,e))break}}};var Dee=(t,e,n)=>{const r=Du(ne(t,n));return et(r,"root",e[n]),et(t,n,r),t},bb=t=>t.type==="file",js=t=>typeof t=="function",Hp=t=>{if(!wb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Rf=t=>ns(t),Eb=t=>t.type==="radio",qp=t=>t instanceof RegExp;const iI={value:!1,isValid:!1},oI={value:!0,isValid:!0};var OM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!kt(t[0].attributes.value)?kt(t[0].value)||t[0].value===""?oI:{value:t[0].value,isValid:!0}:oI:iI}return iI};const aI={isValid:!1,value:null};var MM=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,aI):aI;function lI(t,e,n="validate"){if(Rf(t)||Array.isArray(t)&&t.every(Rf)||ur(t)&&!t)return{type:n,message:Rf(t)?t:"",ref:e}}var za=t=>jt(t)&&!qp(t)?t:{value:t,message:""},cI=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:h,max:f,pattern:p,validate:m,name:w,valueAsNumber:g,mount:_,disabled:b}=t._f,v=ne(e,w);if(!_||b)return{};const E=o?o[0]:i,k=j=>{r&&E.reportValidity&&(E.setCustomValidity(ur(j)?"":j||""),E.reportValidity())},R={},O=Eb(i),C=eh(i),S=O||C,I=(g||bb(i))&&kt(i.value)&&kt(v)||Hp(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,N=DM.bind(null,w,n,R),D=(j,A,$,re=bs.maxLength,G=bs.minLength)=>{const se=j?A:$;R[w]={type:j?re:G,message:se,ref:i,...N(j?re:G,se)}};if(s?!Array.isArray(v)||!v.length:a&&(!S&&(I||Cn(v))||ur(v)&&!v||C&&!OM(o).isValid||O&&!MM(o).isValid)){const{value:j,message:A}=Rf(a)?{value:!!a,message:a}:za(a);if(j&&(R[w]={type:bs.required,message:A,ref:E,...N(bs.required,A)},!n))return k(A),R}if(!I&&(!Cn(h)||!Cn(f))){let j,A;const $=za(f),re=za(h);if(!Cn(v)&&!isNaN(v)){const G=i.valueAsNumber||v&&+v;Cn($.value)||(j=G>$.value),Cn(re.value)||(A=G<re.value)}else{const G=i.valueAsDate||new Date(v),se=oe=>new Date(new Date().toDateString()+" "+oe),F=i.type=="time",H=i.type=="week";ns($.value)&&v&&(j=F?se(v)>se($.value):H?v>$.value:G>new Date($.value)),ns(re.value)&&v&&(A=F?se(v)<se(re.value):H?v<re.value:G<new Date(re.value))}if((j||A)&&(D(!!j,$.message,re.message,bs.max,bs.min),!n))return k(R[w].message),R}if((l||c)&&!I&&(ns(v)||s&&Array.isArray(v))){const j=za(l),A=za(c),$=!Cn(j.value)&&v.length>+j.value,re=!Cn(A.value)&&v.length<+A.value;if(($||re)&&(D($,j.message,A.message),!n))return k(R[w].message),R}if(p&&!I&&ns(v)){const{value:j,message:A}=za(p);if(qp(j)&&!v.match(j)&&(R[w]={type:bs.pattern,message:A,ref:i,...N(bs.pattern,A)},!n))return k(A),R}if(m){if(js(m)){const j=await m(v,e),A=lI(j,E);if(A&&(R[w]={...A,...N(bs.validate,A.message)},!n))return k(A.message),R}else if(jt(m)){let j={};for(const A in m){if(!Dn(j)&&!n)break;const $=lI(await m[A](v,e),E,A);$&&(j={...$,...N(A,$.message)},k($.message),n&&(R[w]=j))}if(!Dn(j)&&(R[w]={ref:E,...j},!n))return R}}return k(!0),R};function Oee(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=kt(t)?r++:t[e[r++]];return t}function Mee(t){for(const e in t)if(t.hasOwnProperty(e)&&!kt(t[e]))return!1;return!0}function Ft(t,e){const n=Array.isArray(e)?e:xb(e)?[e]:kM(e),r=n.length===1?t:Oee(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(jt(r)&&Dn(r)||Array.isArray(r)&&Mee(r))&&Ft(t,n.slice(0,-1)),t}var tv=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},pw=t=>Cn(t)||!SM(t);function Ci(t,e){if(pw(t)||pw(e))return t===e;if(Bo(t)&&Bo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Bo(i)&&Bo(o)||jt(i)&&jt(o)||Array.isArray(i)&&Array.isArray(o)?!Ci(i,o):i!==o)return!1}}return!0}var VM=t=>t.type==="select-multiple",Vee=t=>Eb(t)||eh(t),nv=t=>Hp(t)&&t.isConnected,LM=t=>{for(const e in t)if(js(t[e]))return!0;return!1};function Gp(t,e={}){const n=Array.isArray(t);if(jt(t)||n)for(const r in t)Array.isArray(t[r])||jt(t[r])&&!LM(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Gp(t[r],e[r])):Cn(t[r])||(e[r]=!0);return e}function FM(t,e,n){const r=Array.isArray(t);if(jt(t)||r)for(const s in t)Array.isArray(t[s])||jt(t[s])&&!LM(t[s])?kt(e)||pw(n[s])?n[s]=Array.isArray(t[s])?Gp(t[s],[]):{...Gp(t[s])}:FM(t[s],Cn(e)?{}:e[s],n[s]):n[s]=!Ci(t[s],e[s]);return n}var Yc=(t,e)=>FM(t,e,Gp(e)),UM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>kt(t)?t:e?t===""?NaN:t&&+t:n&&ns(t)?new Date(t):r?r(t):t;function rv(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return bb(e)?e.files:Eb(e)?MM(t.refs).value:VM(e)?[...e.selectedOptions].map(({value:n})=>n):eh(e)?OM(t.refs).value:UM(kt(e.value)?t.ref.value:e.value,t)}var Lee=(t,e,n,r)=>{const s={};for(const i of t){const o=ne(e,i);o&&et(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Xc=t=>kt(t)?t:qp(t)?t.source:jt(t)?qp(t.value)?t.value.source:t.value:t;const uI="AsyncFunction";var Fee=t=>(!t||!t.validate)&&!!(js(t.validate)&&t.validate.constructor.name===uI||jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===uI)),Uee=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function dI(t,e,n){const r=ne(t,n);if(r||xb(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ne(e,i),a=ne(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var Bee=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,$ee=(t,e)=>!bg(ne(t,e)).length&&Ft(t,e);const zee={mode:Ar.onSubmit,reValidateMode:Ar.onChange,shouldFocusError:!0};function Wee(t={}){let e={...zee,...t},n={submitCount:0,isDirty:!1,isLoading:js(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=jt(e.defaultValues)||jt(e.values)?jn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:jn(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:tv(),array:tv(),state:tv()},p=rI(e.mode),m=rI(e.reValidateMode),w=e.criteriaMode===Ar.all,g=M=>V=>{clearTimeout(c),c=setTimeout(M,V)},_=async M=>{if(!t.disabled&&(h.isValid||M)){const V=e.resolver?Dn((await S()).errors):await N(r,!0);V!==n.isValid&&f.state.next({isValid:V})}},b=(M,V)=>{!t.disabled&&(h.isValidating||h.validatingFields)&&((M||Array.from(a.mount)).forEach(B=>{B&&(V?et(n.validatingFields,B,V):Ft(n.validatingFields,B))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Dn(n.validatingFields)}))},v=(M,V=[],B,ie,ee=!0,Y=!0)=>{if(ie&&B&&!t.disabled){if(o.action=!0,Y&&Array.isArray(ne(r,M))){const me=B(ne(r,M),ie.argA,ie.argB);ee&&et(r,M,me)}if(Y&&Array.isArray(ne(n.errors,M))){const me=B(ne(n.errors,M),ie.argA,ie.argB);ee&&et(n.errors,M,me),$ee(n.errors,M)}if(h.touchedFields&&Y&&Array.isArray(ne(n.touchedFields,M))){const me=B(ne(n.touchedFields,M),ie.argA,ie.argB);ee&&et(n.touchedFields,M,me)}h.dirtyFields&&(n.dirtyFields=Yc(s,i)),f.state.next({name:M,isDirty:j(M,V),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else et(i,M,V)},E=(M,V)=>{et(n.errors,M,V),f.state.next({errors:n.errors})},k=M=>{n.errors=M,f.state.next({errors:n.errors,isValid:!1})},R=(M,V,B,ie)=>{const ee=ne(r,M);if(ee){const Y=ne(i,M,kt(B)?ne(s,M):B);kt(Y)||ie&&ie.defaultChecked||V?et(i,M,V?Y:rv(ee._f)):re(M,Y),o.mount&&_()}},O=(M,V,B,ie,ee)=>{let Y=!1,me=!1;const Ae={name:M};if(!t.disabled){const Be=!!(ne(r,M)&&ne(r,M)._f&&ne(r,M)._f.disabled);if(!B||ie){h.isDirty&&(me=n.isDirty,n.isDirty=Ae.isDirty=j(),Y=me!==Ae.isDirty);const Me=Be||Ci(ne(s,M),V);me=!!(!Be&&ne(n.dirtyFields,M)),Me||Be?Ft(n.dirtyFields,M):et(n.dirtyFields,M,!0),Ae.dirtyFields=n.dirtyFields,Y=Y||h.dirtyFields&&me!==!Me}if(B){const Me=ne(n.touchedFields,M);Me||(et(n.touchedFields,M,B),Ae.touchedFields=n.touchedFields,Y=Y||h.touchedFields&&Me!==B)}Y&&ee&&f.state.next(Ae)}return Y?Ae:{}},C=(M,V,B,ie)=>{const ee=ne(n.errors,M),Y=h.isValid&&ur(V)&&n.isValid!==V;if(t.delayError&&B?(l=g(()=>E(M,B)),l(t.delayError)):(clearTimeout(c),l=null,B?et(n.errors,M,B):Ft(n.errors,M)),(B?!Ci(ee,B):ee)||!Dn(ie)||Y){const me={...ie,...Y&&ur(V)?{isValid:V}:{},errors:n.errors,name:M};n={...n,...me},f.state.next(me)}},S=async M=>{b(M,!0);const V=await e.resolver(i,e.context,Lee(M||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(M),V},I=async M=>{const{errors:V}=await S(M);if(M)for(const B of M){const ie=ne(V,B);ie?et(n.errors,B,ie):Ft(n.errors,B)}else n.errors=V;return V},N=async(M,V,B={valid:!0})=>{for(const ie in M){const ee=M[ie];if(ee){const{_f:Y,...me}=ee;if(Y){const Ae=a.array.has(Y.name),Be=ee._f&&Fee(ee._f);Be&&h.validatingFields&&b([ie],!0);const Me=await cI(ee,i,w,e.shouldUseNativeValidation&&!V,Ae);if(Be&&h.validatingFields&&b([ie]),Me[Y.name]&&(B.valid=!1,V))break;!V&&(ne(Me,Y.name)?Ae?Dee(n.errors,Me,Y.name):et(n.errors,Y.name,Me[Y.name]):Ft(n.errors,Y.name))}!Dn(me)&&await N(me,V,B)}}return B.valid},D=()=>{for(const M of a.unMount){const V=ne(r,M);V&&(V._f.refs?V._f.refs.every(B=>!nv(B)):!nv(V._f.ref))&&be(M)}a.unMount=new Set},j=(M,V)=>!t.disabled&&(M&&V&&et(i,M,V),!Ci(K(),s)),A=(M,V,B)=>jM(M,a,{...o.mount?i:kt(V)?s:ns(M)?{[M]:V}:V},B,V),$=M=>bg(ne(o.mount?i:s,M,t.shouldUnregister?ne(s,M,[]):[])),re=(M,V,B={})=>{const ie=ne(r,M);let ee=V;if(ie){const Y=ie._f;Y&&(!Y.disabled&&et(i,M,UM(V,Y)),ee=Hp(Y.ref)&&Cn(V)?"":V,VM(Y.ref)?[...Y.ref.options].forEach(me=>me.selected=ee.includes(me.value)):Y.refs?eh(Y.ref)?Y.refs.length>1?Y.refs.forEach(me=>(!me.defaultChecked||!me.disabled)&&(me.checked=Array.isArray(ee)?!!ee.find(Ae=>Ae===me.value):ee===me.value)):Y.refs[0]&&(Y.refs[0].checked=!!ee):Y.refs.forEach(me=>me.checked=me.value===ee):bb(Y.ref)?Y.ref.value="":(Y.ref.value=ee,Y.ref.type||f.values.next({name:M,values:{...i}})))}(B.shouldDirty||B.shouldTouch)&&O(M,ee,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&oe(M)},G=(M,V,B)=>{for(const ie in V){const ee=V[ie],Y=`${M}.${ie}`,me=ne(r,Y);(a.array.has(M)||jt(ee)||me&&!me._f)&&!Bo(ee)?G(Y,ee,B):re(Y,ee,B)}},se=(M,V,B={})=>{const ie=ne(r,M),ee=a.array.has(M),Y=jn(V);et(i,M,Y),ee?(f.array.next({name:M,values:{...i}}),(h.isDirty||h.dirtyFields)&&B.shouldDirty&&f.state.next({name:M,dirtyFields:Yc(s,i),isDirty:j(M,Y)})):ie&&!ie._f&&!Cn(Y)?G(M,Y,B):re(M,Y,B),sI(M,a)&&f.state.next({...n}),f.values.next({name:o.mount?M:void 0,values:{...i}})},F=async M=>{o.mount=!0;const V=M.target;let B=V.name,ie=!0;const ee=ne(r,B),Y=()=>V.type?rv(ee._f):CM(M),me=Ae=>{ie=Number.isNaN(Ae)||Bo(Ae)&&isNaN(Ae.getTime())||Ci(Ae,ne(i,B,Ae))};if(ee){let Ae,Be;const Me=Y(),xn=M.type===Wp.BLUR||M.type===Wp.FOCUS_OUT,_r=!Uee(ee._f)&&!e.resolver&&!ne(n.errors,B)&&!ee._f.deps||Bee(xn,ne(n.touchedFields,B),n.isSubmitted,m,p),ys=sI(B,a,xn);et(i,B,Me),xn?(ee._f.onBlur&&ee._f.onBlur(M),l&&l(0)):ee._f.onChange&&ee._f.onChange(M);const bo=O(B,Me,xn,!1),Hr=!Dn(bo)||ys;if(!xn&&f.values.next({name:B,type:M.type,values:{...i}}),_r)return h.isValid&&(t.mode==="onBlur"?xn&&_():_()),Hr&&f.state.next({name:B,...ys?{}:bo});if(!xn&&ys&&f.state.next({...n}),e.resolver){const{errors:ri}=await S([B]);if(me(Me),ie){const ja=dI(n.errors,r,B),qr=dI(ri,r,ja.name||B);Ae=qr.error,B=qr.name,Be=Dn(ri)}}else b([B],!0),Ae=(await cI(ee,i,w,e.shouldUseNativeValidation))[B],b([B]),me(Me),ie&&(Ae?Be=!1:h.isValid&&(Be=await N(r,!0)));ie&&(ee._f.deps&&oe(ee._f.deps),C(B,Be,Ae,bo))}},H=(M,V)=>{if(ne(n.errors,V)&&M.focus)return M.focus(),1},oe=async(M,V={})=>{let B,ie;const ee=Du(M);if(e.resolver){const Y=await I(kt(M)?M:ee);B=Dn(Y),ie=M?!ee.some(me=>ne(Y,me)):B}else M?(ie=(await Promise.all(ee.map(async Y=>{const me=ne(r,Y);return await N(me&&me._f?{[Y]:me}:me)}))).every(Boolean),!(!ie&&!n.isValid)&&_()):ie=B=await N(r);return f.state.next({...!ns(M)||h.isValid&&B!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:B}:{},errors:n.errors}),V.shouldFocus&&!ie&&Ou(r,H,M?ee:a.mount),ie},K=M=>{const V={...o.mount?i:s};return kt(M)?V:ns(M)?ne(V,M):M.map(B=>ne(V,B))},ae=(M,V)=>({invalid:!!ne((V||n).errors,M),isDirty:!!ne((V||n).dirtyFields,M),error:ne((V||n).errors,M),isValidating:!!ne(n.validatingFields,M),isTouched:!!ne((V||n).touchedFields,M)}),pe=M=>{M&&Du(M).forEach(V=>Ft(n.errors,V)),f.state.next({errors:M?n.errors:{}})},$e=(M,V,B)=>{const ie=(ne(r,M,{_f:{}})._f||{}).ref,ee=ne(n.errors,M)||{},{ref:Y,message:me,type:Ae,...Be}=ee;et(n.errors,M,{...Be,...V,ref:ie}),f.state.next({name:M,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&ie&&ie.focus&&ie.focus()},tt=(M,V)=>js(M)?f.values.subscribe({next:B=>M(A(void 0,V),B)}):A(M,V,!0),be=(M,V={})=>{for(const B of M?Du(M):a.mount)a.mount.delete(B),a.array.delete(B),V.keepValue||(Ft(r,B),Ft(i,B)),!V.keepError&&Ft(n.errors,B),!V.keepDirty&&Ft(n.dirtyFields,B),!V.keepTouched&&Ft(n.touchedFields,B),!V.keepIsValidating&&Ft(n.validatingFields,B),!e.shouldUnregister&&!V.keepDefaultValue&&Ft(s,B);f.values.next({values:{...i}}),f.state.next({...n,...V.keepDirty?{isDirty:j()}:{}}),!V.keepIsValid&&_()},de=({disabled:M,name:V,field:B,fields:ie,value:ee})=>{if(ur(M)&&o.mount||M){const Y=M?void 0:kt(ee)?rv(B?B._f:ne(ie,V)._f):ee;et(i,V,Y),O(V,Y,!1,!1,!0)}},Ue=(M,V={})=>{let B=ne(r,M);const ie=ur(V.disabled)||ur(t.disabled);return et(r,M,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:M}},name:M,mount:!0,...V}}),a.mount.add(M),B?de({field:B,disabled:ur(V.disabled)?V.disabled:t.disabled,name:M,value:V.value}):R(M,!0,V.value),{...ie?{disabled:V.disabled||t.disabled}:{},...e.progressive?{required:!!V.required,min:Xc(V.min),max:Xc(V.max),minLength:Xc(V.minLength),maxLength:Xc(V.maxLength),pattern:Xc(V.pattern)}:{},name:M,onChange:F,onBlur:F,ref:ee=>{if(ee){Ue(M,V),B=ne(r,M);const Y=kt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,me=Vee(Y),Ae=B._f.refs||[];if(me?Ae.find(Be=>Be===Y):Y===B._f.ref)return;et(r,M,{_f:{...B._f,...me?{refs:[...Ae.filter(nv),Y,...Array.isArray(ne(s,M))?[{}]:[]],ref:{type:Y.type,name:M}}:{ref:Y}}}),R(M,!1,void 0,Y)}else B=ne(r,M,{}),B._f&&(B._f.mount=!1),(e.shouldUnregister||V.shouldUnregister)&&!(IM(a.array,M)&&o.action)&&a.unMount.add(M)}}},Ze=()=>e.shouldFocusError&&Ou(r,H,a.mount),Pe=M=>{ur(M)&&(f.state.next({disabled:M}),Ou(r,(V,B)=>{const ie=ne(r,B);ie&&(V.disabled=ie._f.disabled||M,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(ee=>{ee.disabled=ie._f.disabled||M}))},0,!1))},Ee=(M,V)=>async B=>{let ie;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let ee=jn(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:me}=await S();n.errors=Y,ee=me}else await N(r);if(Ft(n.errors,"root"),Dn(n.errors)){f.state.next({errors:{}});try{await M(ee,B)}catch(Y){ie=Y}}else V&&await V({...n.errors},B),Ze(),setTimeout(Ze);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dn(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},Oe=(M,V={})=>{ne(r,M)&&(kt(V.defaultValue)?se(M,jn(ne(s,M))):(se(M,V.defaultValue),et(s,M,jn(V.defaultValue))),V.keepTouched||Ft(n.touchedFields,M),V.keepDirty||(Ft(n.dirtyFields,M),n.isDirty=V.defaultValue?j(M,jn(ne(s,M))):j()),V.keepError||(Ft(n.errors,M),h.isValid&&_()),f.state.next({...n}))},ut=(M,V={})=>{const B=M?jn(M):s,ie=jn(B),ee=Dn(M),Y=ee?s:ie;if(V.keepDefaultValues||(s=B),!V.keepValues){if(V.keepDirtyValues){const me=new Set([...a.mount,...Object.keys(Yc(s,i))]);for(const Ae of Array.from(me))ne(n.dirtyFields,Ae)?et(Y,Ae,ne(i,Ae)):se(Ae,ne(Y,Ae))}else{if(wb&&kt(M))for(const me of a.mount){const Ae=ne(r,me);if(Ae&&Ae._f){const Be=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(Hp(Be)){const Me=Be.closest("form");if(Me){Me.reset();break}}}}r={}}i=t.shouldUnregister?V.keepDefaultValues?jn(s):{}:jn(Y),f.array.next({values:{...Y}}),f.values.next({values:{...Y}})}a={mount:V.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!V.keepIsValid||!!V.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:V.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:V.keepDirty?n.isDirty:!!(V.keepDefaultValues&&!Ci(M,s)),isSubmitted:V.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:V.keepDirtyValues?V.keepDefaultValues&&i?Yc(s,i):n.dirtyFields:V.keepDefaultValues&&M?Yc(s,M):V.keepDirty?n.dirtyFields:{},touchedFields:V.keepTouched?n.touchedFields:{},errors:V.keepErrors?n.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Dt=(M,V)=>ut(js(M)?M(i):M,V);return{control:{register:Ue,unregister:be,getFieldState:ae,handleSubmit:Ee,setError:$e,_executeSchema:S,_getWatch:A,_getDirty:j,_updateValid:_,_removeUnmounted:D,_updateFieldArray:v,_updateDisabledField:de,_getFieldArray:$,_reset:ut,_resetDefaultValues:()=>js(e.defaultValues)&&e.defaultValues().then(M=>{Dt(M,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:M=>{n={...n,...M}},_disableForm:Pe,_subjects:f,_proxyFormState:h,_setErrors:k,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(M){o=M},get _defaultValues(){return s},get _names(){return a},set _names(M){a=M},get _formState(){return n},set _formState(M){n=M},get _options(){return e},set _options(M){e={...e,...M}}},trigger:oe,register:Ue,handleSubmit:Ee,watch:tt,setValue:se,getValues:K,reset:Dt,resetField:Oe,clearErrors:pe,unregister:be,setError:$e,setFocus:(M,V={})=>{const B=ne(r,M),ie=B&&B._f;if(ie){const ee=ie.refs?ie.refs[0]:ie.ref;ee.focus&&(ee.focus(),V.shouldSelect&&ee.select())}},getFieldState:ae}}function Tb(t={}){const e=z.useRef(),n=z.useRef(),[r,s]=z.useState({isDirty:!1,isValidating:!1,isLoading:js(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:js(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Wee(t),formState:r});const i=e.current.control;return i._options=t,_b({subject:i._subjects.state,next:o=>{RM(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),z.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),z.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),z.useEffect(()=>{t.values&&!Ci(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),z.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),z.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),z.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),z.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=AM(r,i),e.current}const hI=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ne(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},BM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?hI(r.ref,n,t):r.refs&&r.refs.forEach(s=>hI(s,n,t))}},Hee=(t,e)=>{e.shouldUseNativeValidation&&BM(t,e);const n={};for(const r in t){const s=ne(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(qee(e.names||Object.keys(t),r)){const o=Object.assign({},ne(n,r));et(o,"root",i),et(n,r,o)}else et(n,r,i)}return n},qee=(t,e)=>t.some(n=>n.startsWith(e+"."));var Gee=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=DM(o,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},$M=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&BM({},i),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:Hee(Gee(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ke;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ke||(Ke={}));var fI;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(fI||(fI={}));const ce=Ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Do=t=>{switch(typeof t){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return isNaN(t)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(t)?ce.array:t===null?ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ce.promise:typeof Map<"u"&&t instanceof Map?ce.map:typeof Set<"u"&&t instanceof Set?ce.set:typeof Date<"u"&&t instanceof Date?ce.date:ce.object;default:return ce.unknown}},J=Ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class vr extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof vr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}vr.create=t=>new vr(t);const xd=(t,e)=>{let n;switch(t.code){case J.invalid_type:t.received===ce.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ke.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ke.joinValues(t.keys,", ")}`;break;case J.invalid_union:n="Invalid input";break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ke.joinValues(t.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${Ke.joinValues(t.options)}, received '${t.received}'`;break;case J.invalid_arguments:n="Invalid function arguments";break;case J.invalid_return_type:n="Invalid function return type";break;case J.invalid_date:n="Invalid date";break;case J.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ke.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case J.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case J.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case J.custom:n="Invalid input";break;case J.invalid_intersection_types:n="Intersection results could not be merged";break;case J.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case J.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ke.assertNever(t)}return{message:n}};let Kee=xd;function mw(){return Kee}const gw=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function le(t,e){const n=mw(),r=gw({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===xd?void 0:xd].filter(s=>!!s)});t.common.issues.push(r)}class Pn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Te;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Pn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Te;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Te=Object.freeze({status:"aborted"}),cu=t=>({status:"dirty",value:t}),zn=t=>({status:"valid",value:t}),pI=t=>t.status==="aborted",mI=t=>t.status==="dirty",Kp=t=>t.status==="valid",Qp=t=>typeof Promise<"u"&&t instanceof Promise;function Yp(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function zM(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ge;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ge||(ge={}));var uu,du;class ps{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gI=(t,e)=>{if(Kp(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new vr(t.common.issues);return this._error=n,this._error}}};function De(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,c;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h??a.defaultError}:typeof a.data>"u"?{message:(l=h??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=h??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class ze{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Do(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Do(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pn,ctx:{common:e.parent.common,data:e.data,parsedType:Do(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Qp(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)},i=this._parseSync({data:e,path:s.path,parent:s});return gI(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Qp(s)?s:Promise.resolve(s));return gI(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:J.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new ti({schema:this,typeName:_e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Bs.create(this,this._def)}nullable(){return xa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return us.create(this,this._def)}promise(){return bd.create(this,this._def)}or(e){return Jp.create([this,e],this._def)}and(e){return em.create(this,e,this._def)}transform(e){return new ti({...De(this._def),schema:this,typeName:_e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new im({...De(this._def),innerType:this,defaultValue:n,typeName:_e.ZodDefault})}brand(){return new GM({typeName:_e.ZodBranded,type:this,...De(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new om({...De(this._def),innerType:this,catchValue:n,typeName:_e.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Tg.create(this,e)}readonly(){return am.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Qee=/^c[^\s-]{8,}$/i,Yee=/^[0-9a-z]+$/,Xee=/^[0-9A-HJKMNP-TV-Z]{26}$/,Zee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Jee=/^[a-z0-9_-]{21}$/i,ete=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tte=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nte="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sv;const rte=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ste=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ite=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,WM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ote=new RegExp(`^${WM}$`);function HM(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function ate(t){return new RegExp(`^${HM(t)}$`)}function lte(t){let e=`${WM}T${HM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function cte(t,e){return!!((e==="v4"||!e)&&rte.test(t)||(e==="v6"||!e)&&ste.test(t))}class Ds extends ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ce.string){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_type,expected:ce.string,received:i.parsedType}),Te}const r=new Pn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?le(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&le(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")tte.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"email",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")sv||(sv=new RegExp(nte,"u")),sv.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"emoji",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Zee.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"uuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Jee.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"nanoid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Qee.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Yee.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid2",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Xee.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ulid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),le(s,{validation:"url",code:J.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"regex",code:J.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?lte(i).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?ote.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?ate(i).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?ete.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"duration",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?cte(e.data,i.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ip",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?ite.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64",code:J.invalid_string,message:i.message}),r.dirty()):Ke.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:J.invalid_string,...ge.errToObj(r)})}_addCheck(e){return new Ds({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ge.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ge.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ge.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ge.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ge.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ge.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ge.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ge.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ge.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ge.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ge.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ge.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ge.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ge.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ge.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ge.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ge.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ge.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ge.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ge.errToObj(n)})}nonempty(e){return this.min(1,ge.errToObj(e))}trim(){return new Ds({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ds({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ds({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ds.create=t=>{var e;return new Ds({checks:[],typeName:_e.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...De(t)})};function ute(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class sc extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ce.number){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_type,expected:ce.number,received:i.parsedType}),Te}let r;const s=new Pn;for(const i of this._def.checks)i.kind==="int"?Ke.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),le(r,{code:J.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?ute(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),le(r,{code:J.not_finite,message:i.message}),s.dirty()):Ke.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ge.toString(n))}setLimit(e,n,r,s){return new sc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ge.toString(s)}]})}_addCheck(e){return new sc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ge.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ge.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ge.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ge.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ke.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}sc.create=t=>new sc({checks:[],typeName:_e.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...De(t)});class ic extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ce.bigint){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_type,expected:ce.bigint,received:i.parsedType}),Te}let r;const s=new Pn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ke.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ge.toString(n))}setLimit(e,n,r,s){return new ic({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ge.toString(s)}]})}_addCheck(e){return new ic({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ic.create=t=>{var e;return new ic({checks:[],typeName:_e.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...De(t)})};class yw extends ze{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ce.boolean){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ce.boolean,received:r.parsedType}),Te}return zn(e.data)}}yw.create=t=>new yw({typeName:_e.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...De(t)});class _d extends ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ce.date){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_type,expected:ce.date,received:i.parsedType}),Te}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_date}),Te}const r=new Pn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ke.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new _d({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ge.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ge.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}_d.create=t=>new _d({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:_e.ZodDate,...De(t)});class vw extends ze{_parse(e){if(this._getType(e)!==ce.symbol){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ce.symbol,received:r.parsedType}),Te}return zn(e.data)}}vw.create=t=>new vw({typeName:_e.ZodSymbol,...De(t)});class Xp extends ze{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ce.undefined,received:r.parsedType}),Te}return zn(e.data)}}Xp.create=t=>new Xp({typeName:_e.ZodUndefined,...De(t)});class Zp extends ze{_parse(e){if(this._getType(e)!==ce.null){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ce.null,received:r.parsedType}),Te}return zn(e.data)}}Zp.create=t=>new Zp({typeName:_e.ZodNull,...De(t)});class ww extends ze{constructor(){super(...arguments),this._any=!0}_parse(e){return zn(e.data)}}ww.create=t=>new ww({typeName:_e.ZodAny,...De(t)});class Sl extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return zn(e.data)}}Sl.create=t=>new Sl({typeName:_e.ZodUnknown,...De(t)});class co extends ze{_parse(e){const n=this._getOrReturnCtx(e);return le(n,{code:J.invalid_type,expected:ce.never,received:n.parsedType}),Te}}co.create=t=>new co({typeName:_e.ZodNever,...De(t)});class xw extends ze{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ce.void,received:r.parsedType}),Te}return zn(e.data)}}xw.create=t=>new xw({typeName:_e.ZodVoid,...De(t)});class us extends ze{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ce.array)return le(n,{code:J.invalid_type,expected:ce.array,received:n.parsedType}),Te;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(le(n,{code:o?J.too_big:J.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(le(n,{code:J.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(le(n,{code:J.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new ps(n,o,n.path,a)))).then(o=>Pn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new ps(n,o,n.path,a)));return Pn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new us({...this._def,minLength:{value:e,message:ge.toString(n)}})}max(e,n){return new us({...this._def,maxLength:{value:e,message:ge.toString(n)}})}length(e,n){return new us({...this._def,exactLength:{value:e,message:ge.toString(n)}})}nonempty(e){return this.min(1,e)}}us.create=(t,e)=>new us({type:t,minLength:null,maxLength:null,exactLength:null,typeName:_e.ZodArray,...De(e)});function Ga(t){if(t instanceof Ct){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Bs.create(Ga(r))}return new Ct({...t._def,shape:()=>e})}else return t instanceof us?new us({...t._def,type:Ga(t.element)}):t instanceof Bs?Bs.create(Ga(t.unwrap())):t instanceof xa?xa.create(Ga(t.unwrap())):t instanceof ei?ei.create(t.items.map(e=>Ga(e))):t}class Ct extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ke.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ce.object){const c=this._getOrReturnCtx(e);return le(c,{code:J.invalid_type,expected:ce.object,received:c.parsedType}),Te}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof co&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const h=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:h._parse(new ps(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof co){const c=this._def.unknownKeys;if(c==="passthrough")for(const h of a)l.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(c==="strict")a.length>0&&(le(s,{code:J.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const h of a){const f=s.data[h];l.push({key:{status:"valid",value:h},value:c._parse(new ps(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const h of l){const f=await h.key,p=await h.value;c.push({key:f,value:p,alwaysSet:h.alwaysSet})}return c}).then(c=>Pn.mergeObjectSync(r,c)):Pn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ge.errToObj,new Ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ge.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ct({...this._def,unknownKeys:"strip"})}passthrough(){return new Ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_e.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ct({...this._def,catchall:e})}pick(e){const n={};return Ke.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}omit(e){const n={};return Ke.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}deepPartial(){return Ga(this)}partial(e){const n={};return Ke.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ct({...this._def,shape:()=>n})}required(e){const n={};return Ke.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Bs;)i=i._def.innerType;n[r]=i}}),new Ct({...this._def,shape:()=>n})}keyof(){return qM(Ke.objectKeys(this.shape))}}Ct.create=(t,e)=>new Ct({shape:()=>t,unknownKeys:"strip",catchall:co.create(),typeName:_e.ZodObject,...De(e)});Ct.strictCreate=(t,e)=>new Ct({shape:()=>t,unknownKeys:"strict",catchall:co.create(),typeName:_e.ZodObject,...De(e)});Ct.lazycreate=(t,e)=>new Ct({shape:t,unknownKeys:"strip",catchall:co.create(),typeName:_e.ZodObject,...De(e)});class Jp extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new vr(a.ctx.common.issues));return le(n,{code:J.invalid_union,unionErrors:o}),Te}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},h=l._parseSync({data:n.data,path:n.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new vr(l));return le(n,{code:J.invalid_union,unionErrors:a}),Te}}get options(){return this._def.options}}Jp.create=(t,e)=>new Jp({options:t,typeName:_e.ZodUnion,...De(e)});const Ts=t=>t instanceof nm?Ts(t.schema):t instanceof ti?Ts(t.innerType()):t instanceof rm?[t.value]:t instanceof wa?t.options:t instanceof sm?Ke.objectValues(t.enum):t instanceof im?Ts(t._def.innerType):t instanceof Xp?[void 0]:t instanceof Zp?[null]:t instanceof Bs?[void 0,...Ts(t.unwrap())]:t instanceof xa?[null,...Ts(t.unwrap())]:t instanceof GM||t instanceof am?Ts(t.unwrap()):t instanceof om?Ts(t._def.innerType):[];class Sb extends ze{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.object)return le(n,{code:J.invalid_type,expected:ce.object,received:n.parsedType}),Te;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(le(n,{code:J.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Te)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Ts(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Sb({typeName:_e.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...De(r)})}}function _w(t,e){const n=Do(t),r=Do(e);if(t===e)return{valid:!0,data:t};if(n===ce.object&&r===ce.object){const s=Ke.objectKeys(e),i=Ke.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=_w(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ce.array&&r===ce.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=_w(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===ce.date&&r===ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class em extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(pI(i)||pI(o))return Te;const a=_w(i.value,o.value);return a.valid?((mI(i)||mI(o))&&n.dirty(),{status:n.value,value:a.data}):(le(r,{code:J.invalid_intersection_types}),Te)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}em.create=(t,e,n)=>new em({left:t,right:e,typeName:_e.ZodIntersection,...De(n)});class ei extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.array)return le(r,{code:J.invalid_type,expected:ce.array,received:r.parsedType}),Te;if(r.data.length<this._def.items.length)return le(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Te;!this._def.rest&&r.data.length>this._def.items.length&&(le(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ps(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Pn.mergeArray(n,o)):Pn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ei({...this._def,rest:e})}}ei.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ei({items:t,typeName:_e.ZodTuple,rest:null,...De(e)})};class tm extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.object)return le(r,{code:J.invalid_type,expected:ce.object,received:r.parsedType}),Te;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new ps(r,a,r.path,a)),value:o._parse(new ps(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Pn.mergeObjectAsync(n,s):Pn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ze?new tm({keyType:e,valueType:n,typeName:_e.ZodRecord,...De(r)}):new tm({keyType:Ds.create(),valueType:e,typeName:_e.ZodRecord,...De(n)})}}class bw extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.map)return le(r,{code:J.invalid_type,expected:ce.map,received:r.parsedType}),Te;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new ps(r,a,r.path,[c,"key"])),value:i._parse(new ps(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,h=await l.value;if(c.status==="aborted"||h.status==="aborted")return Te;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(c.value,h.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,h=l.value;if(c.status==="aborted"||h.status==="aborted")return Te;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(c.value,h.value)}return{status:n.value,value:a}}}}bw.create=(t,e,n)=>new bw({valueType:e,keyType:t,typeName:_e.ZodMap,...De(n)});class oc extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.set)return le(r,{code:J.invalid_type,expected:ce.set,received:r.parsedType}),Te;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(le(r,{code:J.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(le(r,{code:J.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const h of l){if(h.status==="aborted")return Te;h.status==="dirty"&&n.dirty(),c.add(h.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new ps(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new oc({...this._def,minSize:{value:e,message:ge.toString(n)}})}max(e,n){return new oc({...this._def,maxSize:{value:e,message:ge.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}oc.create=(t,e)=>new oc({valueType:t,minSize:null,maxSize:null,typeName:_e.ZodSet,...De(e)});class Mu extends ze{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.function)return le(n,{code:J.invalid_type,expected:ce.function,received:n.parsedType}),Te;function r(a,l){return gw({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,mw(),xd].filter(c=>!!c),issueData:{code:J.invalid_arguments,argumentsError:l}})}function s(a,l){return gw({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,mw(),xd].filter(c=>!!c),issueData:{code:J.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof bd){const a=this;return zn(async function(...l){const c=new vr([]),h=await a._def.args.parseAsync(l,i).catch(m=>{throw c.addIssue(r(l,m)),c}),f=await Reflect.apply(o,this,h);return await a._def.returns._def.type.parseAsync(f,i).catch(m=>{throw c.addIssue(s(f,m)),c})})}else{const a=this;return zn(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new vr([r(l,c.error)]);const h=Reflect.apply(o,this,c.data),f=a._def.returns.safeParse(h,i);if(!f.success)throw new vr([s(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Mu({...this._def,args:ei.create(e).rest(Sl.create())})}returns(e){return new Mu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Mu({args:e||ei.create([]).rest(Sl.create()),returns:n||Sl.create(),typeName:_e.ZodFunction,...De(r)})}}class nm extends ze{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}nm.create=(t,e)=>new nm({getter:t,typeName:_e.ZodLazy,...De(e)});class rm extends ze{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return le(n,{received:n.data,code:J.invalid_literal,expected:this._def.value}),Te}return{status:"valid",value:e.data}}get value(){return this._def.value}}rm.create=(t,e)=>new rm({value:t,typeName:_e.ZodLiteral,...De(e)});function qM(t,e){return new wa({values:t,typeName:_e.ZodEnum,...De(e)})}class wa extends ze{constructor(){super(...arguments),uu.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return le(n,{expected:Ke.joinValues(r),received:n.parsedType,code:J.invalid_type}),Te}if(Yp(this,uu)||zM(this,uu,new Set(this._def.values)),!Yp(this,uu).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return le(n,{received:n.data,code:J.invalid_enum_value,options:r}),Te}return zn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return wa.create(e,{...this._def,...n})}exclude(e,n=this._def){return wa.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}uu=new WeakMap;wa.create=qM;class sm extends ze{constructor(){super(...arguments),du.set(this,void 0)}_parse(e){const n=Ke.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ce.string&&r.parsedType!==ce.number){const s=Ke.objectValues(n);return le(r,{expected:Ke.joinValues(s),received:r.parsedType,code:J.invalid_type}),Te}if(Yp(this,du)||zM(this,du,new Set(Ke.getValidEnumValues(this._def.values))),!Yp(this,du).has(e.data)){const s=Ke.objectValues(n);return le(r,{received:r.data,code:J.invalid_enum_value,options:s}),Te}return zn(e.data)}get enum(){return this._def.values}}du=new WeakMap;sm.create=(t,e)=>new sm({values:t,typeName:_e.ZodNativeEnum,...De(e)});class bd extends ze{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.promise&&n.common.async===!1)return le(n,{code:J.invalid_type,expected:ce.promise,received:n.parsedType}),Te;const r=n.parsedType===ce.promise?n.data:Promise.resolve(n.data);return zn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}bd.create=(t,e)=>new bd({type:t,typeName:_e.ZodPromise,...De(e)});class ti extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{le(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Te;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Te:l.status==="dirty"||n.value==="dirty"?cu(l.value):l});{if(n.value==="aborted")return Te;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Te:a.status==="dirty"||n.value==="dirty"?cu(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Te:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Te:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Kp(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Kp(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Ke.assertNever(s)}}ti.create=(t,e,n)=>new ti({schema:t,typeName:_e.ZodEffects,effect:e,...De(n)});ti.createWithPreprocess=(t,e,n)=>new ti({schema:e,effect:{type:"preprocess",transform:t},typeName:_e.ZodEffects,...De(n)});class Bs extends ze{_parse(e){return this._getType(e)===ce.undefined?zn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bs.create=(t,e)=>new Bs({innerType:t,typeName:_e.ZodOptional,...De(e)});class xa extends ze{_parse(e){return this._getType(e)===ce.null?zn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xa.create=(t,e)=>new xa({innerType:t,typeName:_e.ZodNullable,...De(e)});class im extends ze{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ce.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}im.create=(t,e)=>new im({innerType:t,typeName:_e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...De(e)});class om extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Qp(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new vr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new vr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}om.create=(t,e)=>new om({innerType:t,typeName:_e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...De(e)});class Ew extends ze{_parse(e){if(this._getType(e)!==ce.nan){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ce.nan,received:r.parsedType}),Te}return{status:"valid",value:e.data}}}Ew.create=t=>new Ew({typeName:_e.ZodNaN,...De(t)});class GM extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Tg extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Te:i.status==="dirty"?(n.dirty(),cu(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Te:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Tg({in:e,out:n,typeName:_e.ZodPipeline})}}class am extends ze{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Kp(s)&&(s.value=Object.freeze(s.value)),s);return Qp(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}am.create=(t,e)=>new am({innerType:t,typeName:_e.ZodReadonly,...De(e)});Ct.lazycreate;var _e;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(_e||(_e={}));const Cl=Ds.create;sc.create;Ew.create;ic.create;yw.create;_d.create;vw.create;Xp.create;Zp.create;ww.create;Sl.create;co.create;xw.create;us.create;const KM=Ct.create;Ct.strictCreate;Jp.create;Sb.create;em.create;ei.create;tm.create;bw.create;oc.create;Mu.create;nm.create;rm.create;wa.create;sm.create;bd.create;ti.create;Bs.create;xa.create;ti.createWithPreprocess;Tg.create;var dte="Label",QM=x.forwardRef((t,e)=>u.jsx(Le.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));QM.displayName=dte;var YM=QM;const hte=jd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Zn=x.forwardRef(({className:t,...e},n)=>u.jsx(YM,{ref:n,className:ke(hte(),t),...e}));Zn.displayName=YM.displayName;const XM=Pee,ZM=x.createContext({}),dl=({...t})=>u.jsx(ZM.Provider,{value:{name:t.name},children:u.jsx(jee,{...t})}),Sg=()=>{const t=x.useContext(ZM),e=x.useContext(JM),{getFieldState:n,formState:r}=Eg(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},JM=x.createContext({}),$o=x.forwardRef(({className:t,...e},n)=>{const r=x.useId();return u.jsx(JM.Provider,{value:{id:r},children:u.jsx("div",{ref:n,className:ke("space-y-2",t),...e})})});$o.displayName="FormItem";const zo=x.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Sg();return u.jsx(Zn,{ref:n,className:ke(r&&"text-destructive",t),htmlFor:s,...e})});zo.displayName="FormLabel";const Wo=x.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Sg();return u.jsx(Zi,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});Wo.displayName="FormControl";const fte=x.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Sg();return u.jsx("p",{ref:n,id:r,className:ke("text-sm text-muted-foreground",t),...e})});fte.displayName="FormDescription";const Ho=x.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Sg(),o=s?String(s==null?void 0:s.message):e;return o?u.jsx("p",{ref:r,id:i,className:ke("text-sm font-medium text-destructive",t),...n,children:o}):null});Ho.displayName="FormMessage";const pte=KM({email:Cl().email({message:"Please enter a valid email address"}),password:Cl().min(6,{message:"Password must be at least 6 characters"})}),mte=()=>{const{adminLogin:t}=Br(),e=go();Wn();const[n,r]=x.useState(!1),[s,i]=x.useState(null),o=Tb({resolver:$M(pte),defaultValues:{email:"",password:""}}),a=async l=>{r(!0),i(null);try{await t(l.email,l.password),e("/admin")}catch(c){i(c.message||"An error occurred during login"),o.setError("root",{message:c.message})}finally{r(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Na,{}),u.jsx("main",{className:"flex-1 flex items-center justify-center pt-20 pb-12",children:u.jsx(xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md px-4",children:u.jsxs("div",{className:"glass-card rounded-2xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-safespeak-blue/15 p-3 rounded-full",children:u.jsx(qs,{className:"h-8 w-8 text-safespeak-blue"})})}),u.jsx("h1",{className:"text-2xl font-bold",children:"Admin Login"}),u.jsx("p",{className:"text-white/70 mt-2",children:"Access the administrative dashboard"})]}),s&&u.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-2 rounded-md mb-6 text-sm flex items-center gap-2",children:[u.jsx(vA,{className:"h-4 w-4"}),s]}),u.jsx(XM,{...o,children:u.jsxs("form",{onSubmit:o.handleSubmit(a),className:"space-y-4",children:[u.jsx(dl,{control:o.control,name:"email",render:({field:l})=>u.jsxs($o,{children:[u.jsx(zo,{children:"Email"}),u.jsx(Wo,{children:u.jsx(Xt,{placeholder:"admin@trustchain.com",...l,type:"email"})}),u.jsx(Ho,{})]})}),u.jsx(dl,{control:o.control,name:"password",render:({field:l})=>u.jsxs($o,{children:[u.jsx(zo,{children:"Password"}),u.jsx(Wo,{children:u.jsx(Xt,{placeholder:"",type:"password",...l})}),u.jsx(Ho,{className:"text-xs"})]})}),u.jsx(Ie,{type:"submit",className:"w-full",disabled:n,children:n?u.jsxs(u.Fragment,{children:[u.jsx(Im,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):u.jsxs(u.Fragment,{children:[u.jsx(iU,{className:"mr-2 h-4 w-4"}),"Login"]})})]})}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-white/60 text-sm",children:["Don't have an account? ",u.jsx(Bt,{to:"/admin-register",className:"text-safespeak-blue hover:underline",children:"Register"})]})})]})})}),u.jsx(gs,{})]})},gte=Cl().min(6,{message:"Password must be at least 6 characters"}),yte=KM({fullName:Cl().min(3,{message:"Full name must be at least 3 characters"}),email:Cl().email({message:"Please enter a valid email address"}),password:gte,confirmPassword:Cl()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),vte=()=>{const{adminRegister:t}=Br();go(),Wn();const[e,n]=x.useState(!1),[r,s]=x.useState(null),i=Tb({resolver:$M(yte),defaultValues:{fullName:"",email:"",password:"",confirmPassword:""}}),o=async a=>{n(!0),s(null);try{await t(a.fullName,a.email,a.password)}catch(l){console.error("Admin registration error:",l);const c=l.message||"Unable to create admin account. Please try again.";s(c)}finally{n(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Na,{}),u.jsx("main",{className:"flex-1 flex items-center justify-center pt-20 pb-12",children:u.jsx(xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md px-4",children:u.jsxs("div",{className:"glass-card rounded-2xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-safespeak-blue/15 p-3 rounded-full",children:u.jsx(qs,{className:"h-8 w-8 text-safespeak-blue"})})}),u.jsx("h1",{className:"text-2xl font-bold",children:"Create Admin Account"}),u.jsx("p",{className:"text-white/70 mt-2",children:"Register as an administrator"})]}),r&&u.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-2 rounded-md mb-6 text-sm",children:r}),u.jsx(XM,{...i,children:u.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[u.jsx(dl,{control:i.control,name:"fullName",render:({field:a})=>u.jsxs($o,{children:[u.jsx(zo,{children:"Full Name"}),u.jsx(Wo,{children:u.jsx(Xt,{placeholder:"John Doe",...a,disabled:e})}),u.jsx(Ho,{})]})}),u.jsx(dl,{control:i.control,name:"email",render:({field:a})=>u.jsxs($o,{children:[u.jsx(zo,{children:"Email"}),u.jsx(Wo,{children:u.jsx(Xt,{placeholder:"admin@safespeak.com",type:"email",...a,disabled:e})}),u.jsx(Ho,{})]})}),u.jsx(dl,{control:i.control,name:"password",render:({field:a})=>u.jsxs($o,{children:[u.jsx(zo,{children:"Password"}),u.jsx(Wo,{children:u.jsx(Xt,{placeholder:"",type:"password",...a,disabled:e})}),u.jsx(Ho,{className:"text-xs"})]})}),u.jsx(dl,{control:i.control,name:"confirmPassword",render:({field:a})=>u.jsxs($o,{children:[u.jsx(zo,{children:"Confirm Password"}),u.jsx(Wo,{children:u.jsx(Xt,{placeholder:"",type:"password",...a,disabled:e})}),u.jsx(Ho,{})]})}),u.jsx(Ie,{type:"submit",className:"w-full",disabled:e,children:e?u.jsxs(u.Fragment,{children:[u.jsx(Im,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):u.jsxs(u.Fragment,{children:[u.jsx(xA,{className:"mr-2 h-4 w-4"}),"Create Admin Account"]})})]})}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-white/60 text-sm",children:["Already have an account? ",u.jsx(Bt,{to:"/admin-login",className:"text-safespeak-blue hover:underline",children:"Login"})]})})]})})}),u.jsx(gs,{})]})},wte=({onFileChange:t,maxFiles:e=5})=>{const[n,r]=x.useState([]),[s,i]=x.useState(!1),o=x.useRef(null),a=w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?i(!0):w.type==="dragleave"&&i(!1)},l=w=>{w.preventDefault(),w.stopPropagation(),i(!1),w.dataTransfer.files&&w.dataTransfer.files.length>0&&h(Array.from(w.dataTransfer.files))},c=w=>{w.preventDefault(),w.target.files&&w.target.files.length>0&&h(Array.from(w.target.files))},h=w=>{const g=w.slice(0,e-n.length),_=[...n,...g];r(_),t(_)},f=w=>{const g=n.filter((_,b)=>b!==w);r(g),t(g)},p=w=>{const g=w.type;return g.startsWith("image/")?u.jsx(sU,{className:"h-5 w-5 text-safespeak-blue"}):g.startsWith("video/")?u.jsx(tU,{className:"h-5 w-5 text-purple-400"}):u.jsx(eU,{className:"h-5 w-5 text-safespeak-green"})},m=w=>w.type.startsWith("image/")?URL.createObjectURL(w):null;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors duration-300 ${s?"border-safespeak-blue bg-safespeak-blue/10":"border-white/20 hover:border-white/40"}`,onDragEnter:a,onDragLeave:a,onDragOver:a,onDrop:l,onClick:()=>{var w;return(w=o.current)==null?void 0:w.click()},children:[u.jsx("input",{ref:o,type:"file",multiple:!0,onChange:c,className:"hidden",accept:"image/*,video/*,.pdf,.doc,.docx"}),u.jsx(Z4,{className:"h-12 w-12 mx-auto mb-4 text-white/60"}),u.jsx("p",{className:"text-sm font-medium mb-1",children:"Drag & drop or click to upload"}),u.jsxs("p",{className:"text-xs text-white/60",children:["Upload up to ",e," files (images, videos, or documents)"]})]}),n.length>0&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h4",{className:"text-sm font-medium",children:["Uploaded Files (",n.length,"/",e,")"]}),u.jsx("ul",{className:"space-y-2",children:n.map((w,g)=>u.jsxs("li",{className:"bg-white/5 rounded-lg p-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[m(w)?u.jsx("img",{src:m(w),alt:w.name,className:"h-10 w-10 object-cover rounded"}):u.jsx("div",{className:"h-10 w-10 flex items-center justify-center bg-white/10 rounded",children:p(w)}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("p",{className:"text-sm font-medium truncate max-w-[180px]",children:w.name}),u.jsxs("p",{className:"text-xs text-white/60",children:[(w.size/1024/1024).toFixed(2)," MB"]})]})]}),u.jsx(Ie,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-full hover:bg-white/10",onClick:_=>{_.stopPropagation(),f(g)},children:u.jsx(uc,{className:"h-4 w-4"})})]},g))})]})]})},yI=["Theft","Assault","Fraud","Vandalism","Drug-related","Cybercrime","Harassment","Other"],xte=()=>{const{user:t}=Br(),{toast:e}=Wn(),{register:n,handleSubmit:r,reset:s}=Tb(),[i,o]=x.useState(1),[a,l]=x.useState(!1),[c,h]=x.useState([]),[f,p]=x.useState(null),[m,w]=x.useState(null),g=R=>{if(R.length>20){const O=yI,C=O[Math.floor(Math.random()*O.length)];setTimeout(()=>{w(C),e({title:"AI Detection",description:`The AI suggests this is a ${C} case.`})},1e3)}},_=R=>{h(R)},b=async R=>{l(!0);try{const O=`SS-${Math.floor(1e5+Math.random()*9e5)}`;p(O);const C={id:O,crimeType:R.crimeType,description:R.description,location:R.location,date:R.date,status:"pending",evidence_urls:c.map(S=>URL.createObjectURL(S)),userId:(t==null?void 0:t.id)||null};try{const S=await i2(Jl(tc,"reports"),C);console.log("Document written with ID: ",S.id)}catch(S){console.error("Error adding document: ",S)}e({title:"Report Submitted",description:"Your crime report has been successfully submitted."}),o(4)}catch(O){console.error("Submission error:",O),e({title:"Submission Failed",description:"There was an error submitting your report. Please try again.",variant:"destructive"})}finally{l(!1)}},v=()=>{o(R=>R+1)},E=()=>{o(R=>R-1)},k=()=>{o(1),h([]),p(null),w(null),s()};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark",children:[u.jsx(Na,{}),u.jsx("main",{className:"flex-1 pt-20 pb-12",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-safespeak-blue/15 p-3 rounded-full",children:u.jsx(n0,{className:"h-8 w-8 text-safespeak-blue"})})}),u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Report a Crime"}),u.jsx("p",{className:"text-white/70 max-w-xl mx-auto",children:"Submit your anonymous report securely. All submissions are encrypted and stored on blockchain technology for maximum security and privacy."})]}),u.jsxs("div",{className:"max-w-3xl mx-auto mb-8",children:[u.jsx("div",{className:"flex justify-between",children:[1,2,3,4].map(R=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm
                      ${i===R?"bg-safespeak-blue text-white":i>R?"bg-safespeak-green text-white":"bg-white/10 text-white/60"}`,children:i>R?u.jsx(zl,{className:"h-4 w-4"}):R}),u.jsx("span",{className:"text-xs mt-2 text-white/60",children:R===1?"Details":R===2?"Location":R===3?"Evidence":"Completed"})]},R))}),u.jsx("div",{className:"mt-2 h-1 bg-white/10 rounded-full",children:u.jsx("div",{className:"h-full bg-safespeak-blue rounded-full transition-all duration-300",style:{width:`${(i-1)*33.33}%`}})})]}),u.jsx(xt.div,{className:"max-w-2xl mx-auto glass-card rounded-xl p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:u.jsxs("form",{onSubmit:r(b),children:[i===1&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Crime Details"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zn,{htmlFor:"crimeType",children:"Crime Type"}),u.jsxs("select",{id:"crimeType",className:"w-full bg-safespeak-dark-accent text-white border-white/10 rounded-md p-2",...n("crimeType",{required:!0}),defaultValue:m||"",children:[u.jsx("option",{value:"",disabled:!0,children:"Select crime type"}),yI.map(R=>u.jsx("option",{value:R,children:R},R))]}),m&&u.jsxs("p",{className:"text-xs text-safespeak-green",children:["AI suggested: ",m]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zn,{htmlFor:"description",children:"Description"}),u.jsx(_g,{id:"description",placeholder:"Describe what happened in detail...",className:"min-h-32 bg-safespeak-dark-accent border-white/10",...n("description",{required:!0}),onChange:R=>g(R.target.value)}),u.jsx("p",{className:"text-xs text-white/60",children:"The AI will analyze your description to help categorize the crime appropriately."})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs(Ie,{type:"button",onClick:v,className:"bg-safespeak-blue hover:bg-safespeak-blue/90",children:["Next ",u.jsx(RT,{className:"ml-2 h-4 w-4"})]})})]}),i===2&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Location & Date"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Zn,{htmlFor:"location",className:"flex items-center",children:[u.jsx(wA,{className:"mr-2 h-4 w-4 text-safespeak-blue"})," Location"]}),u.jsx(Xt,{id:"location",placeholder:"Enter the location of the incident",className:"bg-safespeak-dark-accent border-white/10",...n("location",{required:!0})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Zn,{htmlFor:"date",className:"flex items-center",children:[u.jsx(Q4,{className:"mr-2 h-4 w-4 text-safespeak-blue"})," Date"]}),u.jsx(Xt,{id:"date",type:"date",className:"bg-safespeak-dark-accent border-white/10",defaultValue:new Date().toISOString().split("T")[0],...n("date",{required:!0})}),u.jsx("p",{className:"text-xs text-white/60",children:"Current date is auto-filled, but you can change it if the incident happened earlier."})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:E,children:"Back"}),u.jsxs(Ie,{type:"button",onClick:v,className:"bg-safespeak-blue hover:bg-safespeak-blue/90",children:["Next ",u.jsx(RT,{className:"ml-2 h-4 w-4"})]})]})]}),i===3&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Upload Evidence"}),u.jsx(wte,{onFileChange:_}),u.jsx("p",{className:"text-xs text-white/60 mt-2",children:"Accepted file types: Images (.jpg, .png), Documents (.pdf, .doc), Videos (.mp4, .mov)"}),u.jsxs("div",{className:"flex justify-between mt-6",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:E,children:"Back"}),u.jsx(Ie,{type:"submit",className:"bg-safespeak-green hover:bg-safespeak-green/90",disabled:a,children:a?u.jsxs("span",{className:"flex items-center",children:[u.jsx("span",{className:"animate-spin mr-2",children:""})," Submitting..."]}):u.jsx("span",{children:"Submit Report"})})]})]}),i===4&&u.jsxs("div",{className:"text-center space-y-6",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"bg-safespeak-green/20 p-4 rounded-full",children:u.jsx(zl,{className:"h-10 w-10 text-safespeak-green"})})}),u.jsx("h2",{className:"text-xl font-semibold",children:"Report Successfully Submitted"}),u.jsx("p",{className:"text-white/80",children:"Your report has been securely submitted and stored."}),u.jsxs("div",{className:"p-4 bg-white/5 rounded-lg",children:[u.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Your Report ID:"}),u.jsx("p",{className:"text-xl font-mono font-semibold text-safespeak-blue",children:f}),u.jsx("p",{className:"text-xs text-white/60 mt-2",children:"Save this ID to track the status of your report later."})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 pt-4",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:k,children:"Submit Another Report"}),u.jsx(Ie,{type:"button",className:"bg-safespeak-blue hover:bg-safespeak-blue/90",onClick:()=>window.location.href="/dashboard",children:"View Dashboard"})]})]})]})})]})}),u.jsx(gs,{})]})},_te=()=>{const{toast:t}=Wn(),[e,n]=x.useState(""),[r,s]=x.useState(!1),[i,o]=x.useState(null),a=async()=>{if(!e){t({title:"Error",description:"Please enter a valid Report ID",variant:"destructive"});return}s(!0);try{const h=Jl(tc,"reports"),f=Dq(h,Oq("id","==",e)),p=await kp(f);if(p.empty)t({title:"Not Found",description:"No report found with this ID. Please check and try again.",variant:"destructive"}),o(null);else{const w=p.docs[0].data();o(w),t({title:"Report Found",description:"Report status has been retrieved successfully."})}}catch(h){console.error("Error fetching report:",h),t({title:"Error",description:"Failed to retrieve report status.",variant:"destructive"})}finally{s(!1)}},l=h=>{if(typeof h!="string")return console.warn("Status is not a string:",h),u.jsx(bu,{className:"h-6 w-6 text-white"});switch(h){case"resolved":return u.jsx(zl,{className:"h-6 w-6 text-safespeak-green"});case"under-investigation":return u.jsx(Ji,{className:"h-6 w-6 text-safespeak-blue"});case"pending":return u.jsx(Ji,{className:"h-6 w-6 text-amber-500"});case"closed":return u.jsx(X,{className:"h-6 w-6 text-gray-400"});default:return u.jsx(bu,{className:"h-6 w-6 text-white"})}},c=h=>{if(typeof h!="string")return console.warn("Status is not a string:",h),"Unknown Status";switch(h){case"resolved":return"Resolved";case"under-investigation":return"Under Investigation";case"pending":return"Pending Review";case"closed":return"Closed";default:return h}};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark",children:[u.jsx(Na,{}),u.jsx("main",{className:"flex-1 pt-20 pb-12",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-safespeak-green/15 p-3 rounded-full",children:u.jsx(bu,{className:"h-8 w-8 text-safespeak-green"})})}),u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Track Your Report"}),u.jsx("p",{className:"text-white/70 max-w-xl mx-auto",children:"Enter your Report ID below to check the current status of your submitted report. Your anonymity remains protected throughout this process."})]}),u.jsxs(xt.div,{className:"max-w-xl mx-auto glass-card rounded-xl p-8 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsx(Xt,{placeholder:"Enter your Report ID (e.g. SS-123456)",value:e,onChange:h=>n(h.target.value),className:"flex-1 bg-safespeak-dark-accent border-white/10"}),u.jsx(Ie,{onClick:a,disabled:r,className:"bg-safespeak-green hover:bg-safespeak-green/90",children:r?u.jsxs("span",{className:"flex items-center",children:[u.jsx("span",{className:"animate-spin mr-2",children:""})," Tracking..."]}):u.jsxs("span",{className:"flex items-center",children:[u.jsx(Sx,{className:"mr-2 h-4 w-4"})," Track Report"]})})]}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx("p",{className:"text-xs text-white/60",children:"For demonstration, try these IDs: SS-123456, SS-234567, SS-345678, SS-456789"})})]}),i&&u.jsxs(xt.div,{className:"max-w-2xl mx-auto glass-card rounded-xl p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[u.jsxs("div",{className:"mb-6 text-center",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Report Status"}),u.jsxs("p",{className:"text-white/60 text-sm",children:["ID: ",u.jsx("span",{className:"font-mono",children:e})," | Last Updated: ",i.date]})]}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:`p-4 rounded-full ${l(i.status)}`,children:l(i.status)})}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:`text-lg font-medium ${c(i.status)}`,children:c(i.status)}),u.jsx("p",{className:"mt-2 text-white/80",children:i.description})]}),u.jsxs("div",{className:"space-y-4 mt-8",children:[u.jsxs("h3",{className:"text-md font-medium flex items-center",children:[u.jsx(X4,{className:"h-4 w-4 mr-2"})," Timeline"]}),u.jsxs("div",{className:"ml-6 border-l border-white/10 pl-6 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"absolute -ml-9 p-1 rounded-full bg-safespeak-green"}),u.jsx("p",{className:"text-sm text-white/60",children:"April 1, 2025"})]}),u.jsx("p",{className:"text-sm mt-1",children:"Report received and logged into the system."})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"absolute -ml-9 p-1 rounded-full bg-safespeak-blue"}),u.jsx("p",{className:"text-sm text-white/60",children:"April 3, 2025"})]}),u.jsx("p",{className:"text-sm mt-1",children:"Report assigned to investigation team for review."})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"absolute -ml-9 p-1 rounded-full bg-white/30"}),u.jsx("p",{className:"text-sm text-white/60",children:"April 5, 2025 (Expected)"})]}),u.jsx("p",{className:"text-sm mt-1",children:"Preliminary investigation results expected."})]})]})]}),u.jsx("div",{className:"flex justify-center mt-8",children:u.jsx(Ie,{variant:"outline",onClick:()=>o(null),children:"Track Another Report"})})]}),u.jsxs("div",{className:"max-w-2xl mx-auto mt-8",children:[u.jsx("h3",{className:"text-lg font-medium mb-4",children:"How to Track Your Report"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-white/80 text-sm",children:[u.jsx("li",{children:"Enter your Report ID in the field above (received when you submitted your report)"}),u.jsx("li",{children:'Click the "Track Report" button to check the current status'}),u.jsx("li",{children:"The system will securely retrieve your report status from the blockchain"}),u.jsx("li",{children:"Your anonymity is maintained throughout the entire process"})]})]})]})}),u.jsx(gs,{})]})},vI=["App Experience","Reporting Process","Investigation Updates","General Feedback","Feature Suggestions","Security Concerns"],bte=()=>{const{user:t}=Br(),{toast:e}=Wn(),[n,r]=x.useState(""),[s,i]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(!1),[h,f]=x.useState(null),p=_=>{if(_.length<15)return;const b=vI,v=b[Math.floor(Math.random()*b.length)];setTimeout(()=>{f(v),e({title:"AI Suggestion",description:`The AI suggests this is "${v}" feedback.`}),i(v)},1e3)},m=_=>{r(_.target.value),_.target.value.length>30&&!h&&p(_.target.value)},w=async _=>{if(_.preventDefault(),!n.trim()){e({title:"Error",description:"Please enter your feedback before submitting",variant:"destructive"});return}if(!s){e({title:"Error",description:"Please select a feedback type",variant:"destructive"});return}a(!0);try{const b={content:n,userId:(t==null?void 0:t.id)||null,type:s,createdAt:new Date().toISOString()};try{const v=await i2(Jl(tc,"feedback"),b);console.log("Document written with ID: ",v.id)}catch(v){console.error("Error adding document: ",v)}e({title:"Thank You!",description:"Your feedback has been submitted successfully."}),c(!0)}catch(b){console.error("Feedback submission error:",b),e({title:"Submission Failed",description:"There was an error submitting your feedback. Please try again.",variant:"destructive"})}finally{a(!1)}},g=()=>{r(""),i(""),c(!1),f(null)};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark",children:[u.jsx(Na,{}),u.jsx("main",{className:"flex-1 pt-20 pb-12",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-purple-500/15 p-3 rounded-full",children:u.jsx(Tx,{className:"h-8 w-8 text-purple-500"})})}),u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Provide Feedback"}),u.jsx("p",{className:"text-white/70 max-w-xl mx-auto",children:"Help us improve SafeSpeak by sharing your experience. Your feedback is valuable in enhancing our service."})]}),u.jsx(xt.div,{className:"max-w-2xl mx-auto glass-card rounded-xl p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:l?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"bg-purple-500/20 p-4 rounded-full",children:u.jsx(cU,{className:"h-10 w-10 text-purple-500"})})}),u.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Thank You for Your Feedback!"}),u.jsx("p",{className:"text-white/80 mb-6",children:"Your input helps us improve SafeSpeak for everyone. We appreciate you taking the time to share your thoughts."}),u.jsx(Ie,{onClick:g,className:"bg-purple-500 hover:bg-purple-600",children:"Submit Another Feedback"})]}):u.jsxs("form",{onSubmit:w,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zn,{htmlFor:"feedbackType",children:"Feedback Type"}),u.jsxs("select",{id:"feedbackType",className:"w-full bg-safespeak-dark-accent text-white border-white/10 rounded-md p-2",value:s,onChange:_=>i(_.target.value),required:!0,children:[u.jsx("option",{value:"",disabled:!0,children:"Select feedback type"}),vI.map(_=>u.jsx("option",{value:_,children:_},_))]}),h&&u.jsxs("p",{className:"text-xs text-purple-400",children:["AI suggested: ",h]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zn,{htmlFor:"feedbackText",children:"Your Feedback"}),u.jsx(_g,{id:"feedbackText",placeholder:"Share your thoughts, suggestions, or experiences...",className:"min-h-32 bg-safespeak-dark-accent border-white/10",value:n,onChange:m,required:!0}),u.jsx("p",{className:"text-xs text-white/60",children:"Our AI will automatically categorize your feedback to help us process it more efficiently."})]}),u.jsx("div",{className:"pt-4",children:u.jsx(Ie,{type:"submit",className:"w-full bg-purple-500 hover:bg-purple-600",disabled:o,children:o?u.jsxs("span",{className:"flex items-center justify-center",children:[u.jsx("span",{className:"animate-spin mr-2",children:""})," Submitting..."]}):u.jsxs("span",{className:"flex items-center justify-center",children:[u.jsx(aU,{className:"mr-2 h-4 w-4"})," Submit Feedback"]})})})]})})]})}),u.jsx(gs,{})]})},Ete=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState(!1),[o,a]=x.useState(null),{login:l}=Br(),c=go();Wn();const h=async f=>{f.preventDefault(),i(!0),a(null);try{const p=`${t}@gmail.com`;await l(p,n),c("/dashboard")}catch(p){const m=(p==null?void 0:p.message)||"An error occurred during login";a(m)}finally{i(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-safespeak-dark-accent/30 pointer-events-none"}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-4",children:u.jsxs(xt.div,{className:"max-w-md w-full glass-card p-8 rounded-2xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs(Bt,{to:"/",className:"flex items-center gap-2",children:[u.jsx(qs,{className:"h-8 w-8 text-safespeak-blue"}),u.jsxs("span",{className:"text-2xl font-bold",children:["Safe",u.jsx("span",{className:"text-safespeak-blue",children:"Speak"})]})]})}),u.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Anonymous Login"}),o&&u.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-2 rounded-md mb-4 text-sm flex items-center gap-2",children:[u.jsx(vA,{className:"h-4 w-4"}),o]}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zn,{htmlFor:"pseudonym",children:"Pseudonym"}),u.jsx(Xt,{id:"pseudonym",placeholder:"Enter your pseudonym",value:t,onChange:f=>e(f.target.value),className:"bg-safespeak-dark-accent border-white/10",disabled:s})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zn,{htmlFor:"password",children:"Password"}),u.jsx(Xt,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:f=>r(f.target.value),className:"bg-safespeak-dark-accent border-white/10",disabled:s})]}),u.jsx(Ie,{type:"submit",className:"w-full bg-safespeak-green hover:bg-safespeak-green/90",disabled:s,children:s?u.jsxs("span",{className:"flex items-center gap-2 animate-pulse",children:[u.jsx(r0,{className:"h-4 w-4 animate-spin"}),"Logging in..."]}):u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(r0,{className:"h-4 w-4"}),"Login"]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-white/60 text-sm",children:["Don't have an anonymous profile?"," ",u.jsx(Bt,{to:"/register",className:"text-safespeak-blue hover:underline",children:"Create one"})]})})]})}),u.jsx(gs,{})]})},Tte=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(null),{register:h}=Br(),f=go();Wn();const p=async m=>{if(m.preventDefault(),c(null),!t||!n||!s){c("Please fill in all fields");return}if(n!==s){c("Passwords do not match");return}if(n.length<6){c("Password must be at least 6 characters long");return}a(!0);try{const w=`${t}@gmail.com`;await h(w,n),f("/login")}catch(w){console.error("Registration error:",w);const g=(w==null?void 0:w.message)||"Failed to create your profile";c(g)}finally{a(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-safespeak-dark-accent/30 pointer-events-none"}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-4",children:u.jsxs(xt.div,{className:"max-w-md w-full glass-card p-8 rounded-2xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs(Bt,{to:"/",className:"flex items-center gap-2",children:[u.jsx(qs,{className:"h-8 w-8 text-safespeak-blue"}),u.jsxs("span",{className:"text-2xl font-bold",children:["Safe",u.jsx("span",{className:"text-safespeak-blue",children:"Speak"})]})]})}),u.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Create Anonymous Profile"}),l&&u.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-2 rounded-md mb-4 text-sm",children:l}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zn,{htmlFor:"pseudonym",children:"Choose a Pseudonym"}),u.jsx(Xt,{id:"pseudonym",placeholder:"Enter a pseudonym (not your real name)",value:t,onChange:m=>e(m.target.value),className:"bg-safespeak-dark-accent border-white/10",disabled:o})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zn,{htmlFor:"password",children:"Password"}),u.jsx(Xt,{id:"password",type:"password",placeholder:"Create a strong password",value:n,onChange:m=>r(m.target.value),className:"bg-safespeak-dark-accent border-white/10",disabled:o}),u.jsx("p",{className:"text-xs text-white/50",children:"Must be at least 6 characters long"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Zn,{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsx(Xt,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:s,onChange:m=>i(m.target.value),className:"bg-safespeak-dark-accent border-white/10",disabled:o})]}),u.jsx(Ie,{type:"submit",className:"w-full bg-safespeak-green hover:bg-safespeak-green/90",disabled:o,children:o?u.jsxs("span",{className:"flex items-center gap-2 animate-pulse",children:[u.jsx("span",{className:"animate-spin text-lg",children:""})," Creating Profile..."]}):u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(xA,{className:"h-4 w-4"})," Create Anonymous Profile"]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-white/60 text-sm",children:["Already have a profile?"," ",u.jsx(Bt,{to:"/login",className:"text-safespeak-blue hover:underline",children:"Login"})]})})]})}),u.jsx(gs,{})]})},Ste=()=>u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-safespeak-dark p-4",children:u.jsxs(xt.div,{className:"max-w-md w-full text-center space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"bg-white/5 p-6 rounded-full",children:u.jsx(i0,{className:"h-16 w-16 text-safespeak-blue"})})}),u.jsx("h1",{className:"text-4xl font-bold",children:"404"}),u.jsx("h2",{className:"text-2xl font-medium mb-2",children:"Page Not Found"}),u.jsx("p",{className:"text-white/70",children:"The page you are looking for doesn't exist or has been moved."}),u.jsx("div",{className:"pt-6",children:u.jsx(Ie,{asChild:!0,className:"bg-safespeak-blue hover:bg-safespeak-blue/90",children:u.jsxs(Bt,{to:"/",className:"flex items-center gap-2",children:[u.jsx(G4,{className:"h-4 w-4"}),u.jsx("span",{children:"Return Home"})]})})})]})}),tf=({children:t})=>{const{isAuthenticated:e,loading:n}=Br();return n?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Im,{className:"h-10 w-10 animate-spin mx-auto text-safespeak-blue mb-4"}),u.jsx("p",{className:"text-white/70",children:"Loading user data..."})]})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(v0,{to:"/login"})},Cte=({children:t})=>{const{isAuthenticated:e,isAdmin:n,loading:r}=Br();return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Im,{className:"h-10 w-10 animate-spin mx-auto text-safespeak-blue mb-4"}),u.jsx("p",{className:"text-white/70",children:"Loading user data..."})]})}):e?n?u.jsx(u.Fragment,{children:t}):u.jsx(v0,{to:"/"}):u.jsx(v0,{to:"/admin-login"})},Ite=new wB,kte=()=>u.jsx(z.StrictMode,{children:u.jsx(_B,{client:Ite,children:u.jsx(Wq,{children:u.jsxs(p0,{children:[u.jsx(KU,{}),u.jsx(E5,{}),u.jsx(g$,{children:u.jsxs(c$,{children:[u.jsx(ar,{path:"*",element:u.jsx(nX,{})}),u.jsx(ar,{path:"/login",element:u.jsx(Ete,{})}),u.jsx(ar,{path:"/register",element:u.jsx(Tte,{})}),u.jsx(ar,{path:"/admin-login",element:u.jsx(mte,{})}),u.jsx(ar,{path:"/admin-register",element:u.jsx(vte,{})}),u.jsx(ar,{path:"/dashboard",element:u.jsx(tf,{children:u.jsx(TJ,{})})}),u.jsx(ar,{path:"/report",element:u.jsx(tf,{children:u.jsx(xte,{})})}),u.jsx(ar,{path:"/track",element:u.jsx(tf,{children:u.jsx(_te,{})})}),u.jsx(ar,{path:"/feedback",element:u.jsx(tf,{children:u.jsx(bte,{})})}),u.jsx(ar,{path:"/admin",element:u.jsx(Cte,{children:u.jsx(Cee,{})})}),u.jsx(ar,{path:"*",element:u.jsx(Ste,{})})]})})]})})})});$P(document.getElementById("root")).render(u.jsx(z.StrictMode,{children:u.jsx(kte,{})}));
