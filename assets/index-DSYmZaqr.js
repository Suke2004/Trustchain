var rE=t=>{throw TypeError(t)};var Ag=(t,e,n)=>e.has(t)||rE("Cannot "+n);var W=(t,e,n)=>(Ag(t,e,"read from private field"),n?n.call(t):e.get(t)),Je=(t,e,n)=>e.has(t)?rE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Fe=(t,e,n,r)=>(Ag(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),on=(t,e,n)=>(Ag(t,e,"access private method"),n);var ah=(t,e,n,r)=>({set _(s){Fe(t,e,s,n)},get _(){return W(t,e,r)}});function tV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function cI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uI={exports:{}},Zp={},dI={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=Symbol.for("react.element"),nV=Symbol.for("react.portal"),rV=Symbol.for("react.fragment"),sV=Symbol.for("react.strict_mode"),iV=Symbol.for("react.profiler"),oV=Symbol.for("react.provider"),aV=Symbol.for("react.context"),lV=Symbol.for("react.forward_ref"),cV=Symbol.for("react.suspense"),uV=Symbol.for("react.memo"),dV=Symbol.for("react.lazy"),sE=Symbol.iterator;function hV(t){return t===null||typeof t!="object"?null:(t=sE&&t[sE]||t["@@iterator"],typeof t=="function"?t:null)}var hI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fI=Object.assign,pI={};function nc(t,e,n){this.props=t,this.context=e,this.refs=pI,this.updater=n||hI}nc.prototype.isReactComponent={};nc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mI(){}mI.prototype=nc.prototype;function hx(t,e,n){this.props=t,this.context=e,this.refs=pI,this.updater=n||hI}var fx=hx.prototype=new mI;fx.constructor=hx;fI(fx,nc.prototype);fx.isPureReactComponent=!0;var iE=Array.isArray,gI=Object.prototype.hasOwnProperty,px={current:null},yI={key:!0,ref:!0,__self:!0,__source:!0};function vI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)gI.call(e,r)&&!yI.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gd,type:t,key:i,ref:o,props:s,_owner:px.current}}function fV(t,e){return{$$typeof:gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mx(t){return typeof t=="object"&&t!==null&&t.$$typeof===gd}function pV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var oE=/\/+/g;function kg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pV(""+t.key):e.toString(36)}function Kh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gd:case nV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+kg(o,0):r,iE(s)?(n="",t!=null&&(n=t.replace(oE,"$&/")+"/"),Kh(s,e,n,"",function(c){return c})):s!=null&&(mx(s)&&(s=fV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(oE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",iE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+kg(i,a);o+=Kh(i,e,n,l,s)}else if(l=hV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+kg(i,a++),o+=Kh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function lh(t,e,n){if(t==null)return t;var r=[],s=0;return Kh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function mV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kn={current:null},Gh={transition:null},gV={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:Gh,ReactCurrentOwner:px};function xI(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:lh,forEach:function(t,e,n){lh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lh(t,function(){e++}),e},toArray:function(t){return lh(t,function(e){return e})||[]},only:function(t){if(!mx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};We.Component=nc;We.Fragment=rV;We.Profiler=iV;We.PureComponent=hx;We.StrictMode=sV;We.Suspense=cV;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gV;We.act=xI;We.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fI({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=px.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)gI.call(e,l)&&!yI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:gd,type:t.type,key:s,ref:i,props:r,_owner:o}};We.createContext=function(t){return t={$$typeof:aV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oV,_context:t},t.Consumer=t};We.createElement=vI;We.createFactory=function(t){var e=vI.bind(null,t);return e.type=t,e};We.createRef=function(){return{current:null}};We.forwardRef=function(t){return{$$typeof:lV,render:t}};We.isValidElement=mx;We.lazy=function(t){return{$$typeof:dV,_payload:{_status:-1,_result:t},_init:mV}};We.memo=function(t,e){return{$$typeof:uV,type:t,compare:e===void 0?null:e}};We.startTransition=function(t){var e=Gh.transition;Gh.transition={};try{t()}finally{Gh.transition=e}};We.unstable_act=xI;We.useCallback=function(t,e){return kn.current.useCallback(t,e)};We.useContext=function(t){return kn.current.useContext(t)};We.useDebugValue=function(){};We.useDeferredValue=function(t){return kn.current.useDeferredValue(t)};We.useEffect=function(t,e){return kn.current.useEffect(t,e)};We.useId=function(){return kn.current.useId()};We.useImperativeHandle=function(t,e,n){return kn.current.useImperativeHandle(t,e,n)};We.useInsertionEffect=function(t,e){return kn.current.useInsertionEffect(t,e)};We.useLayoutEffect=function(t,e){return kn.current.useLayoutEffect(t,e)};We.useMemo=function(t,e){return kn.current.useMemo(t,e)};We.useReducer=function(t,e,n){return kn.current.useReducer(t,e,n)};We.useRef=function(t){return kn.current.useRef(t)};We.useState=function(t){return kn.current.useState(t)};We.useSyncExternalStore=function(t,e,n){return kn.current.useSyncExternalStore(t,e,n)};We.useTransition=function(){return kn.current.useTransition()};We.version="18.3.1";dI.exports=We;var x=dI.exports;const z=cI(x),wI=tV({__proto__:null,default:z},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yV=x,vV=Symbol.for("react.element"),xV=Symbol.for("react.fragment"),wV=Object.prototype.hasOwnProperty,_V=yV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bV={key:!0,ref:!0,__self:!0,__source:!0};function _I(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wV.call(e,r)&&!bV.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:vV,type:t,key:i,ref:o,props:s,_owner:_V.current}}Zp.Fragment=xV;Zp.jsx=_I;Zp.jsxs=_I;uI.exports=Zp;var u=uI.exports,bI={exports:{}},rr={},EI={exports:{}},TI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,H){var oe=F.length;F.push(H);e:for(;0<oe;){var G=oe-1>>>1,ae=F[G];if(0<s(ae,H))F[G]=H,F[oe]=ae,oe=G;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],oe=F.pop();if(oe!==H){F[0]=oe;e:for(var G=0,ae=F.length,pe=ae>>>1;G<pe;){var Be=2*(G+1)-1,tt=F[Be],be=Be+1,de=F[be];if(0>s(tt,oe))be<ae&&0>s(de,tt)?(F[G]=de,F[be]=oe,G=be):(F[G]=tt,F[Be]=oe,G=Be);else if(be<ae&&0>s(de,oe))F[G]=de,F[be]=oe,G=be;else break e}}return H}function s(F,H){var oe=F.sortIndex-H.sortIndex;return oe!==0?oe:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,m=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=F)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function A(F){if(v=!1,E(F),!w)if(n(l)!==null)w=!0,K(R);else{var H=n(c);H!==null&&se(A,H.startTime-F)}}function R(F,H){w=!1,v&&(v=!1,b(S),S=-1),m=!0;var oe=p;try{for(E(H),f=n(l);f!==null&&(!(f.expirationTime>H)||F&&!D());){var G=f.callback;if(typeof G=="function"){f.callback=null,p=f.priorityLevel;var ae=G(f.expirationTime<=H);H=t.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(l)&&r(l),E(H)}else r(l);f=n(l)}if(f!==null)var pe=!0;else{var Be=n(c);Be!==null&&se(A,Be.startTime-H),pe=!1}return pe}finally{f=null,p=oe,m=!1}}var O=!1,C=null,S=-1,I=5,N=-1;function D(){return!(t.unstable_now()-N<I)}function j(){if(C!==null){var F=t.unstable_now();N=F;var H=!0;try{H=C(!0,F)}finally{H?P():(O=!1,C=null)}}else O=!1}var P;if(typeof y=="function")P=function(){y(j)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,re=B.port2;B.port1.onmessage=j,P=function(){re.postMessage(null)}}else P=function(){_(j,0)};function K(F){C=F,O||(O=!0,P())}function se(F,H){S=_(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,K(R))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var oe=p;p=H;try{return F()}finally{p=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var oe=p;p=F;try{return H()}finally{p=oe}},t.unstable_scheduleCallback=function(F,H,oe){var G=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?G+oe:G):oe=G,F){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=oe+ae,F={id:h++,callback:H,priorityLevel:F,startTime:oe,expirationTime:ae,sortIndex:-1},oe>G?(F.sortIndex=oe,e(c,F),n(l)===null&&F===n(c)&&(v?(b(S),S=-1):v=!0,se(A,oe-G))):(F.sortIndex=ae,e(l,F),w||m||(w=!0,K(R))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var H=p;return function(){var oe=p;p=H;try{return F.apply(this,arguments)}finally{p=oe}}}})(TI);EI.exports=TI;var EV=EI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TV=x,tr=EV;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SI=new Set,ku={};function ya(t,e){Rl(t,e),Rl(t+"Capture",e)}function Rl(t,e){for(ku[t]=e,t=0;t<e.length;t++)SI.add(e[t])}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ky=Object.prototype.hasOwnProperty,SV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aE={},lE={};function CV(t){return Ky.call(lE,t)?!0:Ky.call(aE,t)?!1:SV.test(t)?lE[t]=!0:(aE[t]=!0,!1)}function IV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AV(t,e,n,r){if(e===null||typeof e>"u"||IV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jt[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jt[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jt[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jt[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jt[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jt[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jt[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jt[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jt[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var gx=/[\-:]([a-z])/g;function yx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gx,yx);Jt[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gx,yx);Jt[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gx,yx);Jt[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jt[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jt[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function vx(t,e,n,r){var s=Jt.hasOwnProperty(e)?Jt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AV(e,n,s,r)&&(n=null),r||s===null?CV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ei=TV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ch=Symbol.for("react.element"),za=Symbol.for("react.portal"),Wa=Symbol.for("react.fragment"),xx=Symbol.for("react.strict_mode"),Gy=Symbol.for("react.profiler"),CI=Symbol.for("react.provider"),II=Symbol.for("react.context"),wx=Symbol.for("react.forward_ref"),Qy=Symbol.for("react.suspense"),Yy=Symbol.for("react.suspense_list"),_x=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),AI=Symbol.for("react.offscreen"),cE=Symbol.iterator;function Pc(t){return t===null||typeof t!="object"?null:(t=cE&&t[cE]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,Pg;function Hc(t){if(Pg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pg=e&&e[1]||""}return`
`+Pg+t}var Rg=!1;function Ng(t,e){if(!t||Rg)return"";Rg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hc(t):""}function kV(t){switch(t.tag){case 5:return Hc(t.type);case 16:return Hc("Lazy");case 13:return Hc("Suspense");case 19:return Hc("SuspenseList");case 0:case 2:case 15:return t=Ng(t.type,!1),t;case 11:return t=Ng(t.type.render,!1),t;case 1:return t=Ng(t.type,!0),t;default:return""}}function Xy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wa:return"Fragment";case za:return"Portal";case Gy:return"Profiler";case xx:return"StrictMode";case Qy:return"Suspense";case Yy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case II:return(t.displayName||"Context")+".Consumer";case CI:return(t._context.displayName||"Context")+".Provider";case wx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _x:return e=t.displayName||null,e!==null?e:Xy(t.type)||"Memo";case fi:e=t._payload,t=t._init;try{return Xy(t(e))}catch{}}return null}function PV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xy(e);case 8:return e===xx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RV(t){var e=kI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uh(t){t._valueTracker||(t._valueTracker=RV(t))}function PI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zy(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RI(t,e){e=e.checked,e!=null&&vx(t,"checked",e,!1)}function Jy(t,e){RI(t,e);var n=Gi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ev(t,e.type,n):e.hasOwnProperty("defaultValue")&&ev(t,e.type,Gi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ev(t,e,n){(e!=="number"||Ef(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qc=Array.isArray;function al(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function tv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(qc(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gi(n)}}function NI(t,e){var n=Gi(e.value),r=Gi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dh,DI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dh=dh||document.createElement("div"),dh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NV=["Webkit","ms","Moz","O"];Object.keys(iu).forEach(function(t){NV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),iu[e]=iu[t]})});function OI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||iu.hasOwnProperty(t)&&iu[t]?(""+e).trim():e+"px"}function MI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=OI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var jV=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rv(t,e){if(e){if(jV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function sv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iv=null;function bx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ov=null,ll=null,cl=null;function pE(t){if(t=xd(t)){if(typeof ov!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=rm(e),ov(t.stateNode,t.type,e))}}function VI(t){ll?cl?cl.push(t):cl=[t]:ll=t}function LI(){if(ll){var t=ll,e=cl;if(cl=ll=null,pE(t),e)for(t=0;t<e.length;t++)pE(e[t])}}function FI(t,e){return t(e)}function UI(){}var jg=!1;function $I(t,e,n){if(jg)return t(e,n);jg=!0;try{return FI(t,e,n)}finally{jg=!1,(ll!==null||cl!==null)&&(UI(),LI())}}function Ru(t,e){var n=t.stateNode;if(n===null)return null;var r=rm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var av=!1;if(Us)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){av=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{av=!1}function DV(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var ou=!1,Tf=null,Sf=!1,lv=null,OV={onError:function(t){ou=!0,Tf=t}};function MV(t,e,n,r,s,i,o,a,l){ou=!1,Tf=null,DV.apply(OV,arguments)}function VV(t,e,n,r,s,i,o,a,l){if(MV.apply(this,arguments),ou){if(ou){var c=Tf;ou=!1,Tf=null}else throw Error(Z(198));Sf||(Sf=!0,lv=c)}}function va(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function BI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mE(t){if(va(t)!==t)throw Error(Z(188))}function LV(t){var e=t.alternate;if(!e){if(e=va(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return mE(s),t;if(i===r)return mE(s),e;i=i.sibling}throw Error(Z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function zI(t){return t=LV(t),t!==null?WI(t):null}function WI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=WI(t);if(e!==null)return e;t=t.sibling}return null}var HI=tr.unstable_scheduleCallback,gE=tr.unstable_cancelCallback,FV=tr.unstable_shouldYield,UV=tr.unstable_requestPaint,kt=tr.unstable_now,$V=tr.unstable_getCurrentPriorityLevel,Ex=tr.unstable_ImmediatePriority,qI=tr.unstable_UserBlockingPriority,Cf=tr.unstable_NormalPriority,BV=tr.unstable_LowPriority,KI=tr.unstable_IdlePriority,Jp=null,ts=null;function zV(t){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(Jp,t,void 0,(t.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:qV,WV=Math.log,HV=Math.LN2;function qV(t){return t>>>=0,t===0?32:31-(WV(t)/HV|0)|0}var hh=64,fh=4194304;function Kc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function If(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Kc(a):(i&=o,i!==0&&(r=Kc(i)))}else o=n&~s,o!==0?r=Kc(o):i!==0&&(r=Kc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rr(e),s=1<<n,r|=t[n],e&=~s;return r}function KV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Rr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=KV(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function cv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GI(){var t=hh;return hh<<=1,!(hh&4194240)&&(hh=64),t}function Dg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rr(e),t[e]=n}function QV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Rr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Tx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var rt=0;function QI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var YI,Sx,XI,ZI,JI,uv=!1,ph=[],Di=null,Oi=null,Mi=null,Nu=new Map,ju=new Map,gi=[],YV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yE(t,e){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Nu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(e.pointerId)}}function Nc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=xd(e),e!==null&&Sx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function XV(t,e,n,r,s){switch(e){case"focusin":return Di=Nc(Di,t,e,n,r,s),!0;case"dragenter":return Oi=Nc(Oi,t,e,n,r,s),!0;case"mouseover":return Mi=Nc(Mi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Nu.set(i,Nc(Nu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ju.set(i,Nc(ju.get(i)||null,t,e,n,r,s)),!0}return!1}function eA(t){var e=No(t.target);if(e!==null){var n=va(e);if(n!==null){if(e=n.tag,e===13){if(e=BI(n),e!==null){t.blockedOn=e,JI(t.priority,function(){XI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);iv=r,n.target.dispatchEvent(r),iv=null}else return e=xd(n),e!==null&&Sx(e),t.blockedOn=n,!1;e.shift()}return!0}function vE(t,e,n){Qh(t)&&n.delete(e)}function ZV(){uv=!1,Di!==null&&Qh(Di)&&(Di=null),Oi!==null&&Qh(Oi)&&(Oi=null),Mi!==null&&Qh(Mi)&&(Mi=null),Nu.forEach(vE),ju.forEach(vE)}function jc(t,e){t.blockedOn===e&&(t.blockedOn=null,uv||(uv=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,ZV)))}function Du(t){function e(s){return jc(s,t)}if(0<ph.length){jc(ph[0],t);for(var n=1;n<ph.length;n++){var r=ph[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Di!==null&&jc(Di,t),Oi!==null&&jc(Oi,t),Mi!==null&&jc(Mi,t),Nu.forEach(e),ju.forEach(e),n=0;n<gi.length;n++)r=gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)eA(n),n.blockedOn===null&&gi.shift()}var ul=ei.ReactCurrentBatchConfig,Af=!0;function JV(t,e,n,r){var s=rt,i=ul.transition;ul.transition=null;try{rt=1,Cx(t,e,n,r)}finally{rt=s,ul.transition=i}}function eL(t,e,n,r){var s=rt,i=ul.transition;ul.transition=null;try{rt=4,Cx(t,e,n,r)}finally{rt=s,ul.transition=i}}function Cx(t,e,n,r){if(Af){var s=dv(t,e,n,r);if(s===null)Wg(t,e,r,kf,n),yE(t,r);else if(XV(s,t,e,n,r))r.stopPropagation();else if(yE(t,r),e&4&&-1<YV.indexOf(t)){for(;s!==null;){var i=xd(s);if(i!==null&&YI(i),i=dv(t,e,n,r),i===null&&Wg(t,e,r,kf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Wg(t,e,r,null,n)}}var kf=null;function dv(t,e,n,r){if(kf=null,t=bx(r),t=No(t),t!==null)if(e=va(t),e===null)t=null;else if(n=e.tag,n===13){if(t=BI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kf=t,null}function tA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($V()){case Ex:return 1;case qI:return 4;case Cf:case BV:return 16;case KI:return 536870912;default:return 16}default:return 16}}var ki=null,Ix=null,Yh=null;function nA(){if(Yh)return Yh;var t,e=Ix,n=e.length,r,s="value"in ki?ki.value:ki.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Yh=s.slice(t,1<r?1-r:void 0)}function Xh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mh(){return!0}function xE(){return!1}function sr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mh:xE,this.isPropagationStopped=xE,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mh)},persist:function(){},isPersistent:mh}),e}var rc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ax=sr(rc),vd=_t({},rc,{view:0,detail:0}),tL=sr(vd),Og,Mg,Dc,em=_t({},vd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dc&&(Dc&&t.type==="mousemove"?(Og=t.screenX-Dc.screenX,Mg=t.screenY-Dc.screenY):Mg=Og=0,Dc=t),Og)},movementY:function(t){return"movementY"in t?t.movementY:Mg}}),wE=sr(em),nL=_t({},em,{dataTransfer:0}),rL=sr(nL),sL=_t({},vd,{relatedTarget:0}),Vg=sr(sL),iL=_t({},rc,{animationName:0,elapsedTime:0,pseudoElement:0}),oL=sr(iL),aL=_t({},rc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lL=sr(aL),cL=_t({},rc,{data:0}),_E=sr(cL),uL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hL[t])?!!e[t]:!1}function kx(){return fL}var pL=_t({},vd,{key:function(t){if(t.key){var e=uL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kx,charCode:function(t){return t.type==="keypress"?Xh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mL=sr(pL),gL=_t({},em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bE=sr(gL),yL=_t({},vd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kx}),vL=sr(yL),xL=_t({},rc,{propertyName:0,elapsedTime:0,pseudoElement:0}),wL=sr(xL),_L=_t({},em,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bL=sr(_L),EL=[9,13,27,32],Px=Us&&"CompositionEvent"in window,au=null;Us&&"documentMode"in document&&(au=document.documentMode);var TL=Us&&"TextEvent"in window&&!au,rA=Us&&(!Px||au&&8<au&&11>=au),EE=" ",TE=!1;function sA(t,e){switch(t){case"keyup":return EL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ha=!1;function SL(t,e){switch(t){case"compositionend":return iA(e);case"keypress":return e.which!==32?null:(TE=!0,EE);case"textInput":return t=e.data,t===EE&&TE?null:t;default:return null}}function CL(t,e){if(Ha)return t==="compositionend"||!Px&&sA(t,e)?(t=nA(),Yh=Ix=ki=null,Ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rA&&e.locale!=="ko"?null:e.data;default:return null}}var IL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IL[t.type]:e==="textarea"}function oA(t,e,n,r){VI(r),e=Pf(e,"onChange"),0<e.length&&(n=new Ax("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lu=null,Ou=null;function AL(t){yA(t,0)}function tm(t){var e=Ga(t);if(PI(e))return t}function kL(t,e){if(t==="change")return e}var aA=!1;if(Us){var Lg;if(Us){var Fg="oninput"in document;if(!Fg){var CE=document.createElement("div");CE.setAttribute("oninput","return;"),Fg=typeof CE.oninput=="function"}Lg=Fg}else Lg=!1;aA=Lg&&(!document.documentMode||9<document.documentMode)}function IE(){lu&&(lu.detachEvent("onpropertychange",lA),Ou=lu=null)}function lA(t){if(t.propertyName==="value"&&tm(Ou)){var e=[];oA(e,Ou,t,bx(t)),$I(AL,e)}}function PL(t,e,n){t==="focusin"?(IE(),lu=e,Ou=n,lu.attachEvent("onpropertychange",lA)):t==="focusout"&&IE()}function RL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tm(Ou)}function NL(t,e){if(t==="click")return tm(e)}function jL(t,e){if(t==="input"||t==="change")return tm(e)}function DL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jr=typeof Object.is=="function"?Object.is:DL;function Mu(t,e){if(jr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ky.call(e,s)||!jr(t[s],e[s]))return!1}return!0}function AE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kE(t,e){var n=AE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=AE(n)}}function cA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uA(){for(var t=window,e=Ef();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ef(t.document)}return e}function Rx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OL(t){var e=uA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cA(n.ownerDocument.documentElement,n)){if(r!==null&&Rx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=kE(n,i);var o=kE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ML=Us&&"documentMode"in document&&11>=document.documentMode,qa=null,hv=null,cu=null,fv=!1;function PE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fv||qa==null||qa!==Ef(r)||(r=qa,"selectionStart"in r&&Rx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cu&&Mu(cu,r)||(cu=r,r=Pf(hv,"onSelect"),0<r.length&&(e=new Ax("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qa)))}function gh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ka={animationend:gh("Animation","AnimationEnd"),animationiteration:gh("Animation","AnimationIteration"),animationstart:gh("Animation","AnimationStart"),transitionend:gh("Transition","TransitionEnd")},Ug={},dA={};Us&&(dA=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function nm(t){if(Ug[t])return Ug[t];if(!Ka[t])return t;var e=Ka[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dA)return Ug[t]=e[n];return t}var hA=nm("animationend"),fA=nm("animationiteration"),pA=nm("animationstart"),mA=nm("transitionend"),gA=new Map,RE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(t,e){gA.set(t,e),ya(e,[t])}for(var $g=0;$g<RE.length;$g++){var Bg=RE[$g],VL=Bg.toLowerCase(),LL=Bg[0].toUpperCase()+Bg.slice(1);lo(VL,"on"+LL)}lo(hA,"onAnimationEnd");lo(fA,"onAnimationIteration");lo(pA,"onAnimationStart");lo("dblclick","onDoubleClick");lo("focusin","onFocus");lo("focusout","onBlur");lo(mA,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gc));function NE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VV(r,e,void 0,t),t.currentTarget=null}function yA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;NE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;NE(s,a,c),i=l}}}if(Sf)throw t=lv,Sf=!1,lv=null,t}function ft(t,e){var n=e[vv];n===void 0&&(n=e[vv]=new Set);var r=t+"__bubble";n.has(r)||(vA(e,t,2,!1),n.add(r))}function zg(t,e,n){var r=0;e&&(r|=4),vA(n,t,r,e)}var yh="_reactListening"+Math.random().toString(36).slice(2);function Vu(t){if(!t[yh]){t[yh]=!0,SI.forEach(function(n){n!=="selectionchange"&&(FL.has(n)||zg(n,!1,t),zg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yh]||(e[yh]=!0,zg("selectionchange",!1,e))}}function vA(t,e,n,r){switch(tA(e)){case 1:var s=JV;break;case 4:s=eL;break;default:s=Cx}n=s.bind(null,e,n,t),s=void 0,!av||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Wg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=No(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}$I(function(){var c=i,h=bx(n),f=[];e:{var p=gA.get(t);if(p!==void 0){var m=Ax,w=t;switch(t){case"keypress":if(Xh(n)===0)break e;case"keydown":case"keyup":m=mL;break;case"focusin":w="focus",m=Vg;break;case"focusout":w="blur",m=Vg;break;case"beforeblur":case"afterblur":m=Vg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=wE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=vL;break;case hA:case fA:case pA:m=oL;break;case mA:m=wL;break;case"scroll":m=tL;break;case"wheel":m=bL;break;case"copy":case"cut":case"paste":m=lL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bE}var v=(e&4)!==0,_=!v&&t==="scroll",b=v?p!==null?p+"Capture":null:p;v=[];for(var y=c,E;y!==null;){E=y;var A=E.stateNode;if(E.tag===5&&A!==null&&(E=A,b!==null&&(A=Ru(y,b),A!=null&&v.push(Lu(y,A,E)))),_)break;y=y.return}0<v.length&&(p=new m(p,w,null,n,h),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==iv&&(w=n.relatedTarget||n.fromElement)&&(No(w)||w[$s]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?No(w):null,w!==null&&(_=va(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(v=wE,A="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=bE,A="onPointerLeave",b="onPointerEnter",y="pointer"),_=m==null?p:Ga(m),E=w==null?p:Ga(w),p=new v(A,y+"leave",m,n,h),p.target=_,p.relatedTarget=E,A=null,No(h)===c&&(v=new v(b,y+"enter",w,n,h),v.target=E,v.relatedTarget=_,A=v),_=A,m&&w)t:{for(v=m,b=w,y=0,E=v;E;E=Da(E))y++;for(E=0,A=b;A;A=Da(A))E++;for(;0<y-E;)v=Da(v),y--;for(;0<E-y;)b=Da(b),E--;for(;y--;){if(v===b||b!==null&&v===b.alternate)break t;v=Da(v),b=Da(b)}v=null}else v=null;m!==null&&jE(f,p,m,v,!1),w!==null&&_!==null&&jE(f,_,w,v,!0)}}e:{if(p=c?Ga(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=kL;else if(SE(p))if(aA)R=jL;else{R=RL;var O=PL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=NL);if(R&&(R=R(t,c))){oA(f,R,n,h);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&ev(p,"number",p.value)}switch(O=c?Ga(c):window,t){case"focusin":(SE(O)||O.contentEditable==="true")&&(qa=O,hv=c,cu=null);break;case"focusout":cu=hv=qa=null;break;case"mousedown":fv=!0;break;case"contextmenu":case"mouseup":case"dragend":fv=!1,PE(f,n,h);break;case"selectionchange":if(ML)break;case"keydown":case"keyup":PE(f,n,h)}var C;if(Px)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ha?sA(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(rA&&n.locale!=="ko"&&(Ha||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ha&&(C=nA()):(ki=h,Ix="value"in ki?ki.value:ki.textContent,Ha=!0)),O=Pf(c,S),0<O.length&&(S=new _E(S,t,null,n,h),f.push({event:S,listeners:O}),C?S.data=C:(C=iA(n),C!==null&&(S.data=C)))),(C=TL?SL(t,n):CL(t,n))&&(c=Pf(c,"onBeforeInput"),0<c.length&&(h=new _E("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=C))}yA(f,e)})}function Lu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ru(t,n),i!=null&&r.unshift(Lu(t,i,s)),i=Ru(t,e),i!=null&&r.push(Lu(t,i,s))),t=t.return}return r}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ru(n,i),l!=null&&o.unshift(Lu(n,l,a))):s||(l=Ru(n,i),l!=null&&o.push(Lu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var UL=/\r\n?/g,$L=/\u0000|\uFFFD/g;function DE(t){return(typeof t=="string"?t:""+t).replace(UL,`
`).replace($L,"")}function vh(t,e,n){if(e=DE(e),DE(t)!==e&&n)throw Error(Z(425))}function Rf(){}var pv=null,mv=null;function gv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yv=typeof setTimeout=="function"?setTimeout:void 0,BL=typeof clearTimeout=="function"?clearTimeout:void 0,OE=typeof Promise=="function"?Promise:void 0,zL=typeof queueMicrotask=="function"?queueMicrotask:typeof OE<"u"?function(t){return OE.resolve(null).then(t).catch(WL)}:yv;function WL(t){setTimeout(function(){throw t})}function Hg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Du(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Du(e)}function Vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ME(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sc=Math.random().toString(36).slice(2),Xr="__reactFiber$"+sc,Fu="__reactProps$"+sc,$s="__reactContainer$"+sc,vv="__reactEvents$"+sc,HL="__reactListeners$"+sc,qL="__reactHandles$"+sc;function No(t){var e=t[Xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$s]||n[Xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ME(t);t!==null;){if(n=t[Xr])return n;t=ME(t)}return e}t=n,n=t.parentNode}return null}function xd(t){return t=t[Xr]||t[$s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function rm(t){return t[Fu]||null}var xv=[],Qa=-1;function co(t){return{current:t}}function mt(t){0>Qa||(t.current=xv[Qa],xv[Qa]=null,Qa--)}function lt(t,e){Qa++,xv[Qa]=t.current,t.current=e}var Qi={},mn=co(Qi),Mn=co(!1),Jo=Qi;function Nl(t,e){var n=t.type.contextTypes;if(!n)return Qi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Vn(t){return t=t.childContextTypes,t!=null}function Nf(){mt(Mn),mt(mn)}function VE(t,e,n){if(mn.current!==Qi)throw Error(Z(168));lt(mn,e),lt(Mn,n)}function xA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Z(108,PV(t)||"Unknown",s));return _t({},n,r)}function jf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qi,Jo=mn.current,lt(mn,t),lt(Mn,Mn.current),!0}function LE(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=xA(t,e,Jo),r.__reactInternalMemoizedMergedChildContext=t,mt(Mn),mt(mn),lt(mn,t)):mt(Mn),lt(Mn,n)}var Ts=null,sm=!1,qg=!1;function wA(t){Ts===null?Ts=[t]:Ts.push(t)}function KL(t){sm=!0,wA(t)}function uo(){if(!qg&&Ts!==null){qg=!0;var t=0,e=rt;try{var n=Ts;for(rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ts=null,sm=!1}catch(s){throw Ts!==null&&(Ts=Ts.slice(t+1)),HI(Ex,uo),s}finally{rt=e,qg=!1}}return null}var Ya=[],Xa=0,Df=null,Of=0,ur=[],dr=0,ea=null,Ss=1,Cs="";function Co(t,e){Ya[Xa++]=Of,Ya[Xa++]=Df,Df=t,Of=e}function _A(t,e,n){ur[dr++]=Ss,ur[dr++]=Cs,ur[dr++]=ea,ea=t;var r=Ss;t=Cs;var s=32-Rr(r)-1;r&=~(1<<s),n+=1;var i=32-Rr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ss=1<<32-Rr(e)+s|n<<s|r,Cs=i+t}else Ss=1<<i|n<<s|r,Cs=t}function Nx(t){t.return!==null&&(Co(t,1),_A(t,1,0))}function jx(t){for(;t===Df;)Df=Ya[--Xa],Ya[Xa]=null,Of=Ya[--Xa],Ya[Xa]=null;for(;t===ea;)ea=ur[--dr],ur[dr]=null,Cs=ur[--dr],ur[dr]=null,Ss=ur[--dr],ur[dr]=null}var Zn=null,Yn=null,yt=!1,Ar=null;function bA(t,e){var n=fr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function FE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zn=t,Yn=Vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zn=t,Yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ea!==null?{id:Ss,overflow:Cs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zn=t,Yn=null,!0):!1;default:return!1}}function wv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _v(t){if(yt){var e=Yn;if(e){var n=e;if(!FE(t,e)){if(wv(t))throw Error(Z(418));e=Vi(n.nextSibling);var r=Zn;e&&FE(t,e)?bA(r,n):(t.flags=t.flags&-4097|2,yt=!1,Zn=t)}}else{if(wv(t))throw Error(Z(418));t.flags=t.flags&-4097|2,yt=!1,Zn=t}}}function UE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function xh(t){if(t!==Zn)return!1;if(!yt)return UE(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gv(t.type,t.memoizedProps)),e&&(e=Yn)){if(wv(t))throw EA(),Error(Z(418));for(;e;)bA(t,e),e=Vi(e.nextSibling)}if(UE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yn=Vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yn=null}}else Yn=Zn?Vi(t.stateNode.nextSibling):null;return!0}function EA(){for(var t=Yn;t;)t=Vi(t.nextSibling)}function jl(){Yn=Zn=null,yt=!1}function Dx(t){Ar===null?Ar=[t]:Ar.push(t)}var GL=ei.ReactCurrentBatchConfig;function Oc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function wh(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $E(t){var e=t._init;return e(t._payload)}function TA(t){function e(b,y){if(t){var E=b.deletions;E===null?(b.deletions=[y],b.flags|=16):E.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=$i(b,y),b.index=0,b.sibling=null,b}function i(b,y,E){return b.index=E,t?(E=b.alternate,E!==null?(E=E.index,E<y?(b.flags|=2,y):E):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,y,E,A){return y===null||y.tag!==6?(y=Jg(E,b.mode,A),y.return=b,y):(y=s(y,E),y.return=b,y)}function l(b,y,E,A){var R=E.type;return R===Wa?h(b,y,E.props.children,A,E.key):y!==null&&(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===fi&&$E(R)===y.type)?(A=s(y,E.props),A.ref=Oc(b,y,E),A.return=b,A):(A=sf(E.type,E.key,E.props,null,b.mode,A),A.ref=Oc(b,y,E),A.return=b,A)}function c(b,y,E,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=ey(E,b.mode,A),y.return=b,y):(y=s(y,E.children||[]),y.return=b,y)}function h(b,y,E,A,R){return y===null||y.tag!==7?(y=Go(E,b.mode,A,R),y.return=b,y):(y=s(y,E),y.return=b,y)}function f(b,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Jg(""+y,b.mode,E),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ch:return E=sf(y.type,y.key,y.props,null,b.mode,E),E.ref=Oc(b,null,y),E.return=b,E;case za:return y=ey(y,b.mode,E),y.return=b,y;case fi:var A=y._init;return f(b,A(y._payload),E)}if(qc(y)||Pc(y))return y=Go(y,b.mode,E,null),y.return=b,y;wh(b,y)}return null}function p(b,y,E,A){var R=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:a(b,y,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ch:return E.key===R?l(b,y,E,A):null;case za:return E.key===R?c(b,y,E,A):null;case fi:return R=E._init,p(b,y,R(E._payload),A)}if(qc(E)||Pc(E))return R!==null?null:h(b,y,E,A,null);wh(b,E)}return null}function m(b,y,E,A,R){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(E)||null,a(y,b,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ch:return b=b.get(A.key===null?E:A.key)||null,l(y,b,A,R);case za:return b=b.get(A.key===null?E:A.key)||null,c(y,b,A,R);case fi:var O=A._init;return m(b,y,E,O(A._payload),R)}if(qc(A)||Pc(A))return b=b.get(E)||null,h(y,b,A,R,null);wh(y,A)}return null}function w(b,y,E,A){for(var R=null,O=null,C=y,S=y=0,I=null;C!==null&&S<E.length;S++){C.index>S?(I=C,C=null):I=C.sibling;var N=p(b,C,E[S],A);if(N===null){C===null&&(C=I);break}t&&C&&N.alternate===null&&e(b,C),y=i(N,y,S),O===null?R=N:O.sibling=N,O=N,C=I}if(S===E.length)return n(b,C),yt&&Co(b,S),R;if(C===null){for(;S<E.length;S++)C=f(b,E[S],A),C!==null&&(y=i(C,y,S),O===null?R=C:O.sibling=C,O=C);return yt&&Co(b,S),R}for(C=r(b,C);S<E.length;S++)I=m(C,b,S,E[S],A),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?S:I.key),y=i(I,y,S),O===null?R=I:O.sibling=I,O=I);return t&&C.forEach(function(D){return e(b,D)}),yt&&Co(b,S),R}function v(b,y,E,A){var R=Pc(E);if(typeof R!="function")throw Error(Z(150));if(E=R.call(E),E==null)throw Error(Z(151));for(var O=R=null,C=y,S=y=0,I=null,N=E.next();C!==null&&!N.done;S++,N=E.next()){C.index>S?(I=C,C=null):I=C.sibling;var D=p(b,C,N.value,A);if(D===null){C===null&&(C=I);break}t&&C&&D.alternate===null&&e(b,C),y=i(D,y,S),O===null?R=D:O.sibling=D,O=D,C=I}if(N.done)return n(b,C),yt&&Co(b,S),R;if(C===null){for(;!N.done;S++,N=E.next())N=f(b,N.value,A),N!==null&&(y=i(N,y,S),O===null?R=N:O.sibling=N,O=N);return yt&&Co(b,S),R}for(C=r(b,C);!N.done;S++,N=E.next())N=m(C,b,S,N.value,A),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?S:N.key),y=i(N,y,S),O===null?R=N:O.sibling=N,O=N);return t&&C.forEach(function(j){return e(b,j)}),yt&&Co(b,S),R}function _(b,y,E,A){if(typeof E=="object"&&E!==null&&E.type===Wa&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ch:e:{for(var R=E.key,O=y;O!==null;){if(O.key===R){if(R=E.type,R===Wa){if(O.tag===7){n(b,O.sibling),y=s(O,E.props.children),y.return=b,b=y;break e}}else if(O.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===fi&&$E(R)===O.type){n(b,O.sibling),y=s(O,E.props),y.ref=Oc(b,O,E),y.return=b,b=y;break e}n(b,O);break}else e(b,O);O=O.sibling}E.type===Wa?(y=Go(E.props.children,b.mode,A,E.key),y.return=b,b=y):(A=sf(E.type,E.key,E.props,null,b.mode,A),A.ref=Oc(b,y,E),A.return=b,b=A)}return o(b);case za:e:{for(O=E.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(b,y.sibling),y=s(y,E.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=ey(E,b.mode,A),y.return=b,b=y}return o(b);case fi:return O=E._init,_(b,y,O(E._payload),A)}if(qc(E))return w(b,y,E,A);if(Pc(E))return v(b,y,E,A);wh(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(b,y.sibling),y=s(y,E),y.return=b,b=y):(n(b,y),y=Jg(E,b.mode,A),y.return=b,b=y),o(b)):n(b,y)}return _}var Dl=TA(!0),SA=TA(!1),Mf=co(null),Vf=null,Za=null,Ox=null;function Mx(){Ox=Za=Vf=null}function Vx(t){var e=Mf.current;mt(Mf),t._currentValue=e}function bv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dl(t,e){Vf=t,Ox=Za=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function vr(t){var e=t._currentValue;if(Ox!==t)if(t={context:t,memoizedValue:e,next:null},Za===null){if(Vf===null)throw Error(Z(308));Za=t,Vf.dependencies={lanes:0,firstContext:t}}else Za=Za.next=t;return e}var jo=null;function Lx(t){jo===null?jo=[t]:jo.push(t)}function CA(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Lx(e)):(n.next=s.next,s.next=n),e.interleaved=n,Bs(t,r)}function Bs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pi=!1;function Fx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Bs(t,n)}return s=r.interleaved,s===null?(e.next=e,Lx(r)):(e.next=s.next,s.next=e),r.interleaved=e,Bs(t,n)}function Zh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tx(t,n)}}function BE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lf(t,e,n,r){var s=t.updateQueue;pi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(p=e,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(m,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(m,f,p):w,p==null)break e;f=_t({},f,p);break e;case 2:pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);na|=o,t.lanes=o,t.memoizedState=f}}function zE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Z(191,s));s.call(r)}}}var wd={},ns=co(wd),Uu=co(wd),$u=co(wd);function Do(t){if(t===wd)throw Error(Z(174));return t}function Ux(t,e){switch(lt($u,e),lt(Uu,t),lt(ns,wd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nv(e,t)}mt(ns),lt(ns,e)}function Ol(){mt(ns),mt(Uu),mt($u)}function AA(t){Do($u.current);var e=Do(ns.current),n=nv(e,t.type);e!==n&&(lt(Uu,t),lt(ns,n))}function $x(t){Uu.current===t&&(mt(ns),mt(Uu))}var vt=co(0);function Ff(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kg=[];function Bx(){for(var t=0;t<Kg.length;t++)Kg[t]._workInProgressVersionPrimary=null;Kg.length=0}var Jh=ei.ReactCurrentDispatcher,Gg=ei.ReactCurrentBatchConfig,ta=0,wt=null,Ft=null,Wt=null,Uf=!1,uu=!1,Bu=0,QL=0;function an(){throw Error(Z(321))}function zx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jr(t[n],e[n]))return!1;return!0}function Wx(t,e,n,r,s,i){if(ta=i,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jh.current=t===null||t.memoizedState===null?JL:eF,t=n(r,s),uu){i=0;do{if(uu=!1,Bu=0,25<=i)throw Error(Z(301));i+=1,Wt=Ft=null,e.updateQueue=null,Jh.current=tF,t=n(r,s)}while(uu)}if(Jh.current=$f,e=Ft!==null&&Ft.next!==null,ta=0,Wt=Ft=wt=null,Uf=!1,e)throw Error(Z(300));return t}function Hx(){var t=Bu!==0;return Bu=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?wt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function xr(){if(Ft===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Wt===null?wt.memoizedState:Wt.next;if(e!==null)Wt=e,Ft=t;else{if(t===null)throw Error(Z(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Wt===null?wt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function zu(t,e){return typeof e=="function"?e(t):e}function Qg(t){var e=xr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=Ft,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((ta&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,wt.lanes|=h,na|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,jr(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,wt.lanes|=i,na|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yg(t){var e=xr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);jr(i,e.memoizedState)||(On=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function kA(){}function PA(t,e){var n=wt,r=xr(),s=e(),i=!jr(r.memoizedState,s);if(i&&(r.memoizedState=s,On=!0),r=r.queue,qx(jA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,Wu(9,NA.bind(null,n,r,s,e),void 0,null),Ht===null)throw Error(Z(349));ta&30||RA(n,e,s)}return s}function RA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NA(t,e,n,r){e.value=n,e.getSnapshot=r,DA(e)&&OA(t)}function jA(t,e,n){return n(function(){DA(e)&&OA(t)})}function DA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jr(t,n)}catch{return!0}}function OA(t){var e=Bs(t,1);e!==null&&Nr(e,t,1,-1)}function WE(t){var e=Kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zu,lastRenderedState:t},e.queue=t,t=t.dispatch=ZL.bind(null,wt,t),[e.memoizedState,t]}function Wu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function MA(){return xr().memoizedState}function ef(t,e,n,r){var s=Kr();wt.flags|=t,s.memoizedState=Wu(1|e,n,void 0,r===void 0?null:r)}function im(t,e,n,r){var s=xr();r=r===void 0?null:r;var i=void 0;if(Ft!==null){var o=Ft.memoizedState;if(i=o.destroy,r!==null&&zx(r,o.deps)){s.memoizedState=Wu(e,n,i,r);return}}wt.flags|=t,s.memoizedState=Wu(1|e,n,i,r)}function HE(t,e){return ef(8390656,8,t,e)}function qx(t,e){return im(2048,8,t,e)}function VA(t,e){return im(4,2,t,e)}function LA(t,e){return im(4,4,t,e)}function FA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UA(t,e,n){return n=n!=null?n.concat([t]):null,im(4,4,FA.bind(null,e,t),n)}function Kx(){}function $A(t,e){var n=xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function BA(t,e){var n=xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zA(t,e,n){return ta&21?(jr(n,e)||(n=GI(),wt.lanes|=n,na|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function YL(t,e){var n=rt;rt=n!==0&&4>n?n:4,t(!0);var r=Gg.transition;Gg.transition={};try{t(!1),e()}finally{rt=n,Gg.transition=r}}function WA(){return xr().memoizedState}function XL(t,e,n){var r=Ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HA(t))qA(e,n);else if(n=CA(t,e,n,r),n!==null){var s=In();Nr(n,t,r,s),KA(n,e,r)}}function ZL(t,e,n){var r=Ui(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HA(t))qA(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jr(a,o)){var l=e.interleaved;l===null?(s.next=s,Lx(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=CA(t,e,s,r),n!==null&&(s=In(),Nr(n,t,r,s),KA(n,e,r))}}function HA(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function qA(t,e){uu=Uf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tx(t,n)}}var $f={readContext:vr,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},JL={readContext:vr,useCallback:function(t,e){return Kr().memoizedState=[t,e===void 0?null:e],t},useContext:vr,useEffect:HE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ef(4194308,4,FA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ef(4194308,4,t,e)},useInsertionEffect:function(t,e){return ef(4,2,t,e)},useMemo:function(t,e){var n=Kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=XL.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=Kr();return t={current:t},e.memoizedState=t},useState:WE,useDebugValue:Kx,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=WE(!1),e=t[0];return t=YL.bind(null,t[1]),Kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,s=Kr();if(yt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Ht===null)throw Error(Z(349));ta&30||RA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,HE(jA.bind(null,r,i,t),[t]),r.flags|=2048,Wu(9,NA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Kr(),e=Ht.identifierPrefix;if(yt){var n=Cs,r=Ss;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eF={readContext:vr,useCallback:$A,useContext:vr,useEffect:qx,useImperativeHandle:UA,useInsertionEffect:VA,useLayoutEffect:LA,useMemo:BA,useReducer:Qg,useRef:MA,useState:function(){return Qg(zu)},useDebugValue:Kx,useDeferredValue:function(t){var e=xr();return zA(e,Ft.memoizedState,t)},useTransition:function(){var t=Qg(zu)[0],e=xr().memoizedState;return[t,e]},useMutableSource:kA,useSyncExternalStore:PA,useId:WA,unstable_isNewReconciler:!1},tF={readContext:vr,useCallback:$A,useContext:vr,useEffect:qx,useImperativeHandle:UA,useInsertionEffect:VA,useLayoutEffect:LA,useMemo:BA,useReducer:Yg,useRef:MA,useState:function(){return Yg(zu)},useDebugValue:Kx,useDeferredValue:function(t){var e=xr();return Ft===null?e.memoizedState=t:zA(e,Ft.memoizedState,t)},useTransition:function(){var t=Yg(zu)[0],e=xr().memoizedState;return[t,e]},useMutableSource:kA,useSyncExternalStore:PA,useId:WA,unstable_isNewReconciler:!1};function Tr(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ev(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var om={isMounted:function(t){return(t=t._reactInternals)?va(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=In(),s=Ui(t),i=js(r,s);i.payload=e,n!=null&&(i.callback=n),e=Li(t,i,s),e!==null&&(Nr(e,t,s,r),Zh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=In(),s=Ui(t),i=js(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Li(t,i,s),e!==null&&(Nr(e,t,s,r),Zh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=In(),r=Ui(t),s=js(n,r);s.tag=2,e!=null&&(s.callback=e),e=Li(t,s,r),e!==null&&(Nr(e,t,r,n),Zh(e,t,r))}};function qE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Mu(n,r)||!Mu(s,i):!0}function GA(t,e,n){var r=!1,s=Qi,i=e.contextType;return typeof i=="object"&&i!==null?i=vr(i):(s=Vn(e)?Jo:mn.current,r=e.contextTypes,i=(r=r!=null)?Nl(t,s):Qi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=om,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function KE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&om.enqueueReplaceState(e,e.state,null)}function Tv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Fx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=vr(i):(i=Vn(e)?Jo:mn.current,s.context=Nl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ev(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&om.enqueueReplaceState(s,s.state,null),Lf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ml(t,e){try{var n="",r=e;do n+=kV(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Xg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nF=typeof WeakMap=="function"?WeakMap:Map;function QA(t,e,n){n=js(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zf||(zf=!0,Ov=r),Sv(t,e)},n}function YA(t,e,n){n=js(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Sv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sv(t,e),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function GE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nF;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=gF.bind(null,t,e,n),e.then(t,t))}function QE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=js(-1,1),e.tag=2,Li(n,e,1))),n.lanes|=1),t)}var rF=ei.ReactCurrentOwner,On=!1;function Tn(t,e,n,r){e.child=t===null?SA(e,null,n,r):Dl(e,t.child,n,r)}function XE(t,e,n,r,s){n=n.render;var i=e.ref;return dl(e,s),r=Wx(t,e,n,r,i,s),n=Hx(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zs(t,e,s)):(yt&&n&&Nx(e),e.flags|=1,Tn(t,e,r,s),e.child)}function ZE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!tw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,XA(t,e,i,r,s)):(t=sf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mu,n(o,r)&&t.ref===e.ref)return zs(t,e,s)}return e.flags|=1,t=$i(i,r),t.ref=e.ref,t.return=e,e.child=t}function XA(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mu(i,r)&&t.ref===e.ref)if(On=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,zs(t,e,s)}return Cv(t,e,n,r,s)}function ZA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(el,Gn),Gn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(el,Gn),Gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,lt(el,Gn),Gn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,lt(el,Gn),Gn|=r;return Tn(t,e,s,n),e.child}function JA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cv(t,e,n,r,s){var i=Vn(n)?Jo:mn.current;return i=Nl(e,i),dl(e,s),n=Wx(t,e,n,r,i,s),r=Hx(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zs(t,e,s)):(yt&&r&&Nx(e),e.flags|=1,Tn(t,e,n,s),e.child)}function JE(t,e,n,r,s){if(Vn(n)){var i=!0;jf(e)}else i=!1;if(dl(e,s),e.stateNode===null)tf(t,e),GA(e,n,r),Tv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=vr(c):(c=Vn(n)?Jo:mn.current,c=Nl(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&KE(e,o,r,c),pi=!1;var p=e.memoizedState;o.state=p,Lf(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Mn.current||pi?(typeof h=="function"&&(Ev(e,n,h,r),l=e.memoizedState),(a=pi||qE(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,IA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Tr(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vr(l):(l=Vn(n)?Jo:mn.current,l=Nl(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&KE(e,o,r,l),pi=!1,p=e.memoizedState,o.state=p,Lf(e,r,o,s);var w=e.memoizedState;a!==f||p!==w||Mn.current||pi?(typeof m=="function"&&(Ev(e,n,m,r),w=e.memoizedState),(c=pi||qE(e,n,c,r,p,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Iv(t,e,n,r,i,s)}function Iv(t,e,n,r,s,i){JA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&LE(e,n,!1),zs(t,e,i);r=e.stateNode,rF.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Dl(e,t.child,null,i),e.child=Dl(e,null,a,i)):Tn(t,e,a,i),e.memoizedState=r.state,s&&LE(e,n,!0),e.child}function ek(t){var e=t.stateNode;e.pendingContext?VE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VE(t,e.context,!1),Ux(t,e.containerInfo)}function eT(t,e,n,r,s){return jl(),Dx(s),e.flags|=256,Tn(t,e,n,r),e.child}var Av={dehydrated:null,treeContext:null,retryLane:0};function kv(t){return{baseLanes:t,cachePool:null,transitions:null}}function tk(t,e,n){var r=e.pendingProps,s=vt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),lt(vt,s&1),t===null)return _v(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cm(o,r,0,null),t=Go(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=kv(n),e.memoizedState=Av,t):Gx(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return sF(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$i(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=$i(a,i):(i=Go(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?kv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Av,r}return i=t.child,t=i.sibling,r=$i(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gx(t,e){return e=cm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _h(t,e,n,r){return r!==null&&Dx(r),Dl(e,t.child,null,n),t=Gx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sF(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Xg(Error(Z(422))),_h(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=cm({mode:"visible",children:r.children},s,0,null),i=Go(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Dl(e,t.child,null,o),e.child.memoizedState=kv(o),e.memoizedState=Av,i);if(!(e.mode&1))return _h(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Z(419)),r=Xg(i,r,void 0),_h(t,e,o,r)}if(a=(o&t.childLanes)!==0,On||a){if(r=Ht,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bs(t,s),Nr(r,t,s,-1))}return ew(),r=Xg(Error(Z(421))),_h(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=yF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Yn=Vi(s.nextSibling),Zn=e,yt=!0,Ar=null,t!==null&&(ur[dr++]=Ss,ur[dr++]=Cs,ur[dr++]=ea,Ss=t.id,Cs=t.overflow,ea=e),e=Gx(e,r.children),e.flags|=4096,e)}function tT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bv(t.return,e,n)}function Zg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function nk(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tn(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tT(t,n,e);else if(t.tag===19)tT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(vt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ff(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ff(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zg(e,!0,n,null,i);break;case"together":Zg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),na|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=$i(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$i(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iF(t,e,n){switch(e.tag){case 3:ek(e),jl();break;case 5:AA(e);break;case 1:Vn(e.type)&&jf(e);break;case 4:Ux(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;lt(Mf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?tk(t,e,n):(lt(vt,vt.current&1),t=zs(t,e,n),t!==null?t.sibling:null);lt(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),lt(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,ZA(t,e,n)}return zs(t,e,n)}var rk,Pv,sk,ik;rk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pv=function(){};sk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Do(ns.current);var i=null;switch(n){case"input":s=Zy(t,s),r=Zy(t,r),i=[];break;case"select":s=_t({},s,{value:void 0}),r=_t({},r,{value:void 0}),i=[];break;case"textarea":s=tv(t,s),r=tv(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rf)}rv(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ku.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ku.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ft("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ik=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mc(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oF(t,e,n){var r=e.pendingProps;switch(jx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return Vn(e.type)&&Nf(),ln(e),null;case 3:return r=e.stateNode,Ol(),mt(Mn),mt(mn),Bx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(Lv(Ar),Ar=null))),Pv(t,e),ln(e),null;case 5:$x(e);var s=Do($u.current);if(n=e.type,t!==null&&e.stateNode!=null)sk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return ln(e),null}if(t=Do(ns.current),xh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xr]=e,r[Fu]=i,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(s=0;s<Gc.length;s++)ft(Gc[s],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":uE(r,i),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ft("invalid",r);break;case"textarea":hE(r,i),ft("invalid",r)}rv(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&vh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&vh(r.textContent,a,t),s=["children",""+a]):ku.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":uh(r),dE(r,i,!0);break;case"textarea":uh(r),fE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Rf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xr]=e,t[Fu]=r,rk(t,e,!1,!1),e.stateNode=t;e:{switch(o=sv(n,r),n){case"dialog":ft("cancel",t),ft("close",t),s=r;break;case"iframe":case"object":case"embed":ft("load",t),s=r;break;case"video":case"audio":for(s=0;s<Gc.length;s++)ft(Gc[s],t);s=r;break;case"source":ft("error",t),s=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),s=r;break;case"details":ft("toggle",t),s=r;break;case"input":uE(t,r),s=Zy(t,r),ft("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=_t({},r,{value:void 0}),ft("invalid",t);break;case"textarea":hE(t,r),s=tv(t,r),ft("invalid",t);break;default:s=r}rv(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?MI(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&DI(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pu(t,l):typeof l=="number"&&Pu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ku.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ft("scroll",t):l!=null&&vx(t,i,l,o))}switch(n){case"input":uh(t),dE(t,r,!1);break;case"textarea":uh(t),fE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?al(t,!!r.multiple,i,!1):r.defaultValue!=null&&al(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Rf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(t&&e.stateNode!=null)ik(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=Do($u.current),Do(ns.current),xh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xr]=e,(i=r.nodeValue!==n)&&(t=Zn,t!==null))switch(t.tag){case 3:vh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xr]=e,e.stateNode=r}return ln(e),null;case 13:if(mt(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&Yn!==null&&e.mode&1&&!(e.flags&128))EA(),jl(),e.flags|=98560,i=!1;else if(i=xh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Xr]=e}else jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),i=!1}else Ar!==null&&(Lv(Ar),Ar=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?$t===0&&($t=3):ew())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return Ol(),Pv(t,e),t===null&&Vu(e.stateNode.containerInfo),ln(e),null;case 10:return Vx(e.type._context),ln(e),null;case 17:return Vn(e.type)&&Nf(),ln(e),null;case 19:if(mt(vt),i=e.memoizedState,i===null)return ln(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Mc(i,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ff(t),o!==null){for(e.flags|=128,Mc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(vt,vt.current&1|2),e.child}t=t.sibling}i.tail!==null&&kt()>Vl&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ff(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!yt)return ln(e),null}else 2*kt()-i.renderingStartTime>Vl&&n!==1073741824&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=kt(),e.sibling=null,n=vt.current,lt(vt,r?n&1|2:n&1),e):(ln(e),null);case 22:case 23:return Jx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gn&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function aF(t,e){switch(jx(e),e.tag){case 1:return Vn(e.type)&&Nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ol(),mt(Mn),mt(mn),Bx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $x(e),null;case 13:if(mt(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(vt),null;case 4:return Ol(),null;case 10:return Vx(e.type._context),null;case 22:case 23:return Jx(),null;case 24:return null;default:return null}}var bh=!1,fn=!1,lF=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Ja(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ct(t,e,r)}else n.current=null}function Rv(t,e,n){try{n()}catch(r){Ct(t,e,r)}}var nT=!1;function cF(t,e){if(pv=Af,t=uA(),Rx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mv={focusedElem:t,selectionRange:n},Af=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:Tr(e.type,v),_);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(A){Ct(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return w=nT,nT=!1,w}function du(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Rv(e,n,i)}s=s.next}while(s!==r)}}function am(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ok(t){var e=t.alternate;e!==null&&(t.alternate=null,ok(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xr],delete e[Fu],delete e[vv],delete e[HL],delete e[qL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ak(t){return t.tag===5||t.tag===3||t.tag===4}function rT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ak(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rf));else if(r!==4&&(t=t.child,t!==null))for(jv(t,e,n),t=t.sibling;t!==null;)jv(t,e,n),t=t.sibling}function Dv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dv(t,e,n),t=t.sibling;t!==null;)Dv(t,e,n),t=t.sibling}var Kt=null,Ir=!1;function oi(t,e,n){for(n=n.child;n!==null;)lk(t,e,n),n=n.sibling}function lk(t,e,n){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(Jp,n)}catch{}switch(n.tag){case 5:fn||Ja(n,e);case 6:var r=Kt,s=Ir;Kt=null,oi(t,e,n),Kt=r,Ir=s,Kt!==null&&(Ir?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(Ir?(t=Kt,n=n.stateNode,t.nodeType===8?Hg(t.parentNode,n):t.nodeType===1&&Hg(t,n),Du(t)):Hg(Kt,n.stateNode));break;case 4:r=Kt,s=Ir,Kt=n.stateNode.containerInfo,Ir=!0,oi(t,e,n),Kt=r,Ir=s;break;case 0:case 11:case 14:case 15:if(!fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rv(n,e,o),s=s.next}while(s!==r)}oi(t,e,n);break;case 1:if(!fn&&(Ja(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ct(n,e,a)}oi(t,e,n);break;case 21:oi(t,e,n);break;case 22:n.mode&1?(fn=(r=fn)||n.memoizedState!==null,oi(t,e,n),fn=r):oi(t,e,n);break;default:oi(t,e,n)}}function sT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lF),e.forEach(function(r){var s=vF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kt=a.stateNode,Ir=!1;break e;case 3:Kt=a.stateNode.containerInfo,Ir=!0;break e;case 4:Kt=a.stateNode.containerInfo,Ir=!0;break e}a=a.return}if(Kt===null)throw Error(Z(160));lk(i,o,s),Kt=null,Ir=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ct(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ck(e,t),e=e.sibling}function ck(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),qr(t),r&4){try{du(3,t,t.return),am(3,t)}catch(v){Ct(t,t.return,v)}try{du(5,t,t.return)}catch(v){Ct(t,t.return,v)}}break;case 1:br(e,t),qr(t),r&512&&n!==null&&Ja(n,n.return);break;case 5:if(br(e,t),qr(t),r&512&&n!==null&&Ja(n,n.return),t.flags&32){var s=t.stateNode;try{Pu(s,"")}catch(v){Ct(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&RI(s,i),sv(a,o);var c=sv(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?MI(s,f):h==="dangerouslySetInnerHTML"?DI(s,f):h==="children"?Pu(s,f):vx(s,h,f,c)}switch(a){case"input":Jy(s,i);break;case"textarea":NI(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?al(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?al(s,!!i.multiple,i.defaultValue,!0):al(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fu]=i}catch(v){Ct(t,t.return,v)}}break;case 6:if(br(e,t),qr(t),r&4){if(t.stateNode===null)throw Error(Z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Ct(t,t.return,v)}}break;case 3:if(br(e,t),qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Du(e.containerInfo)}catch(v){Ct(t,t.return,v)}break;case 4:br(e,t),qr(t);break;case 13:br(e,t),qr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xx=kt())),r&4&&sT(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(fn=(c=fn)||h,br(e,t),fn=c):br(e,t),qr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(ue=t,h=t.child;h!==null;){for(f=ue=h;ue!==null;){switch(p=ue,m=p.child,p.tag){case 0:case 11:case 14:case 15:du(4,p,p.return);break;case 1:Ja(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){Ct(r,n,v)}}break;case 5:Ja(p,p.return);break;case 22:if(p.memoizedState!==null){oT(f);continue}}m!==null?(m.return=p,ue=m):oT(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=OI("display",o))}catch(v){Ct(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Ct(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:br(e,t),qr(t),r&4&&sT(t);break;case 21:break;default:br(e,t),qr(t)}}function qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ak(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pu(s,""),r.flags&=-33);var i=rT(t);Dv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=rT(t);jv(t,a,o);break;default:throw Error(Z(161))}}catch(l){Ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uF(t,e,n){ue=t,uk(t)}function uk(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var s=ue,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||bh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||fn;a=bh;var c=fn;if(bh=o,(fn=l)&&!c)for(ue=s;ue!==null;)o=ue,l=o.child,o.tag===22&&o.memoizedState!==null?aT(s):l!==null?(l.return=o,ue=l):aT(s);for(;i!==null;)ue=i,uk(i),i=i.sibling;ue=s,bh=a,fn=c}iT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ue=i):iT(t)}}function iT(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fn||am(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Tr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&zE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Du(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}fn||e.flags&512&&Nv(e)}catch(p){Ct(e,e.return,p)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function oT(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function aT(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{am(4,e)}catch(l){Ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ct(e,s,l)}}var i=e.return;try{Nv(e)}catch(l){Ct(e,i,l)}break;case 5:var o=e.return;try{Nv(e)}catch(l){Ct(e,o,l)}}}catch(l){Ct(e,e.return,l)}if(e===t){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var dF=Math.ceil,Bf=ei.ReactCurrentDispatcher,Qx=ei.ReactCurrentOwner,pr=ei.ReactCurrentBatchConfig,Qe=0,Ht=null,Mt=null,Xt=0,Gn=0,el=co(0),$t=0,Hu=null,na=0,lm=0,Yx=0,hu=null,Dn=null,Xx=0,Vl=1/0,Es=null,zf=!1,Ov=null,Fi=null,Eh=!1,Pi=null,Wf=0,fu=0,Mv=null,nf=-1,rf=0;function In(){return Qe&6?kt():nf!==-1?nf:nf=kt()}function Ui(t){return t.mode&1?Qe&2&&Xt!==0?Xt&-Xt:GL.transition!==null?(rf===0&&(rf=GI()),rf):(t=rt,t!==0||(t=window.event,t=t===void 0?16:tA(t.type)),t):1}function Nr(t,e,n,r){if(50<fu)throw fu=0,Mv=null,Error(Z(185));yd(t,n,r),(!(Qe&2)||t!==Ht)&&(t===Ht&&(!(Qe&2)&&(lm|=n),$t===4&&yi(t,Xt)),Ln(t,r),n===1&&Qe===0&&!(e.mode&1)&&(Vl=kt()+500,sm&&uo()))}function Ln(t,e){var n=t.callbackNode;GV(t,e);var r=If(t,t===Ht?Xt:0);if(r===0)n!==null&&gE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gE(n),e===1)t.tag===0?KL(lT.bind(null,t)):wA(lT.bind(null,t)),zL(function(){!(Qe&6)&&uo()}),n=null;else{switch(QI(r)){case 1:n=Ex;break;case 4:n=qI;break;case 16:n=Cf;break;case 536870912:n=KI;break;default:n=Cf}n=vk(n,dk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dk(t,e){if(nf=-1,rf=0,Qe&6)throw Error(Z(327));var n=t.callbackNode;if(hl()&&t.callbackNode!==n)return null;var r=If(t,t===Ht?Xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hf(t,r);else{e=r;var s=Qe;Qe|=2;var i=fk();(Ht!==t||Xt!==e)&&(Es=null,Vl=kt()+500,Ko(t,e));do try{pF();break}catch(a){hk(t,a)}while(!0);Mx(),Bf.current=i,Qe=s,Mt!==null?e=0:(Ht=null,Xt=0,e=$t)}if(e!==0){if(e===2&&(s=cv(t),s!==0&&(r=s,e=Vv(t,s))),e===1)throw n=Hu,Ko(t,0),yi(t,r),Ln(t,kt()),n;if(e===6)yi(t,r);else{if(s=t.current.alternate,!(r&30)&&!hF(s)&&(e=Hf(t,r),e===2&&(i=cv(t),i!==0&&(r=i,e=Vv(t,i))),e===1))throw n=Hu,Ko(t,0),yi(t,r),Ln(t,kt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Io(t,Dn,Es);break;case 3:if(yi(t,r),(r&130023424)===r&&(e=Xx+500-kt(),10<e)){if(If(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){In(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=yv(Io.bind(null,t,Dn,Es),e);break}Io(t,Dn,Es);break;case 4:if(yi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Rr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dF(r/1960))-r,10<r){t.timeoutHandle=yv(Io.bind(null,t,Dn,Es),r);break}Io(t,Dn,Es);break;case 5:Io(t,Dn,Es);break;default:throw Error(Z(329))}}}return Ln(t,kt()),t.callbackNode===n?dk.bind(null,t):null}function Vv(t,e){var n=hu;return t.current.memoizedState.isDehydrated&&(Ko(t,e).flags|=256),t=Hf(t,e),t!==2&&(e=Dn,Dn=n,e!==null&&Lv(e)),t}function Lv(t){Dn===null?Dn=t:Dn.push.apply(Dn,t)}function hF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yi(t,e){for(e&=~Yx,e&=~lm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rr(e),r=1<<n;t[n]=-1,e&=~r}}function lT(t){if(Qe&6)throw Error(Z(327));hl();var e=If(t,0);if(!(e&1))return Ln(t,kt()),null;var n=Hf(t,e);if(t.tag!==0&&n===2){var r=cv(t);r!==0&&(e=r,n=Vv(t,r))}if(n===1)throw n=Hu,Ko(t,0),yi(t,e),Ln(t,kt()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Io(t,Dn,Es),Ln(t,kt()),null}function Zx(t,e){var n=Qe;Qe|=1;try{return t(e)}finally{Qe=n,Qe===0&&(Vl=kt()+500,sm&&uo())}}function ra(t){Pi!==null&&Pi.tag===0&&!(Qe&6)&&hl();var e=Qe;Qe|=1;var n=pr.transition,r=rt;try{if(pr.transition=null,rt=1,t)return t()}finally{rt=r,pr.transition=n,Qe=e,!(Qe&6)&&uo()}}function Jx(){Gn=el.current,mt(el)}function Ko(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BL(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(jx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nf();break;case 3:Ol(),mt(Mn),mt(mn),Bx();break;case 5:$x(r);break;case 4:Ol();break;case 13:mt(vt);break;case 19:mt(vt);break;case 10:Vx(r.type._context);break;case 22:case 23:Jx()}n=n.return}if(Ht=t,Mt=t=$i(t.current,null),Xt=Gn=e,$t=0,Hu=null,Yx=lm=na=0,Dn=hu=null,jo!==null){for(e=0;e<jo.length;e++)if(n=jo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}jo=null}return t}function hk(t,e){do{var n=Mt;try{if(Mx(),Jh.current=$f,Uf){for(var r=wt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Uf=!1}if(ta=0,Wt=Ft=wt=null,uu=!1,Bu=0,Qx.current=null,n===null||n.return===null){$t=1,Hu=e,Mt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=QE(o);if(m!==null){m.flags&=-257,YE(m,o,a,i,e),m.mode&1&&GE(i,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){GE(i,c,e),ew();break e}l=Error(Z(426))}}else if(yt&&a.mode&1){var _=QE(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),YE(_,o,a,i,e),Dx(Ml(l,a));break e}}i=l=Ml(l,a),$t!==4&&($t=2),hu===null?hu=[i]:hu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=QA(i,l,e);BE(i,b);break e;case 1:a=l;var y=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Fi===null||!Fi.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=YA(i,a,e);BE(i,A);break e}}i=i.return}while(i!==null)}mk(n)}catch(R){e=R,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(!0)}function fk(){var t=Bf.current;return Bf.current=$f,t===null?$f:t}function ew(){($t===0||$t===3||$t===2)&&($t=4),Ht===null||!(na&268435455)&&!(lm&268435455)||yi(Ht,Xt)}function Hf(t,e){var n=Qe;Qe|=2;var r=fk();(Ht!==t||Xt!==e)&&(Es=null,Ko(t,e));do try{fF();break}catch(s){hk(t,s)}while(!0);if(Mx(),Qe=n,Bf.current=r,Mt!==null)throw Error(Z(261));return Ht=null,Xt=0,$t}function fF(){for(;Mt!==null;)pk(Mt)}function pF(){for(;Mt!==null&&!FV();)pk(Mt)}function pk(t){var e=yk(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,e===null?mk(t):Mt=e,Qx.current=null}function mk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aF(n,e),n!==null){n.flags&=32767,Mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Mt=null;return}}else if(n=oF(n,e,Gn),n!==null){Mt=n;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);$t===0&&($t=5)}function Io(t,e,n){var r=rt,s=pr.transition;try{pr.transition=null,rt=1,mF(t,e,n,r)}finally{pr.transition=s,rt=r}return null}function mF(t,e,n,r){do hl();while(Pi!==null);if(Qe&6)throw Error(Z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(QV(t,i),t===Ht&&(Mt=Ht=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eh||(Eh=!0,vk(Cf,function(){return hl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=pr.transition,pr.transition=null;var o=rt;rt=1;var a=Qe;Qe|=4,Qx.current=null,cF(t,n),ck(n,t),OL(mv),Af=!!pv,mv=pv=null,t.current=n,uF(n),UV(),Qe=a,rt=o,pr.transition=i}else t.current=n;if(Eh&&(Eh=!1,Pi=t,Wf=s),i=t.pendingLanes,i===0&&(Fi=null),zV(n.stateNode),Ln(t,kt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zf)throw zf=!1,t=Ov,Ov=null,t;return Wf&1&&t.tag!==0&&hl(),i=t.pendingLanes,i&1?t===Mv?fu++:(fu=0,Mv=t):fu=0,uo(),null}function hl(){if(Pi!==null){var t=QI(Wf),e=pr.transition,n=rt;try{if(pr.transition=null,rt=16>t?16:t,Pi===null)var r=!1;else{if(t=Pi,Pi=null,Wf=0,Qe&6)throw Error(Z(331));var s=Qe;for(Qe|=4,ue=t.current;ue!==null;){var i=ue,o=i.child;if(ue.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ue=c;ue!==null;){var h=ue;switch(h.tag){case 0:case 11:case 15:du(8,h,i)}var f=h.child;if(f!==null)f.return=h,ue=f;else for(;ue!==null;){h=ue;var p=h.sibling,m=h.return;if(ok(h),h===c){ue=null;break}if(p!==null){p.return=m,ue=p;break}ue=m}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ue=o;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:du(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ue=b;break e}ue=i.return}}var y=t.current;for(ue=y;ue!==null;){o=ue;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ue=E;else e:for(o=y;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:am(9,a)}}catch(R){Ct(a,a.return,R)}if(a===o){ue=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ue=A;break e}ue=a.return}}if(Qe=s,uo(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(Jp,t)}catch{}r=!0}return r}finally{rt=n,pr.transition=e}}return!1}function cT(t,e,n){e=Ml(n,e),e=QA(t,e,1),t=Li(t,e,1),e=In(),t!==null&&(yd(t,1,e),Ln(t,e))}function Ct(t,e,n){if(t.tag===3)cT(t,t,n);else for(;e!==null;){if(e.tag===3){cT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){t=Ml(n,t),t=YA(e,t,1),e=Li(e,t,1),t=In(),e!==null&&(yd(e,1,t),Ln(e,t));break}}e=e.return}}function gF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=In(),t.pingedLanes|=t.suspendedLanes&n,Ht===t&&(Xt&n)===n&&($t===4||$t===3&&(Xt&130023424)===Xt&&500>kt()-Xx?Ko(t,0):Yx|=n),Ln(t,e)}function gk(t,e){e===0&&(t.mode&1?(e=fh,fh<<=1,!(fh&130023424)&&(fh=4194304)):e=1);var n=In();t=Bs(t,e),t!==null&&(yd(t,e,n),Ln(t,n))}function yF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gk(t,n)}function vF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),gk(t,n)}var yk;yk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,iF(t,e,n);On=!!(t.flags&131072)}else On=!1,yt&&e.flags&1048576&&_A(e,Of,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tf(t,e),t=e.pendingProps;var s=Nl(e,mn.current);dl(e,n),s=Wx(null,e,r,t,s,n);var i=Hx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vn(r)?(i=!0,jf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fx(e),s.updater=om,e.stateNode=s,s._reactInternals=e,Tv(e,r,t,n),e=Iv(null,e,r,!0,i,n)):(e.tag=0,yt&&i&&Nx(e),Tn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=wF(r),t=Tr(r,t),s){case 0:e=Cv(null,e,r,t,n);break e;case 1:e=JE(null,e,r,t,n);break e;case 11:e=XE(null,e,r,t,n);break e;case 14:e=ZE(null,e,r,Tr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tr(r,s),Cv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tr(r,s),JE(t,e,r,s,n);case 3:e:{if(ek(e),t===null)throw Error(Z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,IA(t,e),Lf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ml(Error(Z(423)),e),e=eT(t,e,r,n,s);break e}else if(r!==s){s=Ml(Error(Z(424)),e),e=eT(t,e,r,n,s);break e}else for(Yn=Vi(e.stateNode.containerInfo.firstChild),Zn=e,yt=!0,Ar=null,n=SA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jl(),r===s){e=zs(t,e,n);break e}Tn(t,e,r,n)}e=e.child}return e;case 5:return AA(e),t===null&&_v(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,gv(r,s)?o=null:i!==null&&gv(r,i)&&(e.flags|=32),JA(t,e),Tn(t,e,o,n),e.child;case 6:return t===null&&_v(e),null;case 13:return tk(t,e,n);case 4:return Ux(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dl(e,null,r,n):Tn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tr(r,s),XE(t,e,r,s,n);case 7:return Tn(t,e,e.pendingProps,n),e.child;case 8:return Tn(t,e,e.pendingProps.children,n),e.child;case 12:return Tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,lt(Mf,r._currentValue),r._currentValue=o,i!==null)if(jr(i.value,o)){if(i.children===s.children&&!Mn.current){e=zs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=js(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),bv(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,dl(e,n),s=vr(s),r=r(s),e.flags|=1,Tn(t,e,r,n),e.child;case 14:return r=e.type,s=Tr(r,e.pendingProps),s=Tr(r.type,s),ZE(t,e,r,s,n);case 15:return XA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tr(r,s),tf(t,e),e.tag=1,Vn(r)?(t=!0,jf(e)):t=!1,dl(e,n),GA(e,r,s),Tv(e,r,s,n),Iv(null,e,r,!0,t,n);case 19:return nk(t,e,n);case 22:return ZA(t,e,n)}throw Error(Z(156,e.tag))};function vk(t,e){return HI(t,e)}function xF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,e,n,r){return new xF(t,e,n,r)}function tw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wF(t){if(typeof t=="function")return tw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wx)return 11;if(t===_x)return 14}return 2}function $i(t,e){var n=t.alternate;return n===null?(n=fr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")tw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wa:return Go(n.children,s,i,e);case xx:o=8,s|=8;break;case Gy:return t=fr(12,n,e,s|2),t.elementType=Gy,t.lanes=i,t;case Qy:return t=fr(13,n,e,s),t.elementType=Qy,t.lanes=i,t;case Yy:return t=fr(19,n,e,s),t.elementType=Yy,t.lanes=i,t;case AI:return cm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CI:o=10;break e;case II:o=9;break e;case wx:o=11;break e;case _x:o=14;break e;case fi:o=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=fr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Go(t,e,n,r){return t=fr(7,t,r,e),t.lanes=n,t}function cm(t,e,n,r){return t=fr(22,t,r,e),t.elementType=AI,t.lanes=n,t.stateNode={isHidden:!1},t}function Jg(t,e,n){return t=fr(6,t,null,e),t.lanes=n,t}function ey(t,e,n){return e=fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _F(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dg(0),this.expirationTimes=Dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nw(t,e,n,r,s,i,o,a,l){return t=new _F(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=fr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fx(i),t}function bF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:za,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xk(t){if(!t)return Qi;t=t._reactInternals;e:{if(va(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Vn(n))return xA(t,n,e)}return e}function wk(t,e,n,r,s,i,o,a,l){return t=nw(n,r,!0,t,s,i,o,a,l),t.context=xk(null),n=t.current,r=In(),s=Ui(n),i=js(r,s),i.callback=e??null,Li(n,i,s),t.current.lanes=s,yd(t,s,r),Ln(t,r),t}function um(t,e,n,r){var s=e.current,i=In(),o=Ui(s);return n=xk(n),e.context===null?e.context=n:e.pendingContext=n,e=js(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Li(s,e,o),t!==null&&(Nr(t,s,o,i),Zh(t,s,o)),o}function qf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rw(t,e){uT(t,e),(t=t.alternate)&&uT(t,e)}function EF(){return null}var _k=typeof reportError=="function"?reportError:function(t){console.error(t)};function sw(t){this._internalRoot=t}dm.prototype.render=sw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));um(t,e,null,null)};dm.prototype.unmount=sw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ra(function(){um(null,t,null,null)}),e[$s]=null}};function dm(t){this._internalRoot=t}dm.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gi.length&&e!==0&&e<gi[n].priority;n++);gi.splice(n,0,t),n===0&&eA(t)}};function iw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dT(){}function TF(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=qf(o);i.call(c)}}var o=wk(e,r,t,0,null,!1,!1,"",dT);return t._reactRootContainer=o,t[$s]=o.current,Vu(t.nodeType===8?t.parentNode:t),ra(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=qf(l);a.call(c)}}var l=nw(t,0,!1,null,null,!1,!1,"",dT);return t._reactRootContainer=l,t[$s]=l.current,Vu(t.nodeType===8?t.parentNode:t),ra(function(){um(e,l,n,r)}),l}function fm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=qf(o);a.call(l)}}um(e,o,t,s)}else o=TF(n,e,t,s,r);return qf(o)}YI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kc(e.pendingLanes);n!==0&&(Tx(e,n|1),Ln(e,kt()),!(Qe&6)&&(Vl=kt()+500,uo()))}break;case 13:ra(function(){var r=Bs(t,1);if(r!==null){var s=In();Nr(r,t,1,s)}}),rw(t,1)}};Sx=function(t){if(t.tag===13){var e=Bs(t,134217728);if(e!==null){var n=In();Nr(e,t,134217728,n)}rw(t,134217728)}};XI=function(t){if(t.tag===13){var e=Ui(t),n=Bs(t,e);if(n!==null){var r=In();Nr(n,t,e,r)}rw(t,e)}};ZI=function(){return rt};JI=function(t,e){var n=rt;try{return rt=t,e()}finally{rt=n}};ov=function(t,e,n){switch(e){case"input":if(Jy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rm(r);if(!s)throw Error(Z(90));PI(r),Jy(r,s)}}}break;case"textarea":NI(t,n);break;case"select":e=n.value,e!=null&&al(t,!!n.multiple,e,!1)}};FI=Zx;UI=ra;var SF={usingClientEntryPoint:!1,Events:[xd,Ga,rm,VI,LI,Zx]},Vc={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CF={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zI(t),t===null?null:t.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||EF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{Jp=Th.inject(CF),ts=Th}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SF;rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iw(e))throw Error(Z(200));return bF(t,e,null,n)};rr.createRoot=function(t,e){if(!iw(t))throw Error(Z(299));var n=!1,r="",s=_k;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=nw(t,1,!1,null,null,n,!1,r,s),t[$s]=e.current,Vu(t.nodeType===8?t.parentNode:t),new sw(e)};rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=zI(e),t=t===null?null:t.stateNode,t};rr.flushSync=function(t){return ra(t)};rr.hydrate=function(t,e,n){if(!hm(e))throw Error(Z(200));return fm(null,t,e,!0,n)};rr.hydrateRoot=function(t,e,n){if(!iw(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=_k;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=wk(e,null,t,1,n??null,s,!1,i,o),t[$s]=e.current,Vu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dm(e)};rr.render=function(t,e,n){if(!hm(e))throw Error(Z(200));return fm(null,t,e,!1,n)};rr.unmountComponentAtNode=function(t){if(!hm(t))throw Error(Z(40));return t._reactRootContainer?(ra(function(){fm(null,null,t,!1,function(){t._reactRootContainer=null,t[$s]=null})}),!0):!1};rr.unstable_batchedUpdates=Zx;rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hm(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return fm(t,e,n,!1,r)};rr.version="18.3.1-next-f1338f8080-20240426";function bk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bk)}catch(t){console.error(t)}}bk(),bI.exports=rr;var xa=bI.exports;const Ek=cI(xa);var Tk,hT=xa;Tk=hT.createRoot,hT.hydrateRoot;const IF=1,AF=1e6;let ty=0;function kF(){return ty=(ty+1)%Number.MAX_SAFE_INTEGER,ty.toString()}const ny=new Map,fT=t=>{if(ny.has(t))return;const e=setTimeout(()=>{ny.delete(t),pu({type:"REMOVE_TOAST",toastId:t})},AF);ny.set(t,e)},PF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,IF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?fT(n):t.toasts.forEach(r=>{fT(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},of=[];let af={toasts:[]};function pu(t){af=PF(af,t),of.forEach(e=>{e(af)})}function RF({...t}){const e=kF(),n=s=>pu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>pu({type:"DISMISS_TOAST",toastId:e});return pu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function zn(){const[t,e]=x.useState(af);return x.useEffect(()=>(of.push(e),()=>{const n=of.indexOf(e);n>-1&&of.splice(n,1)}),[t]),{...t,toast:RF,dismiss:n=>pu({type:"DISMISS_TOAST",toastId:n})}}function ve(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function NF(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Sk(...t){return e=>t.forEach(n=>NF(n,e))}function ct(...t){return x.useCallback(Sk(...t),t)}function jF(t,e=[]){let n=[];function r(i,o){const a=x.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:m,...w}=f,v=(p==null?void 0:p[t][l])||a,_=x.useMemo(()=>w,Object.values(w));return u.jsx(v.Provider,{value:_,children:m})}function h(f,p){const m=(p==null?void 0:p[t][l])||a,w=x.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,DF(s,...e)]}function DF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Yi=x.forwardRef((t,e)=>{const{children:n,...r}=t,s=x.Children.toArray(n),i=s.find(OF);if(i){const o=i.props.children,a=s.map(l=>l===i?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:l);return u.jsx(Fv,{...r,ref:e,children:x.isValidElement(o)?x.cloneElement(o,void 0,a):null})}return u.jsx(Fv,{...r,ref:e,children:n})});Yi.displayName="Slot";var Fv=x.forwardRef((t,e)=>{const{children:n,...r}=t;if(x.isValidElement(n)){const s=VF(n);return x.cloneElement(n,{...MF(r,n.props),ref:e?Sk(e,s):s})}return x.Children.count(n)>1?x.Children.only(null):null});Fv.displayName="SlotClone";var Ck=({children:t})=>u.jsx(u.Fragment,{children:t});function OF(t){return x.isValidElement(t)&&t.type===Ck}function MF(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function VF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ow(t){const e=t+"CollectionProvider",[n,r]=jF(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:v}=m,_=z.useRef(null),b=z.useRef(new Map).current;return u.jsx(s,{scope:w,itemMap:b,collectionRef:_,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=z.forwardRef((m,w)=>{const{scope:v,children:_}=m,b=i(a,v),y=ct(w,b.collectionRef);return u.jsx(Yi,{ref:y,children:_})});l.displayName=a;const c=t+"CollectionItemSlot",h="data-radix-collection-item",f=z.forwardRef((m,w)=>{const{scope:v,children:_,...b}=m,y=z.useRef(null),E=ct(w,y),A=i(c,v);return z.useEffect(()=>(A.itemMap.set(y,{ref:y,...b}),()=>void A.itemMap.delete(y))),u.jsx(Yi,{[h]:"",ref:E,children:_})});f.displayName=c;function p(m){const w=i(t+"CollectionConsumer",m);return z.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const b=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((A,R)=>b.indexOf(A.ref.current)-b.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},p,r]}function LF(t,e){const n=x.createContext(e),r=i=>{const{children:o,...a}=i,l=x.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=x.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function _d(t,e=[]){let n=[];function r(i,o){const a=x.createContext(o),l=n.length;n=[...n,o];const c=f=>{var b;const{scope:p,children:m,...w}=f,v=((b=p==null?void 0:p[t])==null?void 0:b[l])||a,_=x.useMemo(()=>w,Object.values(w));return u.jsx(v.Provider,{value:_,children:m})};c.displayName=i+"Provider";function h(f,p){var v;const m=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=x.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,FF(s,...e)]}function FF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var UF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Le=UF.reduce((t,e)=>{const n=x.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Yi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Ik(t,e){t&&xa.flushSync(()=>t.dispatchEvent(e))}function Un(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function $F(t,e=globalThis==null?void 0:globalThis.document){const n=Un(t);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var BF="DismissableLayer",Uv="dismissableLayer.update",zF="dismissableLayer.pointerDownOutside",WF="dismissableLayer.focusOutside",pT,Ak=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bd=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=x.useContext(Ak),[h,f]=x.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),w=ct(e,C=>f(C)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(_),y=h?v.indexOf(h):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=b,R=qF(C=>{const S=C.target,I=[...c.branches].some(N=>N.contains(S));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=KF(C=>{const S=C.target;[...c.branches].some(N=>N.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return $F(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),x.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(pT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),mT(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=pT)}},[h,p,n,c]),x.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),mT())},[h,c]),x.useEffect(()=>{const C=()=>m({});return document.addEventListener(Uv,C),()=>document.removeEventListener(Uv,C)},[]),u.jsx(Le.div,{...l,ref:w,style:{pointerEvents:E?A?"auto":"none":void 0,...t.style},onFocusCapture:ve(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ve(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ve(t.onPointerDownCapture,R.onPointerDownCapture)})});bd.displayName=BF;var HF="DismissableLayerBranch",kk=x.forwardRef((t,e)=>{const n=x.useContext(Ak),r=x.useRef(null),s=ct(e,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Le.div,{...t,ref:s})});kk.displayName=HF;function qF(t,e=globalThis==null?void 0:globalThis.document){const n=Un(t),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Pk(zF,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function KF(t,e=globalThis==null?void 0:globalThis.document){const n=Un(t),r=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!r.current&&Pk(WF,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mT(){const t=new CustomEvent(Uv);document.dispatchEvent(t)}function Pk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ik(s,i):s.dispatchEvent(i)}var GF=bd,QF=kk,gn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},YF="Portal",pm=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=x.useState(!1);gn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Ek.createPortal(u.jsx(Le.div,{...r,ref:e}),o):null});pm.displayName=YF;function XF(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var wa=t=>{const{present:e,children:n}=t,r=ZF(e),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=ct(r.ref,JF(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:i}):null};wa.displayName="Presence";function ZF(t){const[e,n]=x.useState(),r=x.useRef({}),s=x.useRef(t),i=x.useRef("none"),o=t?"mounted":"unmounted",[a,l]=XF(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=Sh(r.current);i.current=a==="mounted"?c:"none"},[a]),gn(()=>{const c=r.current,h=s.current;if(h!==t){const p=i.current,m=Sh(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),gn(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=m=>{const v=Sh(r.current).includes(m.animationName);if(m.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=m=>{m.target===e&&(i.current=Sh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Sh(t){return(t==null?void 0:t.animationName)||"none"}function JF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function sa({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=e4({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Un(n),l=x.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function e4({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,s=x.useRef(r),i=Un(e);return x.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var t4="VisuallyHidden",Ed=x.forwardRef((t,e)=>u.jsx(Le.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ed.displayName=t4;var n4=Ed,aw="ToastProvider",[lw,r4,s4]=ow("Toast"),[Rk,nee]=_d("Toast",[s4]),[i4,mm]=Rk(aw),Nk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=x.useState(null),[c,h]=x.useState(0),f=x.useRef(!1),p=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${aw}\`. Expected non-empty \`string\`.`),u.jsx(lw.Provider,{scope:e,children:u.jsx(i4,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>h(m=>m+1),[]),onToastRemove:x.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};Nk.displayName=aw;var jk="ToastViewport",o4=["F8"],$v="toast.viewportPause",Bv="toast.viewportResume",Dk=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=o4,label:s="Notifications ({hotkey})",...i}=t,o=mm(jk,n),a=r4(n),l=x.useRef(null),c=x.useRef(null),h=x.useRef(null),f=x.useRef(null),p=ct(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;x.useEffect(()=>{const _=b=>{var E;r.length!==0&&r.every(A=>b[A]||b.code===A)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),x.useEffect(()=>{const _=l.current,b=f.current;if(w&&_&&b){const y=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent($v);b.dispatchEvent(O),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(Bv);b.dispatchEvent(O),o.isClosePausedRef.current=!1}},A=O=>{!_.contains(O.relatedTarget)&&E()},R=()=>{_.contains(document.activeElement)||E()};return _.addEventListener("focusin",y),_.addEventListener("focusout",A),_.addEventListener("pointermove",y),_.addEventListener("pointerleave",R),window.addEventListener("blur",y),window.addEventListener("focus",E),()=>{_.removeEventListener("focusin",y),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",y),_.removeEventListener("pointerleave",R),window.removeEventListener("blur",y),window.removeEventListener("focus",E)}}},[w,o.isClosePausedRef]);const v=x.useCallback(({tabbingDirection:_})=>{const y=a().map(E=>{const A=E.ref.current,R=[A,...x4(A)];return _==="forwards"?R:R.reverse()});return(_==="forwards"?y.reverse():y).flat()},[a]);return x.useEffect(()=>{const _=f.current;if(_){const b=y=>{var R,O,C;const E=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!E){const S=document.activeElement,I=y.shiftKey;if(y.target===_&&I){(R=c.current)==null||R.focus();return}const j=v({tabbingDirection:I?"backwards":"forwards"}),P=j.findIndex(B=>B===S);ry(j.slice(P+1))?y.preventDefault():I?(O=c.current)==null||O.focus():(C=h.current)==null||C.focus()}};return _.addEventListener("keydown",b),()=>_.removeEventListener("keydown",b)}},[a,v]),u.jsxs(QF,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&u.jsx(zv,{ref:c,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});ry(_)}}),u.jsx(lw.Slot,{scope:n,children:u.jsx(Le.ol,{tabIndex:-1,...i,ref:p})}),w&&u.jsx(zv,{ref:h,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});ry(_)}})]})});Dk.displayName=jk;var Ok="ToastFocusProxy",zv=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=mm(Ok,n);return u.jsx(Ed,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});zv.displayName=Ok;var gm="Toast",a4="toast.swipeStart",l4="toast.swipeMove",c4="toast.swipeCancel",u4="toast.swipeEnd",Mk=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=sa({prop:r,defaultProp:s,onChange:i});return u.jsx(wa,{present:n||a,children:u.jsx(f4,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Un(t.onPause),onResume:Un(t.onResume),onSwipeStart:ve(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(t.onSwipeMove,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ve(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(t.onSwipeEnd,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Mk.displayName=gm;var[d4,h4]=Rk(gm,{onClose(){}}),f4=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...w}=t,v=mm(gm,n),[_,b]=x.useState(null),y=ct(e,B=>b(B)),E=x.useRef(null),A=x.useRef(null),R=s||v.duration,O=x.useRef(0),C=x.useRef(R),S=x.useRef(0),{onToastAdd:I,onToastRemove:N}=v,D=Un(()=>{var re;(_==null?void 0:_.contains(document.activeElement))&&((re=v.viewport)==null||re.focus()),o()}),j=x.useCallback(B=>{!B||B===1/0||(window.clearTimeout(S.current),O.current=new Date().getTime(),S.current=window.setTimeout(D,B))},[D]);x.useEffect(()=>{const B=v.viewport;if(B){const re=()=>{j(C.current),c==null||c()},K=()=>{const se=new Date().getTime()-O.current;C.current=C.current-se,window.clearTimeout(S.current),l==null||l()};return B.addEventListener($v,K),B.addEventListener(Bv,re),()=>{B.removeEventListener($v,K),B.removeEventListener(Bv,re)}}},[v.viewport,R,l,c,j]),x.useEffect(()=>{i&&!v.isClosePausedRef.current&&j(R)},[i,R,v.isClosePausedRef,j]),x.useEffect(()=>(I(),()=>N()),[I,N]);const P=x.useMemo(()=>_?zk(_):null,[_]);return v.viewport?u.jsxs(u.Fragment,{children:[P&&u.jsx(p4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),u.jsx(d4,{scope:n,onClose:D,children:xa.createPortal(u.jsx(lw.ItemSlot,{scope:n,children:u.jsx(GF,{asChild:!0,onEscapeKeyDown:ve(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ve(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ve(t.onPointerDown,B=>{B.button===0&&(E.current={x:B.clientX,y:B.clientY})}),onPointerMove:ve(t.onPointerMove,B=>{if(!E.current)return;const re=B.clientX-E.current.x,K=B.clientY-E.current.y,se=!!A.current,F=["left","right"].includes(v.swipeDirection),H=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,oe=F?H(0,re):0,G=F?0:H(0,K),ae=B.pointerType==="touch"?10:2,pe={x:oe,y:G},Be={originalEvent:B,delta:pe};se?(A.current=pe,Ch(l4,f,Be,{discrete:!1})):gT(pe,v.swipeDirection,ae)?(A.current=pe,Ch(a4,h,Be,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(re)>ae||Math.abs(K)>ae)&&(E.current=null)}),onPointerUp:ve(t.onPointerUp,B=>{const re=A.current,K=B.target;if(K.hasPointerCapture(B.pointerId)&&K.releasePointerCapture(B.pointerId),A.current=null,E.current=null,re){const se=B.currentTarget,F={originalEvent:B,delta:re};gT(re,v.swipeDirection,v.swipeThreshold)?Ch(u4,m,F,{discrete:!0}):Ch(c4,p,F,{discrete:!0}),se.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),p4=t=>{const{__scopeToast:e,children:n,...r}=t,s=mm(gm,e),[i,o]=x.useState(!1),[a,l]=x.useState(!1);return y4(()=>o(!0)),x.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(pm,{asChild:!0,children:u.jsx(Ed,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},m4="ToastTitle",Vk=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Le.div,{...r,ref:e})});Vk.displayName=m4;var g4="ToastDescription",Lk=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Le.div,{...r,ref:e})});Lk.displayName=g4;var Fk="ToastAction",Uk=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(Bk,{altText:n,asChild:!0,children:u.jsx(cw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Fk}\`. Expected non-empty \`string\`.`),null)});Uk.displayName=Fk;var $k="ToastClose",cw=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=h4($k,n);return u.jsx(Bk,{asChild:!0,children:u.jsx(Le.button,{type:"button",...r,ref:e,onClick:ve(t.onClick,s.onClose)})})});cw.displayName=$k;var Bk=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function zk(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),v4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...zk(r))}}),e}function Ch(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ik(s,i):s.dispatchEvent(i)}var gT=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function y4(t=()=>{}){const e=Un(t);gn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function v4(t){return t.nodeType===t.ELEMENT_NODE}function x4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ry(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var w4=Nk,Wk=Dk,Hk=Mk,qk=Vk,Kk=Lk,Gk=Uk,Qk=cw;function Yk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Yk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Xk(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Yk(t))&&(r&&(r+=" "),r+=e);return r}const yT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vT=Xk,Td=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return vT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],f=i==null?void 0:i[c];if(h===null)return null;const p=yT(h)||yT(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,h)=>{let[f,p]=h;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:p,...m}=h;return Object.entries(m).every(w=>{let[v,_]=w;return Array.isArray(_)?_.includes({...i,...a}[v]):{...i,...a}[v]===_})?[...c,f,p]:c},[]);return vT(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...b4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Zk("lucide",s),...a},[...o.map(([c,h])=>x.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=x.forwardRef(({className:r,...s},i)=>x.createElement(E4,{ref:i,iconNode:e,className:Zk(`lucide-${_4(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=je("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=je("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=je("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=je("CircleArrowRight",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=je("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=je("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=je("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=je("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=je("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=je("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=je("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=je("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=je("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=je("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=je("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=je("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=je("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=je("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pw="-",H4=t=>{const e=K4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(pw);return a[0]===""&&a.length!==1&&a.shift(),rP(a,e)||q4(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},rP=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?rP(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(pw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},_T=/^\[(.+)\]$/,q4=t=>{if(_T.test(t)){const e=_T.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},K4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Q4(Object.entries(t.classGroups),n).forEach(([i,o])=>{Gv(o,r,i,e)}),r},Gv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:bT(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(G4(s)){Gv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Gv(o,bT(e,i),n,r)})})},bT=(t,e)=>{let n=t;return e.split(pw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},G4=t=>t.isThemeGetter,Q4=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Y4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},sP="!",X4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,h=0,f;for(let _=0;_<a.length;_++){let b=a[_];if(c===0){if(b===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(h,_)),h=_+i;continue}if(b==="/"){f=_;continue}}b==="["?c++:b==="]"&&c--}const p=l.length===0?a:a.substring(h),m=p.startsWith(sP),w=m?p.substring(1):p,v=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},Z4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},J4=t=>({cache:Y4(t.cacheSize),parseClassName:X4(t),...H4(t)}),e5=/\s+/,t5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(e5);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let w=!!m,v=r(w?p.substring(0,m):p);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const _=Z4(h).join(":"),b=f?_+sP:_,y=b+v;if(i.includes(y))continue;i.push(y);const E=s(v,w);for(let A=0;A<E.length;++A){const R=E[A];i.push(b+R)}a=c+(a.length>0?" "+a:a)}return a};function n5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=iP(e))&&(r&&(r+=" "),r+=n);return r}const iP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=iP(t[r]))&&(n&&(n+=" "),n+=e);return n};function r5(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((h,f)=>f(h),t());return n=J4(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=t5(l,n);return s(l,h),h}return function(){return i(n5.apply(null,arguments))}}const ht=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},oP=/^\[(?:([a-z-]+):)?(.+)\]$/i,s5=/^\d+\/\d+$/,i5=new Set(["px","full","screen"]),o5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,c5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,u5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xs=t=>fl(t)||i5.has(t)||s5.test(t),ai=t=>oc(t,"length",v5),fl=t=>!!t&&!Number.isNaN(Number(t)),sy=t=>oc(t,"number",fl),Lc=t=>!!t&&Number.isInteger(Number(t)),d5=t=>t.endsWith("%")&&fl(t.slice(0,-1)),Ve=t=>oP.test(t),li=t=>o5.test(t),h5=new Set(["length","size","percentage"]),f5=t=>oc(t,h5,aP),p5=t=>oc(t,"position",aP),m5=new Set(["image","url"]),g5=t=>oc(t,m5,w5),y5=t=>oc(t,"",x5),Fc=()=>!0,oc=(t,e,n)=>{const r=oP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},v5=t=>a5.test(t)&&!l5.test(t),aP=()=>!1,x5=t=>c5.test(t),w5=t=>u5.test(t),_5=()=>{const t=ht("colors"),e=ht("spacing"),n=ht("blur"),r=ht("brightness"),s=ht("borderColor"),i=ht("borderRadius"),o=ht("borderSpacing"),a=ht("borderWidth"),l=ht("contrast"),c=ht("grayscale"),h=ht("hueRotate"),f=ht("invert"),p=ht("gap"),m=ht("gradientColorStops"),w=ht("gradientColorStopPositions"),v=ht("inset"),_=ht("margin"),b=ht("opacity"),y=ht("padding"),E=ht("saturate"),A=ht("scale"),R=ht("sepia"),O=ht("skew"),C=ht("space"),S=ht("translate"),I=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ve,e],j=()=>[Ve,e],P=()=>["",xs,ai],B=()=>["auto",fl,Ve],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Ve],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[fl,Ve];return{cacheSize:500,separator:":",theme:{colors:[Fc],spacing:[xs,ai],blur:["none","",li,Ve],brightness:G(),borderColor:[t],borderRadius:["none","","full",li,Ve],borderSpacing:j(),borderWidth:P(),contrast:G(),grayscale:H(),hueRotate:G(),invert:H(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[d5,ai],inset:D(),margin:D(),opacity:G(),padding:j(),saturate:G(),scale:G(),sepia:H(),skew:G(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[li]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),Ve]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lc,Ve]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Lc,Ve]}],"grid-cols":[{"grid-cols":[Fc]}],"col-start-end":[{col:["auto",{span:["full",Lc,Ve]},Ve]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Fc]}],"row-start-end":[{row:["auto",{span:[Lc,Ve]},Ve]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[li]},li]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",li,ai]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sy]}],"font-family":[{font:[Fc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",fl,sy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xs,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xs,ai]}],"underline-offset":[{"underline-offset":["auto",xs,Ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),p5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",f5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},g5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[xs,Ve]}],"outline-w":[{outline:[xs,ai]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[xs,ai]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",li,y5]}],"shadow-color":[{shadow:[Fc]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",li,Ve]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Lc,Ve]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xs,ai,sy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},b5=r5(_5);function Ae(...t){return b5(Xk(t))}const E5=w4,lP=x.forwardRef(({className:t,...e},n)=>u.jsx(Wk,{ref:n,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));lP.displayName=Wk.displayName;const T5=Td("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cP=x.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(Hk,{ref:r,className:Ae(T5({variant:e}),t),...n}));cP.displayName=Hk.displayName;const S5=x.forwardRef(({className:t,...e},n)=>u.jsx(Gk,{ref:n,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));S5.displayName=Gk.displayName;const uP=x.forwardRef(({className:t,...e},n)=>u.jsx(Qk,{ref:n,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(ic,{className:"h-4 w-4"})}));uP.displayName=Qk.displayName;const dP=x.forwardRef(({className:t,...e},n)=>u.jsx(qk,{ref:n,className:Ae("text-sm font-semibold",t),...e}));dP.displayName=qk.displayName;const hP=x.forwardRef(({className:t,...e},n)=>u.jsx(Kk,{ref:n,className:Ae("text-sm opacity-90",t),...e}));hP.displayName=Kk.displayName;function C5(){const{toasts:t}=zn();return u.jsxs(E5,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(cP,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(dP,{children:n}),r&&u.jsx(hP,{children:r})]}),s,u.jsx(uP,{})]},e)}),u.jsx(lP,{})]})}var ET=["light","dark"],I5="(prefers-color-scheme: dark)",A5=x.createContext(void 0),k5={setTheme:t=>{},themes:[]},P5=()=>{var t;return(t=x.useContext(A5))!=null?t:k5};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?ET.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(w,v=!1,_=!0)=>{let b=o?o[w]:w,y=v?w+"|| ''":`'${b}'`,E="";return s&&_&&!v&&ET.includes(w)&&(E+=`d.style.colorScheme = '${w}';`),n==="class"?v||b?E+=`c.add(${y})`:E+="null":b&&(E+=`d[s](n,${y})`),E},m=t?`!function(){${h}${p(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${I5}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var R5=t=>{switch(t){case"success":return D5;case"info":return M5;case"warning":return O5;case"error":return V5;default:return null}},N5=Array(12).fill(0),j5=({visible:t})=>z.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},z.createElement("div",{className:"sonner-spinner"},N5.map((e,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),D5=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),O5=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),M5=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),V5=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),L5=()=>{let[t,e]=z.useState(document.hidden);return z.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Qv=1,F5=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Qv++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if($5(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Qv++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Kn=new F5,U5=(t,e)=>{let n=(e==null?void 0:e.id)||Qv++;return Kn.addToast({title:t,...e,id:n}),n},$5=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",B5=U5,z5=()=>Kn.toasts;Object.assign(B5,{success:Kn.success,info:Kn.info,warning:Kn.warning,error:Kn.error,custom:Kn.custom,message:Kn.message,promise:Kn.promise,dismiss:Kn.dismiss,loading:Kn.loading},{getHistory:z5});function W5(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}W5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ih(t){return t.label!==void 0}var H5=3,q5="32px",K5=4e3,G5=356,Q5=14,Y5=20,X5=200;function Z5(...t){return t.filter(Boolean).join(" ")}var J5=t=>{var e,n,r,s,i,o,a,l,c,h;let{invert:f,toast:p,unstyled:m,interacting:w,setHeights:v,visibleToasts:_,heights:b,index:y,toasts:E,expanded:A,removeToast:R,defaultRichColors:O,closeButton:C,style:S,cancelButtonStyle:I,actionButtonStyle:N,className:D="",descriptionClassName:j="",duration:P,position:B,gap:re,loadingIcon:K,expandByDefault:se,classNames:F,icons:H,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:G,cn:ae}=t,[pe,Be]=z.useState(!1),[tt,be]=z.useState(!1),[de,Ue]=z.useState(!1),[Ze,ke]=z.useState(!1),[Ee,Oe]=z.useState(0),[ut,jt]=z.useState(0),Wn=z.useRef(null),tn=z.useRef(null),Br=y===0,M=y+1<=_,V=p.type,$=p.dismissible!==!1,ie=p.className||"",ee=p.descriptionClassName||"",Y=z.useMemo(()=>b.findIndex(Ce=>Ce.toastId===p.id)||0,[b,p.id]),me=z.useMemo(()=>{var Ce;return(Ce=p.closeButton)!=null?Ce:C},[p.closeButton,C]),Pe=z.useMemo(()=>p.duration||P||K5,[p.duration,P]),$e=z.useRef(0),Me=z.useRef(0),xn=z.useRef(0),wr=z.useRef(null),[ms,wo]=B.split("-"),zr=z.useMemo(()=>b.reduce((Ce,it,nt)=>nt>=Y?Ce:Ce+it.height,0),[b,Y]),ti=L5(),ka=p.invert||f,Wr=V==="loading";Me.current=z.useMemo(()=>Y*re+zr,[Y,zr]),z.useEffect(()=>{Be(!0)},[]),z.useLayoutEffect(()=>{if(!pe)return;let Ce=tn.current,it=Ce.style.height;Ce.style.height="auto";let nt=Ce.getBoundingClientRect().height;Ce.style.height=it,jt(nt),v(nn=>nn.find(Rn=>Rn.toastId===p.id)?nn.map(Rn=>Rn.toastId===p.id?{...Rn,height:nt}:Rn):[{toastId:p.id,height:nt,position:p.position},...nn])},[pe,p.title,p.description,v,p.id]);let Hr=z.useCallback(()=>{be(!0),Oe(Me.current),v(Ce=>Ce.filter(it=>it.toastId!==p.id)),setTimeout(()=>{R(p)},X5)},[p,R,v,Me]);z.useEffect(()=>{if(p.promise&&V==="loading"||p.duration===1/0||p.type==="loading")return;let Ce,it=Pe;return A||w||G&&ti?(()=>{if(xn.current<$e.current){let nt=new Date().getTime()-$e.current;it=it-nt}xn.current=new Date().getTime()})():it!==1/0&&($e.current=new Date().getTime(),Ce=setTimeout(()=>{var nt;(nt=p.onAutoClose)==null||nt.call(p,p),Hr()},it)),()=>clearTimeout(Ce)},[A,w,se,p,Pe,Hr,p.promise,V,G,ti]),z.useEffect(()=>{let Ce=tn.current;if(Ce){let it=Ce.getBoundingClientRect().height;return jt(it),v(nt=>[{toastId:p.id,height:it,position:p.position},...nt]),()=>v(nt=>nt.filter(nn=>nn.toastId!==p.id))}},[v,p.id]),z.useEffect(()=>{p.delete&&Hr()},[Hr,p.delete]);function mg(){return H!=null&&H.loading?z.createElement("div",{className:"sonner-loader","data-visible":V==="loading"},H.loading):K?z.createElement("div",{className:"sonner-loader","data-visible":V==="loading"},K):z.createElement(j5,{visible:V==="loading"})}return z.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:tn,className:ae(D,ie,F==null?void 0:F.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[V],(n=p==null?void 0:p.classNames)==null?void 0:n[V]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:O,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":pe,"data-promise":!!p.promise,"data-removed":tt,"data-visible":M,"data-y-position":ms,"data-x-position":wo,"data-index":y,"data-front":Br,"data-swiping":de,"data-dismissible":$,"data-type":V,"data-invert":ka,"data-swipe-out":Ze,"data-expanded":!!(A||se&&pe),style:{"--index":y,"--toasts-before":y,"--z-index":E.length-y,"--offset":`${tt?Ee:Me.current}px`,"--initial-height":se?"auto":`${ut}px`,...S,...p.style},onPointerDown:Ce=>{Wr||!$||(Wn.current=new Date,Oe(Me.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(Ue(!0),wr.current={x:Ce.clientX,y:Ce.clientY}))},onPointerUp:()=>{var Ce,it,nt,nn;if(Ze||!$)return;wr.current=null;let Rn=Number(((Ce=tn.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ni=new Date().getTime()-((it=Wn.current)==null?void 0:it.getTime()),gs=Math.abs(Rn)/ni;if(Math.abs(Rn)>=Y5||gs>.11){Oe(Me.current),(nt=p.onDismiss)==null||nt.call(p,p),Hr(),ke(!0);return}(nn=tn.current)==null||nn.style.setProperty("--swipe-amount","0px"),Ue(!1)},onPointerMove:Ce=>{var it;if(!wr.current||!$)return;let nt=Ce.clientY-wr.current.y,nn=Ce.clientX-wr.current.x,Rn=(ms==="top"?Math.min:Math.max)(0,nt),ni=Ce.pointerType==="touch"?10:2;Math.abs(Rn)>ni?(it=tn.current)==null||it.style.setProperty("--swipe-amount",`${nt}px`):Math.abs(nn)>ni&&(wr.current=null)}},me&&!p.jsx?z.createElement("button",{"aria-label":oe,"data-disabled":Wr,"data-close-button":!0,onClick:Wr||!$?()=>{}:()=>{var Ce;Hr(),(Ce=p.onDismiss)==null||Ce.call(p,p)},className:ae(F==null?void 0:F.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||z.isValidElement(p.title)?p.jsx||p.title:z.createElement(z.Fragment,null,V||p.icon||p.promise?z.createElement("div",{"data-icon":"",className:ae(F==null?void 0:F.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||mg():null,p.type!=="loading"?p.icon||(H==null?void 0:H[V])||R5(V):null):null,z.createElement("div",{"data-content":"",className:ae(F==null?void 0:F.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},z.createElement("div",{"data-title":"",className:ae(F==null?void 0:F.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?z.createElement("div",{"data-description":"",className:ae(j,ee,F==null?void 0:F.description,(l=p==null?void 0:p.classNames)==null?void 0:l.description)},p.description):null),z.isValidElement(p.cancel)?p.cancel:p.cancel&&Ih(p.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:Ce=>{var it,nt;Ih(p.cancel)&&$&&((nt=(it=p.cancel).onClick)==null||nt.call(it,Ce),Hr())},className:ae(F==null?void 0:F.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,z.isValidElement(p.action)?p.action:p.action&&Ih(p.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:Ce=>{var it,nt;Ih(p.action)&&(Ce.defaultPrevented||((nt=(it=p.action).onClick)==null||nt.call(it,Ce),Hr()))},className:ae(F==null?void 0:F.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function TT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var eU=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:h,style:f,visibleToasts:p=H5,toastOptions:m,dir:w=TT(),gap:v=Q5,loadingIcon:_,icons:b,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:E,cn:A=Z5}=t,[R,O]=z.useState([]),C=z.useMemo(()=>Array.from(new Set([n].concat(R.filter(G=>G.position).map(G=>G.position)))),[R,n]),[S,I]=z.useState([]),[N,D]=z.useState(!1),[j,P]=z.useState(!1),[B,re]=z.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=z.useRef(null),se=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=z.useRef(null),H=z.useRef(!1),oe=z.useCallback(G=>{var ae;(ae=R.find(pe=>pe.id===G.id))!=null&&ae.delete||Kn.dismiss(G.id),O(pe=>pe.filter(({id:Be})=>Be!==G.id))},[R]);return z.useEffect(()=>Kn.subscribe(G=>{if(G.dismiss){O(ae=>ae.map(pe=>pe.id===G.id?{...pe,delete:!0}:pe));return}setTimeout(()=>{Ek.flushSync(()=>{O(ae=>{let pe=ae.findIndex(Be=>Be.id===G.id);return pe!==-1?[...ae.slice(0,pe),{...ae[pe],...G},...ae.slice(pe+1)]:[G,...ae]})})})}),[]),z.useEffect(()=>{if(l!=="system"){re(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{re(G?"dark":"light")})},[l]),z.useEffect(()=>{R.length<=1&&D(!1)},[R]),z.useEffect(()=>{let G=ae=>{var pe,Be;r.every(tt=>ae[tt]||ae.code===tt)&&(D(!0),(pe=K.current)==null||pe.focus()),ae.code==="Escape"&&(document.activeElement===K.current||(Be=K.current)!=null&&Be.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[r]),z.useEffect(()=>{if(K.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,H.current=!1)}},[K.current]),R.length?z.createElement("section",{"aria-label":`${y} ${se}`,tabIndex:-1},C.map((G,ae)=>{var pe;let[Be,tt]=G.split("-");return z.createElement("ol",{key:G,dir:w==="auto"?TT():w,tabIndex:-1,ref:K,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":Be,"data-x-position":tt,style:{"--front-toast-height":`${((pe=S[0])==null?void 0:pe.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||q5,"--width":`${G5}px`,"--gap":`${v}px`,...f},onBlur:be=>{H.current&&!be.currentTarget.contains(be.relatedTarget)&&(H.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||H.current||(H.current=!0,F.current=be.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{j||D(!1)},onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},R.filter(be=>!be.position&&ae===0||be.position===G).map((be,de)=>{var Ue,Ze;return z.createElement(J5,{key:be.id,icons:b,index:de,toast:be,defaultRichColors:c,duration:(Ue=m==null?void 0:m.duration)!=null?Ue:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:p,closeButton:(Ze=m==null?void 0:m.closeButton)!=null?Ze:i,interacting:j,position:G,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:oe,toasts:R.filter(ke=>ke.position==be.position),heights:S.filter(ke=>ke.position==be.position),setHeights:I,expandByDefault:s,gap:v,loadingIcon:_,expanded:N,pauseWhenPageIsHidden:E,cn:A})}))})):null};const tU=({...t})=>{const{theme:e="system"}=P5();return u.jsx(eU,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var nU=wI.useId||(()=>{}),rU=0;function Ds(t){const[e,n]=x.useState(nU());return gn(()=>{n(r=>r??String(rU++))},[t]),e?`radix-${e}`:""}const sU=["top","right","bottom","left"],Zi=Math.min,Qn=Math.max,Kf=Math.round,Ah=Math.floor,Ji=t=>({x:t,y:t}),iU={left:"right",right:"left",bottom:"top",top:"bottom"},oU={start:"end",end:"start"};function Yv(t,e,n){return Qn(t,Zi(e,n))}function Hs(t,e){return typeof t=="function"?t(e):t}function qs(t){return t.split("-")[0]}function ac(t){return t.split("-")[1]}function mw(t){return t==="x"?"y":"x"}function gw(t){return t==="y"?"height":"width"}function eo(t){return["top","bottom"].includes(qs(t))?"y":"x"}function yw(t){return mw(eo(t))}function aU(t,e,n){n===void 0&&(n=!1);const r=ac(t),s=yw(t),i=gw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Gf(o)),[o,Gf(o)]}function lU(t){const e=Gf(t);return[Xv(t),e,Xv(e)]}function Xv(t){return t.replace(/start|end/g,e=>oU[e])}function cU(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function uU(t,e,n,r){const s=ac(t);let i=cU(qs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Xv)))),i}function Gf(t){return t.replace(/left|right|bottom|top/g,e=>iU[e])}function dU(t){return{top:0,right:0,bottom:0,left:0,...t}}function fP(t){return typeof t!="number"?dU(t):{top:t,right:t,bottom:t,left:t}}function Qf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ST(t,e,n){let{reference:r,floating:s}=t;const i=eo(e),o=yw(e),a=gw(o),l=qs(e),c=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:h,y:r.y-s.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(ac(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const hU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=ST(c,r,l),p=r,m={},w=0;for(let v=0;v<a.length;v++){const{name:_,fn:b}=a[v],{x:y,y:E,data:A,reset:R}=await b({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});h=y??h,f=E??f,m={...m,[_]:{...m[_],...A}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(c=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):R.rects),{x:h,y:f}=ST(c,p,l)),v=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:m}};async function qu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Hs(e,t),w=fP(m),_=a[p?f==="floating"?"reference":"floating":f],b=Qf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},R=Qf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:E,strategy:l}):y);return{top:(b.top-R.top+w.top)/A.y,bottom:(R.bottom-b.bottom+w.bottom)/A.y,left:(b.left-R.left+w.left)/A.x,right:(R.right-b.right+w.right)/A.x}}const fU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=Hs(t,e)||{};if(c==null)return{};const f=fP(h),p={x:n,y:r},m=yw(s),w=gw(m),v=await o.getDimensions(c),_=m==="y",b=_?"top":"left",y=_?"bottom":"right",E=_?"clientHeight":"clientWidth",A=i.reference[w]+i.reference[m]-p[m]-i.floating[w],R=p[m]-i.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=O?O[E]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[E]||i.floating[w]);const S=A/2-R/2,I=C/2-v[w]/2-1,N=Zi(f[b],I),D=Zi(f[y],I),j=N,P=C-v[w]-D,B=C/2-v[w]/2+S,re=Yv(j,B,P),K=!l.arrow&&ac(s)!=null&&B!==re&&i.reference[w]/2-(B<j?N:D)-v[w]/2<0,se=K?B<j?B-j:B-P:0;return{[m]:p[m]+se,data:{[m]:re,centerOffset:B-re-se,...K&&{alignmentOffset:se}},reset:K}}}),pU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,..._}=Hs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=qs(s),y=eo(a),E=qs(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),R=p||(E||!v?[Gf(a)]:lU(a)),O=w!=="none";!p&&O&&R.push(...uU(a,v,w,A));const C=[a,...R],S=await qu(e,_),I=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(S[b]),f){const B=aU(s,o,A);I.push(S[B[0]],S[B[1]])}if(N=[...N,{placement:s,overflows:I}],!I.every(B=>B<=0)){var D,j;const B=(((D=i.flip)==null?void 0:D.index)||0)+1,re=C[B];if(re)return{data:{index:B,overflows:N},reset:{placement:re}};let K=(j=N.filter(se=>se.overflows[0]<=0).sort((se,F)=>se.overflows[1]-F.overflows[1])[0])==null?void 0:j.placement;if(!K)switch(m){case"bestFit":{var P;const se=(P=N.filter(F=>{if(O){const H=eo(F.placement);return H===y||H==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(H=>H>0).reduce((H,oe)=>H+oe,0)]).sort((F,H)=>F[1]-H[1])[0])==null?void 0:P[0];se&&(K=se);break}case"initialPlacement":K=a;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function CT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function IT(t){return sU.some(e=>t[e]>=0)}const mU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Hs(t,e);switch(r){case"referenceHidden":{const i=await qu(e,{...s,elementContext:"reference"}),o=CT(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:IT(o)}}}case"escaped":{const i=await qu(e,{...s,altBoundary:!0}),o=CT(i,n.floating);return{data:{escapedOffsets:o,escaped:IT(o)}}}default:return{}}}}};async function gU(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=qs(n),a=ac(n),l=eo(n)==="y",c=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,f=Hs(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*h,y:p*c}:{x:p*c,y:m*h}}const yU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await gU(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},vU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:b,y}=_;return{x:b,y}}},...l}=Hs(t,e),c={x:n,y:r},h=await qu(e,l),f=eo(qs(s)),p=mw(f);let m=c[p],w=c[f];if(i){const _=p==="y"?"top":"left",b=p==="y"?"bottom":"right",y=m+h[_],E=m-h[b];m=Yv(y,m,E)}if(o){const _=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=w+h[_],E=w-h[b];w=Yv(y,w,E)}const v=a.fn({...e,[p]:m,[f]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[f]:o}}}}}},xU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Hs(t,e),h={x:n,y:r},f=eo(s),p=mw(f);let m=h[p],w=h[f];const v=Hs(a,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const E=p==="y"?"height":"width",A=i.reference[p]-i.floating[E]+_.mainAxis,R=i.reference[p]+i.reference[E]-_.mainAxis;m<A?m=A:m>R&&(m=R)}if(c){var b,y;const E=p==="y"?"width":"height",A=["top","left"].includes(qs(s)),R=i.reference[f]-i.floating[E]+(A&&((b=o.offset)==null?void 0:b[f])||0)+(A?0:_.crossAxis),O=i.reference[f]+i.reference[E]+(A?0:((y=o.offset)==null?void 0:y[f])||0)-(A?_.crossAxis:0);w<R?w=R:w>O&&(w=O)}return{[p]:m,[f]:w}}}},wU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Hs(t,e),h=await qu(e,c),f=qs(s),p=ac(s),m=eo(s)==="y",{width:w,height:v}=i.floating;let _,b;f==="top"||f==="bottom"?(_=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,_=p==="end"?"top":"bottom");const y=v-h.top-h.bottom,E=w-h.left-h.right,A=Zi(v-h[_],y),R=Zi(w-h[b],E),O=!e.middlewareData.shift;let C=A,S=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),O&&!p){const N=Qn(h.left,0),D=Qn(h.right,0),j=Qn(h.top,0),P=Qn(h.bottom,0);m?S=w-2*(N!==0||D!==0?N+D:Qn(h.left,h.right)):C=v-2*(j!==0||P!==0?j+P:Qn(h.top,h.bottom))}await l({...e,availableWidth:S,availableHeight:C});const I=await o.getDimensions(a.floating);return w!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function vm(){return typeof window<"u"}function lc(t){return pP(t)?(t.nodeName||"").toLowerCase():"#document"}function Jn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fs(t){var e;return(e=(pP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pP(t){return vm()?t instanceof Node||t instanceof Jn(t).Node:!1}function Dr(t){return vm()?t instanceof Element||t instanceof Jn(t).Element:!1}function cs(t){return vm()?t instanceof HTMLElement||t instanceof Jn(t).HTMLElement:!1}function AT(t){return!vm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Jn(t).ShadowRoot}function Sd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Or(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function _U(t){return["table","td","th"].includes(lc(t))}function xm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function vw(t){const e=xw(),n=Dr(t)?Or(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function bU(t){let e=to(t);for(;cs(e)&&!Ul(e);){if(vw(e))return e;if(xm(e))return null;e=to(e)}return null}function xw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ul(t){return["html","body","#document"].includes(lc(t))}function Or(t){return Jn(t).getComputedStyle(t)}function wm(t){return Dr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function to(t){if(lc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||AT(t)&&t.host||fs(t);return AT(e)?e.host:e}function mP(t){const e=to(t);return Ul(e)?t.ownerDocument?t.ownerDocument.body:t.body:cs(e)&&Sd(e)?e:mP(e)}function Ku(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=mP(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Jn(s);if(i){const a=Zv(o);return e.concat(o,o.visualViewport||[],Sd(s)?s:[],a&&n?Ku(a):[])}return e.concat(s,Ku(s,[],n))}function Zv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gP(t){const e=Or(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=cs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Kf(n)!==i||Kf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function ww(t){return Dr(t)?t:t.contextElement}function pl(t){const e=ww(t);if(!cs(e))return Ji(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=gP(e);let o=(i?Kf(n.width):n.width)/r,a=(i?Kf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const EU=Ji(0);function yP(t){const e=Jn(t);return!xw()||!e.visualViewport?EU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Jn(t)?!1:e}function ia(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ww(t);let o=Ji(1);e&&(r?Dr(r)&&(o=pl(r)):o=pl(t));const a=TU(i,n,r)?yP(i):Ji(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=Jn(i),m=r&&Dr(r)?Jn(r):r;let w=p,v=Zv(w);for(;v&&r&&m!==w;){const _=pl(v),b=v.getBoundingClientRect(),y=Or(v),E=b.left+(v.clientLeft+parseFloat(y.paddingLeft))*_.x,A=b.top+(v.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,c*=_.y,h*=_.x,f*=_.y,l+=E,c+=A,w=Jn(v),v=Zv(w)}}return Qf({width:h,height:f,x:l,y:c})}function SU(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=fs(r),a=e?xm(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Ji(1);const h=Ji(0),f=cs(r);if((f||!f&&!i)&&((lc(r)!=="body"||Sd(o))&&(l=wm(r)),cs(r))){const p=ia(r);c=pl(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x,y:n.y*c.y-l.scrollTop*c.y+h.y}}function CU(t){return Array.from(t.getClientRects())}function Jv(t,e){const n=wm(t).scrollLeft;return e?e.left+n:ia(fs(t)).left+n}function IU(t){const e=fs(t),n=wm(t),r=t.ownerDocument.body,s=Qn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Qn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Jv(t);const a=-n.scrollTop;return Or(r).direction==="rtl"&&(o+=Qn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function AU(t,e){const n=Jn(t),r=fs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=xw();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function kU(t,e){const n=ia(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=cs(t)?pl(t):Ji(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function kT(t,e,n){let r;if(e==="viewport")r=AU(t,n);else if(e==="document")r=IU(fs(t));else if(Dr(e))r=kU(e,n);else{const s=yP(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Qf(r)}function vP(t,e){const n=to(t);return n===e||!Dr(n)||Ul(n)?!1:Or(n).position==="fixed"||vP(n,e)}function PU(t,e){const n=e.get(t);if(n)return n;let r=Ku(t,[],!1).filter(a=>Dr(a)&&lc(a)!=="body"),s=null;const i=Or(t).position==="fixed";let o=i?to(t):t;for(;Dr(o)&&!Ul(o);){const a=Or(o),l=vw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Sd(o)&&!l&&vP(t,o))?r=r.filter(h=>h!==o):s=a,o=to(o)}return e.set(t,r),r}function RU(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?xm(e)?[]:PU(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const f=kT(e,h,s);return c.top=Qn(f.top,c.top),c.right=Zi(f.right,c.right),c.bottom=Zi(f.bottom,c.bottom),c.left=Qn(f.left,c.left),c},kT(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function NU(t){const{width:e,height:n}=gP(t);return{width:e,height:n}}function jU(t,e,n){const r=cs(e),s=fs(e),i=n==="fixed",o=ia(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ji(0);if(r||!r&&!i)if((lc(e)!=="body"||Sd(s))&&(a=wm(e)),r){const m=ia(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=Jv(s));let c=0,h=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();h=m.top+a.scrollTop,c=m.left+a.scrollLeft-Jv(s,m)}const f=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-h;return{x:f,y:p,width:o.width,height:o.height}}function iy(t){return Or(t).position==="static"}function PT(t,e){if(!cs(t)||Or(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fs(t)===n&&(n=n.ownerDocument.body),n}function xP(t,e){const n=Jn(t);if(xm(t))return n;if(!cs(t)){let s=to(t);for(;s&&!Ul(s);){if(Dr(s)&&!iy(s))return s;s=to(s)}return n}let r=PT(t,e);for(;r&&_U(r)&&iy(r);)r=PT(r,e);return r&&Ul(r)&&iy(r)&&!vw(r)?n:r||bU(t)||n}const DU=async function(t){const e=this.getOffsetParent||xP,n=this.getDimensions,r=await n(t.floating);return{reference:jU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OU(t){return Or(t).direction==="rtl"}const MU={convertOffsetParentRelativeRectToViewportRelativeRect:SU,getDocumentElement:fs,getClippingRect:RU,getOffsetParent:xP,getElementRects:DU,getClientRects:CU,getDimensions:NU,getScale:pl,isElement:Dr,isRTL:OU};function VU(t,e){let n=null,r;const s=fs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:h,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const m=Ah(h),w=Ah(s.clientWidth-(c+f)),v=Ah(s.clientHeight-(h+p)),_=Ah(c),y={rootMargin:-m+"px "+-w+"px "+-v+"px "+-_+"px",threshold:Qn(0,Zi(1,l))||1};let E=!0;function A(R){const O=R[0].intersectionRatio;if(O!==l){if(!E)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(A,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,y)}n.observe(t)}return o(!0),i}function LU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ww(t),h=s||i?[...c?Ku(c):[],...Ku(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=c&&a?VU(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(b=>{let[y]=b;y&&y.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let w,v=l?ia(t):null;l&&_();function _(){const b=ia(t);v&&(b.x!==v.x||b.y!==v.y||b.width!==v.width||b.height!==v.height)&&n(),v=b,w=requestAnimationFrame(_)}return n(),()=>{var b;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const FU=yU,UU=vU,$U=pU,BU=wU,zU=mU,RT=fU,WU=xU,HU=(t,e,n)=>{const r=new Map,s={platform:MU,...n},i={...s.platform,_c:r};return hU(t,e,{...s,platform:i})};var lf=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Yf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Yf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Yf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function wP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function NT(t,e){const n=wP(t);return Math.round(e*n)/n}function oy(t){const e=x.useRef(t);return lf(()=>{e.current=t}),e}function qU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,f]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=x.useState(r);Yf(p,r)||m(r);const[w,v]=x.useState(null),[_,b]=x.useState(null),y=x.useCallback(F=>{F!==O.current&&(O.current=F,v(F))},[]),E=x.useCallback(F=>{F!==C.current&&(C.current=F,b(F))},[]),A=i||w,R=o||_,O=x.useRef(null),C=x.useRef(null),S=x.useRef(h),I=l!=null,N=oy(l),D=oy(s),j=oy(c),P=x.useCallback(()=>{if(!O.current||!C.current)return;const F={placement:e,strategy:n,middleware:p};D.current&&(F.platform=D.current),HU(O.current,C.current,F).then(H=>{const oe={...H,isPositioned:j.current!==!1};B.current&&!Yf(S.current,oe)&&(S.current=oe,xa.flushSync(()=>{f(oe)}))})},[p,e,n,D,j]);lf(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const B=x.useRef(!1);lf(()=>(B.current=!0,()=>{B.current=!1}),[]),lf(()=>{if(A&&(O.current=A),R&&(C.current=R),A&&R){if(N.current)return N.current(A,R,P);P()}},[A,R,P,N,I]);const re=x.useMemo(()=>({reference:O,floating:C,setReference:y,setFloating:E}),[y,E]),K=x.useMemo(()=>({reference:A,floating:R}),[A,R]),se=x.useMemo(()=>{const F={position:n,left:0,top:0};if(!K.floating)return F;const H=NT(K.floating,h.x),oe=NT(K.floating,h.y);return a?{...F,transform:"translate("+H+"px, "+oe+"px)",...wP(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:oe}},[n,a,K.floating,h.x,h.y]);return x.useMemo(()=>({...h,update:P,refs:re,elements:K,floatingStyles:se}),[h,P,re,K,se])}const KU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?RT({element:r.current,padding:s}).fn(n):{}:r?RT({element:r,padding:s}).fn(n):{}}}},GU=(t,e)=>({...FU(t),options:[t,e]}),QU=(t,e)=>({...UU(t),options:[t,e]}),YU=(t,e)=>({...WU(t),options:[t,e]}),XU=(t,e)=>({...$U(t),options:[t,e]}),ZU=(t,e)=>({...BU(t),options:[t,e]}),JU=(t,e)=>({...zU(t),options:[t,e]}),e3=(t,e)=>({...KU(t),options:[t,e]});var t3="Arrow",_P=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(Le.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});_P.displayName=t3;var n3=_P;function r3(t,e=[]){let n=[];function r(i,o){const a=x.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:m,...w}=f,v=(p==null?void 0:p[t][l])||a,_=x.useMemo(()=>w,Object.values(w));return u.jsx(v.Provider,{value:_,children:m})}function h(f,p){const m=(p==null?void 0:p[t][l])||a,w=x.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,s3(s,...e)]}function s3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function i3(t){const[e,n]=x.useState(void 0);return gn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _w="Popper",[bP,_m]=r3(_w),[o3,EP]=bP(_w),TP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=x.useState(null);return u.jsx(o3,{scope:e,anchor:r,onAnchorChange:s,children:n})};TP.displayName=_w;var SP="PopperAnchor",CP=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=EP(SP,n),o=x.useRef(null),a=ct(e,o);return x.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(Le.div,{...s,ref:a})});CP.displayName=SP;var bw="PopperContent",[a3,l3]=bP(bw),IP=x.forwardRef((t,e)=>{var de,Ue,Ze,ke,Ee,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:w,...v}=t,_=EP(bw,n),[b,y]=x.useState(null),E=ct(e,ut=>y(ut)),[A,R]=x.useState(null),O=i3(A),C=(O==null?void 0:O.width)??0,S=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(c)?c:[c],j=D.length>0,P={padding:N,boundary:D.filter(u3),altBoundary:j},{refs:B,floatingStyles:re,placement:K,isPositioned:se,middlewareData:F}=qU({strategy:"fixed",placement:I,whileElementsMounted:(...ut)=>LU(...ut,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[GU({mainAxis:s+S,alignmentAxis:o}),l&&QU({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?YU():void 0,...P}),l&&XU({...P}),ZU({...P,apply:({elements:ut,rects:jt,availableWidth:Wn,availableHeight:tn})=>{const{width:Br,height:M}=jt.reference,V=ut.floating.style;V.setProperty("--radix-popper-available-width",`${Wn}px`),V.setProperty("--radix-popper-available-height",`${tn}px`),V.setProperty("--radix-popper-anchor-width",`${Br}px`),V.setProperty("--radix-popper-anchor-height",`${M}px`)}}),A&&e3({element:A,padding:a}),d3({arrowWidth:C,arrowHeight:S}),p&&JU({strategy:"referenceHidden",...P})]}),[H,oe]=PP(K),G=Un(w);gn(()=>{se&&(G==null||G())},[se,G]);const ae=(de=F.arrow)==null?void 0:de.x,pe=(Ue=F.arrow)==null?void 0:Ue.y,Be=((Ze=F.arrow)==null?void 0:Ze.centerOffset)!==0,[tt,be]=x.useState();return gn(()=>{b&&be(window.getComputedStyle(b).zIndex)},[b]),u.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:se?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tt,"--radix-popper-transform-origin":[(ke=F.transformOrigin)==null?void 0:ke.x,(Ee=F.transformOrigin)==null?void 0:Ee.y].join(" "),...((Oe=F.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(a3,{scope:n,placedSide:H,onArrowChange:R,arrowX:ae,arrowY:pe,shouldHideArrow:Be,children:u.jsx(Le.div,{"data-side":H,"data-align":oe,...v,ref:E,style:{...v.style,animation:se?void 0:"none"}})})})});IP.displayName=bw;var AP="PopperArrow",c3={top:"bottom",right:"left",bottom:"top",left:"right"},kP=x.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=l3(AP,r),o=c3[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(n3,{...s,ref:n,style:{...s.style,display:"block"}})})});kP.displayName=AP;function u3(t){return t!==null}var d3=t=>({name:"transformOrigin",options:t,fn(e){var _,b,y;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=PP(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=o?f:`${p}px`,v=`${-l}px`):c==="top"?(w=o?f:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=o?f:`${m}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=o?f:`${m}px`),{data:{x:w,y:v}}}});function PP(t){const[e,n="center"]=t.split("-");return[e,n]}var RP=TP,NP=CP,jP=IP,DP=kP,[bm,ree]=_d("Tooltip",[_m]),Em=_m(),OP="TooltipProvider",h3=700,e0="tooltip.open",[f3,Ew]=bm(OP),MP=t=>{const{__scopeTooltip:e,delayDuration:n=h3,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=x.useState(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),u.jsx(f3,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:i})};MP.displayName=OP;var Tm="Tooltip",[p3,Sm]=bm(Tm),VP=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=Ew(Tm,t.__scopeTooltip),c=Em(e),[h,f]=x.useState(null),p=Ds(),m=x.useRef(0),w=o??l.disableHoverableContent,v=a??l.delayDuration,_=x.useRef(!1),[b=!1,y]=sa({prop:r,defaultProp:s,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(e0))):l.onClose(),i==null||i(C)}}),E=x.useMemo(()=>b?_.current?"delayed-open":"instant-open":"closed",[b]),A=x.useCallback(()=>{window.clearTimeout(m.current),m.current=0,_.current=!1,y(!0)},[y]),R=x.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),O=x.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{_.current=!0,y(!0),m.current=0},v)},[v,y]);return x.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),u.jsx(RP,{...c,children:u.jsx(p3,{scope:e,contentId:p,open:b,stateAttribute:E,trigger:h,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{l.isOpenDelayed?O():A()},[l.isOpenDelayed,O,A]),onTriggerLeave:x.useCallback(()=>{w?R():(window.clearTimeout(m.current),m.current=0)},[R,w]),onOpen:A,onClose:R,disableHoverableContent:w,children:n})})};VP.displayName=Tm;var t0="TooltipTrigger",LP=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Sm(t0,n),i=Ew(t0,n),o=Em(n),a=x.useRef(null),l=ct(e,a,s.onTriggerChange),c=x.useRef(!1),h=x.useRef(!1),f=x.useCallback(()=>c.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(NP,{asChild:!0,...o,children:u.jsx(Le.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ve(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ve(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ve(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ve(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ve(t.onBlur,s.onClose),onClick:ve(t.onClick,s.onClose)})})});LP.displayName=t0;var m3="TooltipPortal",[see,g3]=bm(m3,{forceMount:void 0}),$l="TooltipContent",FP=x.forwardRef((t,e)=>{const n=g3($l,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Sm($l,t.__scopeTooltip);return u.jsx(wa,{present:r||o.open,children:o.disableHoverableContent?u.jsx(UP,{side:s,...i,ref:e}):u.jsx(y3,{side:s,...i,ref:e})})}),y3=x.forwardRef((t,e)=>{const n=Sm($l,t.__scopeTooltip),r=Ew($l,t.__scopeTooltip),s=x.useRef(null),i=ct(e,s),[o,a]=x.useState(null),{trigger:l,onClose:c}=n,h=s.current,{onPointerInTransitChange:f}=r,p=x.useCallback(()=>{a(null),f(!1)},[f]),m=x.useCallback((w,v)=>{const _=w.currentTarget,b={x:w.clientX,y:w.clientY},y=_3(b,_.getBoundingClientRect()),E=b3(b,y),A=E3(v.getBoundingClientRect()),R=S3([...E,...A]);a(R),f(!0)},[f]);return x.useEffect(()=>()=>p(),[p]),x.useEffect(()=>{if(l&&h){const w=_=>m(_,h),v=_=>m(_,l);return l.addEventListener("pointerleave",w),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",v)}}},[l,h,m,p]),x.useEffect(()=>{if(o){const w=v=>{const _=v.target,b={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(_))||(h==null?void 0:h.contains(_)),E=!T3(b,o);y?p():E&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,h,o,c,p]),u.jsx(UP,{...t,ref:i})}),[v3,x3]=bm(Tm,{isInside:!1}),UP=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Sm($l,n),c=Em(n),{onClose:h}=l;return x.useEffect(()=>(document.addEventListener(e0,h),()=>document.removeEventListener(e0,h)),[h]),x.useEffect(()=>{if(l.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),u.jsx(bd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:u.jsxs(jP,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(Ck,{children:r}),u.jsx(v3,{scope:n,isInside:!0,children:u.jsx(n4,{id:l.contentId,role:"tooltip",children:s||r})})]})})});FP.displayName=$l;var $P="TooltipArrow",w3=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Em(n);return x3($P,n).isInside?null:u.jsx(DP,{...s,...r,ref:e})});w3.displayName=$P;function _3(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function b3(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function E3(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function T3(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,h=e[o].y;l>r!=h>r&&n<(c-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function S3(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),C3(e)}function C3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var I3=MP,A3=VP,k3=LP,BP=FP;const n0=I3,jT=A3,DT=k3,r0=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(BP,{ref:r,sideOffset:e,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));r0.displayName=BP.displayName;var Cm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Im=typeof window>"u"||"Deno"in globalThis;function Sr(){}function P3(t,e){return typeof t=="function"?t(e):t}function R3(t){return typeof t=="number"&&t>=0&&t!==1/0}function N3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function OT(t,e){return typeof t=="function"?t(e):t}function j3(t,e){return typeof t=="function"?t(e):t}function MT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Tw(o,e.options))return!1}else if(!Qu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function VT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Gu(e.options.mutationKey)!==Gu(i))return!1}else if(!Qu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Tw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gu)(t)}function Gu(t){return JSON.stringify(t,(e,n)=>s0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Qu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Qu(t[n],e[n])):!1}function zP(t,e){if(t===e)return t;const n=LT(t)&&LT(e);if(n||s0(t)&&s0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const h=n?c:i[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=zP(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function LT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function s0(t){if(!FT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!FT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function FT(t){return Object.prototype.toString.call(t)==="[object Object]"}function D3(t){return new Promise(e=>{setTimeout(e,t)})}function O3(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?zP(t,e):e}function M3(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function V3(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Sw=Symbol();function WP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Sw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var zo,Ti,bl,tI,L3=(tI=class extends Cm{constructor(){super();Je(this,zo);Je(this,Ti);Je(this,bl);Fe(this,bl,e=>{if(!Im&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,Ti)||this.setEventListener(W(this,bl))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Ti))==null||e.call(this),Fe(this,Ti,void 0))}setEventListener(e){var n;Fe(this,bl,e),(n=W(this,Ti))==null||n.call(this),Fe(this,Ti,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){W(this,zo)!==e&&(Fe(this,zo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof W(this,zo)=="boolean"?W(this,zo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},zo=new WeakMap,Ti=new WeakMap,bl=new WeakMap,tI),HP=new L3,El,Si,Tl,nI,F3=(nI=class extends Cm{constructor(){super();Je(this,El,!0);Je(this,Si);Je(this,Tl);Fe(this,Tl,e=>{if(!Im&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,Si)||this.setEventListener(W(this,Tl))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Si))==null||e.call(this),Fe(this,Si,void 0))}setEventListener(e){var n;Fe(this,Tl,e),(n=W(this,Si))==null||n.call(this),Fe(this,Si,e(this.setOnline.bind(this)))}setOnline(e){W(this,El)!==e&&(Fe(this,El,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return W(this,El)}},El=new WeakMap,Si=new WeakMap,Tl=new WeakMap,nI),Xf=new F3;function U3(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function $3(t){return Math.min(1e3*2**t,3e4)}function qP(t){return(t??"online")==="online"?Xf.isOnline():!0}var KP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ay(t){return t instanceof KP}function GP(t){let e=!1,n=0,r=!1,s;const i=U3(),o=v=>{var _;r||(p(new KP(v)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>HP.isFocused()&&(t.networkMode==="always"||Xf.isOnline())&&t.canRun(),h=()=>qP(t.networkMode)&&t.canRun(),f=v=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,v),s==null||s(),i.resolve(v))},p=v=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,v),s==null||s(),i.reject(v))},m=()=>new Promise(v=>{var _;s=b=>{(r||c())&&v(b)},(_=t.onPause)==null||_.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),w=()=>{if(r)return;let v;const _=n===0?t.initialPromise:void 0;try{v=_??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(f).catch(b=>{var O;if(r)return;const y=t.retry??(Im?0:3),E=t.retryDelay??$3,A=typeof E=="function"?E(n,b):E,R=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,b);if(e||!R){p(b);return}n++,(O=t.onFail)==null||O.call(t,n,b),D3(A).then(()=>c()?void 0:m()).then(()=>{e?p(b):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?w():m().then(w),i)}}function B3(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Cn=B3(),Wo,rI,QP=(rI=class{constructor(){Je(this,Wo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),R3(this.gcTime)&&Fe(this,Wo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Im?1/0:5*60*1e3))}clearGcTimeout(){W(this,Wo)&&(clearTimeout(W(this,Wo)),Fe(this,Wo,void 0))}},Wo=new WeakMap,rI),Sl,Cl,lr,un,pd,Ho,Cr,_s,sI,z3=(sI=class extends QP{constructor(n){super();Je(this,Cr);Je(this,Sl);Je(this,Cl);Je(this,lr);Je(this,un);Je(this,pd);Je(this,Ho);Fe(this,Ho,!1),Fe(this,pd,n.defaultOptions),this.setOptions(n.options),this.observers=[],Fe(this,lr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Fe(this,Sl,H3(this.options)),this.state=n.state??W(this,Sl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=W(this,un))==null?void 0:n.promise}setOptions(n){this.options={...W(this,pd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,lr).remove(this)}setData(n,r){const s=O3(this.state.data,n,this.options);return on(this,Cr,_s).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){on(this,Cr,_s).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=W(this,un))==null?void 0:s.promise;return(i=W(this,un))==null||i.cancel(n),r?r.then(Sr).catch(Sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Sl))}isActive(){return this.observers.some(n=>j3(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!N3(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=W(this,un))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=W(this,un))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),W(this,lr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(W(this,un)&&(W(this,Ho)?W(this,un).cancel({revert:!0}):W(this,un).cancelRetry()),this.scheduleGc()),W(this,lr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||on(this,Cr,_s).call(this,{type:"invalidate"})}fetch(n,r){var c,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,un))return W(this,un).continueRetry(),W(this,un).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Fe(this,Ho,!0),s.signal)})},o=()=>{const p=WP(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return i(m),Fe(this,Ho,!1),this.options.persister?this.options.persister(p,m,this):p(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Fe(this,Cl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&on(this,Cr,_s).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var m,w,v,_;ay(p)&&p.silent||on(this,Cr,_s).call(this,{type:"error",error:p}),ay(p)||((w=(m=W(this,lr).config).onError)==null||w.call(m,p,this),(_=(v=W(this,lr).config).onSettled)==null||_.call(v,this.state.data,p,this)),this.scheduleGc()};return Fe(this,un,GP({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var m,w,v,_;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(b){l(b);return}(w=(m=W(this,lr).config).onSuccess)==null||w.call(m,p,this),(_=(v=W(this,lr).config).onSettled)==null||_.call(v,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{on(this,Cr,_s).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{on(this,Cr,_s).call(this,{type:"pause"})},onContinue:()=>{on(this,Cr,_s).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),W(this,un).start()}},Sl=new WeakMap,Cl=new WeakMap,lr=new WeakMap,un=new WeakMap,pd=new WeakMap,Ho=new WeakMap,Cr=new WeakSet,_s=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...W3(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return ay(i)&&i.revert&&W(this,Cl)?{...W(this,Cl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Cn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),W(this,lr).notify({query:this,type:"updated",action:n})})},sI);function W3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function H3(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Gr,iI,q3=(iI=class extends Cm{constructor(e={}){super();Je(this,Gr);this.config=e,Fe(this,Gr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Tw(s,n);let o=this.get(i);return o||(o=new z3({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){W(this,Gr).has(e.queryHash)||(W(this,Gr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=W(this,Gr).get(e.queryHash);n&&(e.destroy(),n===e&&W(this,Gr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,Gr).get(e)}getAll(){return[...W(this,Gr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>MT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>MT(e,r)):n}notify(e){Cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Gr=new WeakMap,iI),Qr,_n,qo,Yr,ui,oI,K3=(oI=class extends QP{constructor(n){super();Je(this,Yr);Je(this,Qr);Je(this,_n);Je(this,qo);this.mutationId=n.mutationId,Fe(this,_n,n.mutationCache),Fe(this,Qr,[]),this.state=n.state||G3(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){W(this,Qr).includes(n)||(W(this,Qr).push(n),this.clearGcTimeout(),W(this,_n).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Fe(this,Qr,W(this,Qr).filter(r=>r!==n)),this.scheduleGc(),W(this,_n).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){W(this,Qr).length||(this.state.status==="pending"?this.scheduleGc():W(this,_n).remove(this))}continue(){var n;return((n=W(this,qo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,h,f,p,m,w,v,_,b,y,E,A,R,O,C,S;Fe(this,qo,GP({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,N)=>{on(this,Yr,ui).call(this,{type:"failed",failureCount:I,error:N})},onPause:()=>{on(this,Yr,ui).call(this,{type:"pause"})},onContinue:()=>{on(this,Yr,ui).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,_n).canRun(this)}));const r=this.state.status==="pending",s=!W(this,qo).canStart();try{if(!r){on(this,Yr,ui).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=W(this,_n).config).onMutate)==null?void 0:o.call(i,n,this));const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));N!==this.state.context&&on(this,Yr,ui).call(this,{type:"pending",context:N,variables:n,isPaused:s})}const I=await W(this,qo).start();return await((h=(c=W(this,_n).config).onSuccess)==null?void 0:h.call(c,I,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,n,this.state.context)),await((w=(m=W(this,_n).config).onSettled)==null?void 0:w.call(m,I,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,I,null,n,this.state.context)),on(this,Yr,ui).call(this,{type:"success",data:I}),I}catch(I){try{throw await((y=(b=W(this,_n).config).onError)==null?void 0:y.call(b,I,n,this.state.context,this)),await((A=(E=this.options).onError)==null?void 0:A.call(E,I,n,this.state.context)),await((O=(R=W(this,_n).config).onSettled)==null?void 0:O.call(R,void 0,I,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,I,n,this.state.context)),I}finally{on(this,Yr,ui).call(this,{type:"error",error:I})}}finally{W(this,_n).runNext(this)}}},Qr=new WeakMap,_n=new WeakMap,qo=new WeakMap,Yr=new WeakSet,ui=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Cn.batch(()=>{W(this,Qr).forEach(s=>{s.onMutationUpdate(n)}),W(this,_n).notify({mutation:this,type:"updated",action:n})})},oI);function G3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qn,md,aI,Q3=(aI=class extends Cm{constructor(e={}){super();Je(this,qn);Je(this,md);this.config=e,Fe(this,qn,new Map),Fe(this,md,Date.now())}build(e,n,r){const s=new K3({mutationCache:this,mutationId:++ah(this,md)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=kh(e),r=W(this,qn).get(n)??[];r.push(e),W(this,qn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=kh(e);if(W(this,qn).has(n)){const s=(r=W(this,qn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?W(this,qn).delete(n):W(this,qn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=W(this,qn).get(kh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=W(this,qn).get(kh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...W(this,qn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>VT(n,r))}findAll(e={}){return this.getAll().filter(n=>VT(e,n))}notify(e){Cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Cn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Sr))))}},qn=new WeakMap,md=new WeakMap,aI);function kh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function UT(t){return{onFetch:(e,n)=>{var h,f,p,m,w;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const _=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},b=WP(e.options,e.fetchOptions),y=async(E,A,R)=>{if(v)return Promise.reject();if(A==null&&E.pages.length)return Promise.resolve(E);const O={queryKey:e.queryKey,pageParam:A,direction:R?"backward":"forward",meta:e.options.meta};_(O);const C=await b(O),{maxPages:S}=e.options,I=R?V3:M3;return{pages:I(E.pages,C,S),pageParams:I(E.pageParams,A,S)}};if(s&&i.length){const E=s==="backward",A=E?Y3:$T,R={pages:i,pageParams:o},O=A(r,R);a=await y(R,O,E)}else{const E=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:$T(r,a);if(l>0&&A==null)break;a=await y(a,A),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var v,_;return(_=(v=e.options).persister)==null?void 0:_.call(v,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function $T(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Y3(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Tt,Ci,Ii,Il,Al,Ai,kl,Pl,lI,X3=(lI=class{constructor(t={}){Je(this,Tt);Je(this,Ci);Je(this,Ii);Je(this,Il);Je(this,Al);Je(this,Ai);Je(this,kl);Je(this,Pl);Fe(this,Tt,t.queryCache||new q3),Fe(this,Ci,t.mutationCache||new Q3),Fe(this,Ii,t.defaultOptions||{}),Fe(this,Il,new Map),Fe(this,Al,new Map),Fe(this,Ai,0)}mount(){ah(this,Ai)._++,W(this,Ai)===1&&(Fe(this,kl,HP.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Tt).onFocus())})),Fe(this,Pl,Xf.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Tt).onOnline())})))}unmount(){var t,e;ah(this,Ai)._--,W(this,Ai)===0&&((t=W(this,kl))==null||t.call(this),Fe(this,kl,void 0),(e=W(this,Pl))==null||e.call(this),Fe(this,Pl,void 0))}isFetching(t){return W(this,Tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,Ci).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,Tt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=W(this,Tt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(OT(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return W(this,Tt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=W(this,Tt).get(r.queryHash),i=s==null?void 0:s.state.data,o=P3(e,i);if(o!==void 0)return W(this,Tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Cn.batch(()=>W(this,Tt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,Tt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=W(this,Tt);Cn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=W(this,Tt),r={type:"active",...t};return Cn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Cn.batch(()=>W(this,Tt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Sr).catch(Sr)}invalidateQueries(t={},e={}){return Cn.batch(()=>{if(W(this,Tt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Cn.batch(()=>W(this,Tt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Sr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Sr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=W(this,Tt).build(this,e);return n.isStaleByTime(OT(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Sr).catch(Sr)}fetchInfiniteQuery(t){return t.behavior=UT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Sr).catch(Sr)}ensureInfiniteQueryData(t){return t.behavior=UT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Xf.isOnline()?W(this,Ci).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Tt)}getMutationCache(){return W(this,Ci)}getDefaultOptions(){return W(this,Ii)}setDefaultOptions(t){Fe(this,Ii,t)}setQueryDefaults(t,e){W(this,Il).set(Gu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,Il).values()];let n={};return e.forEach(r=>{Qu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){W(this,Al).set(Gu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,Al).values()];let n={};return e.forEach(r=>{Qu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,Ii).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Tw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Sw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,Ii).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,Tt).clear(),W(this,Ci).clear()}},Tt=new WeakMap,Ci=new WeakMap,Ii=new WeakMap,Il=new WeakMap,Al=new WeakMap,Ai=new WeakMap,kl=new WeakMap,Pl=new WeakMap,lI),Z3=x.createContext(void 0),J3=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(Z3.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yu.apply(this,arguments)}var Ri;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ri||(Ri={}));const BT="popstate";function e$(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return i0("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Zf(s)}return n$(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t$(){return Math.random().toString(36).substr(2,8)}function zT(t,e){return{usr:t.state,key:t.key,idx:e}}function i0(t,e,n,r){return n===void 0&&(n=null),Yu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cc(e):e,{state:n,key:e&&e.key||r||t$()})}function Zf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function n$(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ri.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Yu({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Ri.Pop;let _=h(),b=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:b})}function p(_,b){a=Ri.Push;let y=i0(v.location,_,b);c=h()+1;let E=zT(y,c),A=v.createHref(y);try{o.pushState(E,"",A)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(A)}i&&l&&l({action:a,location:v.location,delta:1})}function m(_,b){a=Ri.Replace;let y=i0(v.location,_,b);c=h();let E=zT(y,c),A=v.createHref(y);o.replaceState(E,"",A),i&&l&&l({action:a,location:v.location,delta:0})}function w(_){let b=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:Zf(_);return y=y.replace(/ $/,"%20"),Rt(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let v={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(BT,f),l=_,()=>{s.removeEventListener(BT,f),l=null}},createHref(_){return e(s,_)},createURL:w,encodeLocation(_){let b=w(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:m,go(_){return o.go(_)}};return v}var WT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WT||(WT={}));function r$(t,e,n){return n===void 0&&(n="/"),s$(t,e,n,!1)}function s$(t,e,n,r){let s=typeof e=="string"?cc(e):e,i=Cw(s.pathname||"/",n);if(i==null)return null;let o=XP(t);i$(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=g$(i);a=p$(o[l],c,r)}return a}function XP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Bi([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(Rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),XP(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:h$(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ZP(i.path))s(i,o,l)}),e}function ZP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ZP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function i$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const o$=/^:[\w-]+$/,a$=3,l$=2,c$=1,u$=10,d$=-2,HT=t=>t==="*";function h$(t,e){let n=t.split("/"),r=n.length;return n.some(HT)&&(r+=d$),e&&(r+=l$),n.filter(s=>!HT(s)).reduce((s,i)=>s+(o$.test(i)?a$:i===""?c$:u$),r)}function f$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function p$(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=qT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=qT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Bi([i,f.pathname]),pathnameBase:w$(Bi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Bi([i,f.pathnameBase]))}return o}function qT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=m$(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:p,isOptional:m}=h;if(p==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[f];return m&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function m$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),YP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function g$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return YP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Cw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function y$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?cc(t):t;return{pathname:n?n.startsWith("/")?n:v$(n,e):e,search:_$(r),hash:b$(s)}}function v$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ly(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Iw(t,e){let n=x$(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Aw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=cc(t):(s=Yu({},t),Rt(!s.pathname||!s.pathname.includes("?"),ly("?","pathname","search",s)),Rt(!s.pathname||!s.pathname.includes("#"),ly("#","pathname","hash",s)),Rt(!s.search||!s.search.includes("#"),ly("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=y$(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Bi=t=>t.join("/").replace(/\/\/+/g,"/"),w$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function E$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JP=["post","put","patch","delete"];new Set(JP);const T$=["get",...JP];new Set(T$);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(this,arguments)}const kw=x.createContext(null),S$=x.createContext(null),ho=x.createContext(null),Am=x.createContext(null),fo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),eR=x.createContext(null);function C$(t,e){let{relative:n}=e===void 0?{}:e;uc()||Rt(!1);let{basename:r,navigator:s}=x.useContext(ho),{hash:i,pathname:o,search:a}=nR(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Bi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function uc(){return x.useContext(Am)!=null}function Cd(){return uc()||Rt(!1),x.useContext(Am).location}function tR(t){x.useContext(ho).static||x.useLayoutEffect(t)}function po(){let{isDataRoute:t}=x.useContext(fo);return t?F$():I$()}function I$(){uc()||Rt(!1);let t=x.useContext(kw),{basename:e,future:n,navigator:r}=x.useContext(ho),{matches:s}=x.useContext(fo),{pathname:i}=Cd(),o=JSON.stringify(Iw(s,n.v7_relativeSplatPath)),a=x.useRef(!1);return tR(()=>{a.current=!0}),x.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Aw(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Bi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function nR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(ho),{matches:s}=x.useContext(fo),{pathname:i}=Cd(),o=JSON.stringify(Iw(s,r.v7_relativeSplatPath));return x.useMemo(()=>Aw(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function A$(t,e){return k$(t,e)}function k$(t,e,n,r){uc()||Rt(!1);let{navigator:s}=x.useContext(ho),{matches:i}=x.useContext(fo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Cd(),h;if(e){var f;let _=typeof e=="string"?cc(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||Rt(!1),h=_}else h=c;let p=h.pathname||"/",m=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=r$(t,{pathname:m}),v=D$(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Bi([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Bi([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&v?x.createElement(Am.Provider,{value:{location:Xu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ri.Pop}},v):v}function P$(){let t=L$(),e=E$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,null)}const R$=x.createElement(P$,null);class N$ extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(fo.Provider,{value:this.props.routeContext},x.createElement(eR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j$(t){let{routeContext:e,match:n,children:r}=t,s=x.useContext(kw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(fo.Provider,{value:e},r)}function D$(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Rt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:m}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let m,w=!1,v=null,_=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||R$,l&&(c<0&&p===0?(w=!0,_=null):c===p&&(w=!0,_=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),y=()=>{let E;return m?E=v:w?E=_:f.route.Component?E=x.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,x.createElement(j$,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?x.createElement(N$,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var rR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rR||{}),Jf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Jf||{});function O$(t){let e=x.useContext(kw);return e||Rt(!1),e}function M$(t){let e=x.useContext(S$);return e||Rt(!1),e}function V$(t){let e=x.useContext(fo);return e||Rt(!1),e}function sR(t){let e=V$(),n=e.matches[e.matches.length-1];return n.route.id||Rt(!1),n.route.id}function L$(){var t;let e=x.useContext(eR),n=M$(Jf.UseRouteError),r=sR(Jf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function F$(){let{router:t}=O$(rR.UseNavigateStable),e=sR(Jf.UseNavigateStable),n=x.useRef(!1);return tR(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Xu({fromRouteId:e},i)))},[t,e])}function o0(t){let{to:e,replace:n,state:r,relative:s}=t;uc()||Rt(!1);let{future:i,static:o}=x.useContext(ho),{matches:a}=x.useContext(fo),{pathname:l}=Cd(),c=po(),h=Aw(e,Iw(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return x.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function or(t){Rt(!1)}function U$(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ri.Pop,navigator:i,static:o=!1,future:a}=t;uc()&&Rt(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:i,static:o,future:Xu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=cc(r));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:w="default"}=r,v=x.useMemo(()=>{let _=Cw(h,l);return _==null?null:{location:{pathname:_,search:f,hash:p,state:m,key:w},navigationType:s}},[l,h,f,p,m,w,s]);return v==null?null:x.createElement(ho.Provider,{value:c},x.createElement(Am.Provider,{children:n,value:v}))}function $$(t){let{children:e,location:n}=t;return A$(a0(e),n)}new Promise(()=>{});function a0(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let i=[...e,s];if(r.type===x.Fragment){n.push.apply(n,a0(r.props.children,i));return}r.type!==or&&Rt(!1),!r.props.index||!r.props.children||Rt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=a0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function l0(){return l0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l0.apply(this,arguments)}function B$(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function z$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W$(t,e){return t.button===0&&(!e||e==="_self")&&!z$(t)}const H$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q$="6";try{window.__reactRouterVersion=q$}catch{}const K$="startTransition",KT=wI[K$];function G$(t){let{basename:e,children:n,future:r,window:s}=t,i=x.useRef();i.current==null&&(i.current=e$({window:s,v5Compat:!0}));let o=i.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=x.useCallback(f=>{c&&KT?KT(()=>l(f)):l(f)},[l,c]);return x.useLayoutEffect(()=>o.listen(h),[o,h]),x.createElement(U$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Q$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=x.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,p=B$(e,H$),{basename:m}=x.useContext(ho),w,v=!1;if(typeof c=="string"&&Y$.test(c)&&(w=c,Q$))try{let E=new URL(window.location.href),A=c.startsWith("//")?new URL(E.protocol+c):new URL(c),R=Cw(A.pathname,m);A.origin===E.origin&&R!=null?c=R+A.search+A.hash:v=!0}catch{}let _=C$(c,{relative:s}),b=X$(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function y(E){r&&r(E),E.defaultPrevented||b(E)}return x.createElement("a",l0({},p,{href:w||_,onClick:v||i?r:y,ref:n,target:l}))});var GT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(GT||(GT={}));var QT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QT||(QT={}));function X$(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=po(),c=Cd(),h=nR(t,{relative:o});return x.useCallback(f=>{if(W$(f,n)){f.preventDefault();let p=r!==void 0?r:Zf(c)===Zf(h);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,h,r,s,n,t,i,o,a])}var YT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Z$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},oR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[h],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Z$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new J$;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class J$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eB=function(t){const e=iR(t);return oR.encodeByteArray(e,!0)},ep=function(t){return eB(t).replace(/\./g,"")},aR=function(t){try{return oR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=()=>tB().__FIREBASE_DEFAULTS__,rB=()=>{if(typeof process>"u"||typeof YT>"u")return;const t=YT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aR(t[1]);return e&&JSON.parse(e)},km=()=>{try{return nB()||rB()||sB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lR=t=>{var e,n;return(n=(e=km())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iB=t=>{const e=lR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cR=()=>{var t;return(t=km())===null||t===void 0?void 0:t.config},uR=t=>{var e;return(e=km())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ep(JSON.stringify(n)),ep(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function cB(){var t;const e=(t=km())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hB(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fB(){return!cB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hR(){try{return typeof indexedDB=="object"}catch{return!1}}function fR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function pB(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="FirebaseError";class Fr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mB,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_a.prototype.create)}}class _a{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?gB(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Fr(s,a,r)}}function gB(t,e){return t.replace(yB,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yB=/\{\$([^}]+)}/g;function vB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(XT(i)&&XT(o)){if(!Zu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function XT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Yc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xB(t,e){const n=new wB(t,e);return n.subscribe.bind(n)}class wB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_B(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=cy),s.error===void 0&&(s.error=cy),s.complete===void 0&&(s.complete=cy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _B(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=1e3,EB=2,TB=4*60*60*1e3,SB=.5;function ZT(t,e=bB,n=EB){const r=e*Math.pow(n,t),s=Math.round(SB*r*(Math.random()-.5)*2);return Math.min(TB,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class Mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AB(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IB(t){return t===Ao?void 0:t}function AB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const PB={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},RB=qe.INFO,NB={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},jB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=NB[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pm{constructor(e){this.name=e,this._logLevel=RB,this._logHandler=jB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const DB=(t,e)=>e.some(n=>t instanceof n);let JT,e1;function OB(){return JT||(JT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MB(){return e1||(e1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pR=new WeakMap,c0=new WeakMap,mR=new WeakMap,uy=new WeakMap,Pw=new WeakMap;function VB(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(zi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pR.set(n,t)}).catch(()=>{}),Pw.set(e,t),e}function LB(t){if(c0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});c0.set(t,e)}let u0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return c0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FB(t){u0=t(u0)}function UB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dy(this),e,...n);return mR.set(r,e.sort?e.sort():[e]),zi(r)}:MB().includes(t)?function(...e){return t.apply(dy(this),e),zi(pR.get(this))}:function(...e){return zi(t.apply(dy(this),e))}}function $B(t){return typeof t=="function"?UB(t):(t instanceof IDBTransaction&&LB(t),DB(t,OB())?new Proxy(t,u0):t)}function zi(t){if(t instanceof IDBRequest)return VB(t);if(uy.has(t))return uy.get(t);const e=$B(t);return e!==t&&(uy.set(t,e),Pw.set(e,t)),e}const dy=t=>Pw.get(t);function gR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zi(o.result),l.oldVersion,l.newVersion,zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const BB=["get","getKey","getAll","getAllKeys","count"],zB=["put","add","delete","clear"],hy=new Map;function t1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hy.get(e))return hy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=zB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||BB.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return hy.set(e,i),i}FB(t=>({...t,get:(e,n,r)=>t1(e,n)||t.get(e,n,r),has:(e,n)=>!!t1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const d0="@firebase/app",n1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new Pm("@firebase/app"),qB="@firebase/app-compat",KB="@firebase/analytics-compat",GB="@firebase/analytics",QB="@firebase/app-check-compat",YB="@firebase/app-check",XB="@firebase/auth",ZB="@firebase/auth-compat",JB="@firebase/database",e6="@firebase/data-connect",t6="@firebase/database-compat",n6="@firebase/functions",r6="@firebase/functions-compat",s6="@firebase/installations",i6="@firebase/installations-compat",o6="@firebase/messaging",a6="@firebase/messaging-compat",l6="@firebase/performance",c6="@firebase/performance-compat",u6="@firebase/remote-config",d6="@firebase/remote-config-compat",h6="@firebase/storage",f6="@firebase/storage-compat",p6="@firebase/firestore",m6="@firebase/vertexai-preview",g6="@firebase/firestore-compat",y6="firebase",v6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="[DEFAULT]",x6={[d0]:"fire-core",[qB]:"fire-core-compat",[GB]:"fire-analytics",[KB]:"fire-analytics-compat",[YB]:"fire-app-check",[QB]:"fire-app-check-compat",[XB]:"fire-auth",[ZB]:"fire-auth-compat",[JB]:"fire-rtdb",[e6]:"fire-data-connect",[t6]:"fire-rtdb-compat",[n6]:"fire-fn",[r6]:"fire-fn-compat",[s6]:"fire-iid",[i6]:"fire-iid-compat",[o6]:"fire-fcm",[a6]:"fire-fcm-compat",[l6]:"fire-perf",[c6]:"fire-perf-compat",[u6]:"fire-rc",[d6]:"fire-rc-compat",[h6]:"fire-gcs",[f6]:"fire-gcs-compat",[p6]:"fire-fst",[g6]:"fire-fst-compat",[m6]:"fire-vertex","fire-js":"fire-js",[y6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new Map,w6=new Map,f0=new Map;function r1(t,e){try{t.container.addComponent(e)}catch(n){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function us(t){const e=t.name;if(f0.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;f0.set(e,t);for(const n of tp.values())r1(n,t);for(const n of w6.values())r1(n,t);return!0}function ba(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new _a("app","Firebase",_6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=v6;function yR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:h0,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Wi.create("bad-app-name",{appName:String(s)});if(n||(n=cR()),!n)throw Wi.create("no-options");const i=tp.get(s);if(i){if(Zu(n,i.options)&&Zu(r,i.config))return i;throw Wi.create("duplicate-app",{appName:s})}const o=new kB(s);for(const l of f0.values())o.addComponent(l);const a=new b6(n,r,o);return tp.set(s,a),a}function Rw(t=h0){const e=tp.get(t);if(!e&&t===h0&&cR())return yR();if(!e)throw Wi.create("no-app",{appName:t});return e}function mr(t,e,n){var r;let s=(r=x6[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(a.join(" "));return}us(new Mr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="firebase-heartbeat-database",T6=1,Ju="firebase-heartbeat-store";let fy=null;function vR(){return fy||(fy=gR(E6,T6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),fy}async function S6(t){try{const n=(await vR()).transaction(Ju),r=await n.objectStore(Ju).get(xR(t));return await n.done,r}catch(e){if(e instanceof Fr)Ks.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ks.warn(n.message)}}}async function s1(t,e){try{const r=(await vR()).transaction(Ju,"readwrite");await r.objectStore(Ju).put(e,xR(t)),await r.done}catch(n){if(n instanceof Fr)Ks.warn(n.message);else{const r=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ks.warn(r.message)}}}function xR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=1024,I6=30*24*60*60*1e3;class A6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=i1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=I6}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ks.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i1(),{heartbeatsToSend:r,unsentEntries:s}=k6(this._heartbeatsCache.heartbeats),i=ep(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ks.warn(n),""}}}function i1(){return new Date().toISOString().substring(0,10)}function k6(t,e=C6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),o1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),o1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class P6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hR()?fR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await S6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return s1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return s1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function o1(t){return ep(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){us(new Mr("platform-logger",e=>new WB(e),"PRIVATE")),us(new Mr("heartbeat",e=>new A6(e),"PRIVATE")),mr(d0,n1,t),mr(d0,n1,"esm2017"),mr("fire-js","")}R6("");var N6="firebase",j6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(N6,j6,"app");const wR="@firebase/installations",Nw="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=1e4,bR=`w:${Nw}`,ER="FIS_v2",D6="https://firebaseinstallations.googleapis.com/v1",O6=60*60*1e3,M6="installations",V6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oa=new _a(M6,V6,L6);function TR(t){return t instanceof Fr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR({projectId:t}){return`${D6}/projects/${t}/installations`}function CR(t){return{token:t.token,requestStatus:2,expiresIn:U6(t.expiresIn),creationTime:Date.now()}}async function IR(t,e){const r=(await e.json()).error;return oa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function AR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function F6(t,{refreshToken:e}){const n=AR(t);return n.append("Authorization",$6(e)),n}async function kR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function U6(t){return Number(t.replace("s","000"))}function $6(t){return`${ER} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=SR(t),s=AR(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:ER,appId:t.appId,sdkVersion:bR},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await kR(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:CR(c.authToken)}}else throw await IR("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=/^[cdef][\w-]{21}$/,p0="";function H6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=q6(t);return W6.test(n)?n:p0}catch{return p0}}function q6(t){return z6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Map;function NR(t,e){const n=Rm(t);jR(n,e),K6(n,e)}function jR(t,e){const n=RR.get(t);if(n)for(const r of n)r(e)}function K6(t,e){const n=G6();n&&n.postMessage({key:t,fid:e}),Q6()}let Oo=null;function G6(){return!Oo&&"BroadcastChannel"in self&&(Oo=new BroadcastChannel("[Firebase] FID Change"),Oo.onmessage=t=>{jR(t.data.key,t.data.fid)}),Oo}function Q6(){RR.size===0&&Oo&&(Oo.close(),Oo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6="firebase-installations-database",X6=1,aa="firebase-installations-store";let py=null;function jw(){return py||(py=gR(Y6,X6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(aa)}}})),py}async function np(t,e){const n=Rm(t),s=(await jw()).transaction(aa,"readwrite"),i=s.objectStore(aa),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&NR(t,e.fid),e}async function DR(t){const e=Rm(t),r=(await jw()).transaction(aa,"readwrite");await r.objectStore(aa).delete(e),await r.done}async function Nm(t,e){const n=Rm(t),s=(await jw()).transaction(aa,"readwrite"),i=s.objectStore(aa),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&NR(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dw(t){let e;const n=await Nm(t.appConfig,r=>{const s=Z6(r),i=J6(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===p0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Z6(t){const e=t||{fid:H6(),registrationStatus:0};return OR(e)}function J6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(oa.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=e9(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:t9(t)}:{installationEntry:e}}async function e9(t,e){try{const n=await B6(t,e);return np(t.appConfig,n)}catch(n){throw TR(n)&&n.customData.serverCode===409?await DR(t.appConfig):await np(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function t9(t){let e=await a1(t.appConfig);for(;e.registrationStatus===1;)await PR(100),e=await a1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Dw(t);return r||n}return e}function a1(t){return Nm(t,e=>{if(!e)throw oa.create("installation-not-found");return OR(e)})}function OR(t){return n9(t)?{fid:t.fid,registrationStatus:0}:t}function n9(t){return t.registrationStatus===1&&t.registrationTime+_R<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9({appConfig:t,heartbeatServiceProvider:e},n){const r=s9(t,n),s=F6(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:bR,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await kR(()=>fetch(r,a));if(l.ok){const c=await l.json();return CR(c)}else throw await IR("Generate Auth Token",l)}function s9(t,{fid:e}){return`${SR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(t,e=!1){let n;const r=await Nm(t.appConfig,i=>{if(!MR(i))throw oa.create("not-registered");const o=i.authToken;if(!e&&a9(o))return i;if(o.requestStatus===1)return n=i9(t,e),i;{if(!navigator.onLine)throw oa.create("app-offline");const a=c9(i);return n=o9(t,a),a}});return n?await n:r.authToken}async function i9(t,e){let n=await l1(t.appConfig);for(;n.authToken.requestStatus===1;)await PR(100),n=await l1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ow(t,e):r}function l1(t){return Nm(t,e=>{if(!MR(e))throw oa.create("not-registered");const n=e.authToken;return u9(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function o9(t,e){try{const n=await r9(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await np(t.appConfig,r),n}catch(n){if(TR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await DR(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await np(t.appConfig,r)}throw n}}function MR(t){return t!==void 0&&t.registrationStatus===2}function a9(t){return t.requestStatus===2&&!l9(t)}function l9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+O6}function c9(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function u9(t){return t.requestStatus===1&&t.requestTime+_R<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(t){const e=t,{installationEntry:n,registrationPromise:r}=await Dw(e);return r?r.catch(console.error):Ow(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e=!1){const n=t;return await f9(n),(await Ow(n,e)).token}async function f9(t){const{registrationPromise:e}=await Dw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){if(!t||!t.options)throw my("App Configuration");if(!t.name)throw my("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw my(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function my(t){return oa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="installations",m9="installations-internal",g9=t=>{const e=t.getProvider("app").getImmediate(),n=p9(e),r=ba(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},y9=t=>{const e=t.getProvider("app").getImmediate(),n=ba(e,VR).getImmediate();return{getId:()=>d9(n),getToken:s=>h9(n,s)}};function v9(){us(new Mr(VR,g9,"PUBLIC")),us(new Mr(m9,y9,"PRIVATE"))}v9();mr(wR,Nw);mr(wR,Nw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="analytics",x9="firebase_id",w9="origin",_9=60*1e3,b9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new Pm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},er=new _a("analytics","Analytics",E9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t){if(!t.startsWith(Mw)){const e=er.create("invalid-gtag-resource",{gtagURL:t});return Fn.warn(e.message),""}return t}function LR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function S9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function C9(t,e){const n=S9("firebase-js-sdk-policy",{createScriptURL:T9}),r=document.createElement("script"),s=`${Mw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function I9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function A9(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await LR(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){Fn.error(a)}t("config",s,i)}async function k9(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await LR(n);for(const l of o){const c=a.find(f=>f.measurementId===l),h=c&&e[c.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Fn.error(i)}}function P9(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await k9(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await A9(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Fn.error(a)}}return s}function R9(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=P9(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function N9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Mw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=30,D9=1e3;class O9{constructor(e={},n=D9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const FR=new O9;function M9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function V9(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:M9(r)},i=b9.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw er.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function L9(t,e=FR,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw er.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw er.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new $9;return setTimeout(async()=>{a.abort()},_9),UR({appId:r,apiKey:s,measurementId:i},o,a,e)}async function UR(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=FR){var i;const{appId:o,measurementId:a}=t;try{await F9(r,e)}catch(l){if(a)return Fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await V9(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!U9(c)){if(s.deleteThrottleMetadata(o),a)return Fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const h=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?ZT(n,s.intervalMillis,j9):ZT(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(o,f),Fn.debug(`Calling attemptFetch again in ${h} millis`),UR(t,f,r,s)}}function F9(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(er.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function U9(t){if(!(t instanceof Fr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class $9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function B9(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(){if(hR())try{await fR()}catch(t){return Fn.warn(er.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Fn.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function W9(t,e,n,r,s,i,o){var a;const l=L9(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Fn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Fn.error(m)),e.push(l);const c=z9().then(m=>{if(m)return r.getId()}),[h,f]=await Promise.all([l,c]);N9(i)||C9(i,h.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[w9]="firebase",p.update=!0,f!=null&&(p[x9]=f),s("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.app=e}_delete(){return delete gu[this.app.options.appId],Promise.resolve()}}let gu={},c1=[];const u1={};let gy="dataLayer",q9="gtag",d1,$R,h1=!1;function K9(){const t=[];if(dR()&&t.push("This is a browser extension environment."),pB()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=er.create("invalid-analytics-context",{errorInfo:e});Fn.warn(n.message)}}function G9(t,e,n){K9();const r=t.options.appId;if(!r)throw er.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw er.create("no-api-key");if(gu[r]!=null)throw er.create("already-exists",{id:r});if(!h1){I9(gy);const{wrappedGtag:i,gtagCore:o}=R9(gu,c1,u1,gy,q9);$R=i,d1=o,h1=!0}return gu[r]=W9(t,c1,u1,e,d1,gy,n),new H9(t)}function Q9(t=Rw()){t=vn(t);const e=ba(t,rp);return e.isInitialized()?e.getImmediate():Y9(t)}function Y9(t,e={}){const n=ba(t,rp);if(n.isInitialized()){const s=n.getImmediate();if(Zu(e,n.getOptions()))return s;throw er.create("already-initialized")}return n.initialize({options:e})}function X9(t,e,n,r){t=vn(t),B9($R,gu[t.app.options.appId],e,n,r).catch(s=>Fn.error(s))}const f1="@firebase/analytics",p1="0.10.8";function Z9(){us(new Mr(rp,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return G9(r,s,n)},"PUBLIC")),us(new Mr("analytics-internal",t,"PRIVATE")),mr(f1,p1),mr(f1,p1,"esm2017");function t(e){try{const n=e.getProvider(rp).getImmediate();return{logEvent:(r,s,i)=>X9(n,r,s,i)}}catch(n){throw er.create("interop-component-reg-failed",{reason:n})}}}Z9();var Zr=function(){return Zr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zr.apply(this,arguments)};function Ad(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function J9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function BR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ez=BR,zR=new _a("auth","Firebase",BR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=new Pm("@firebase/auth");function tz(t,...e){sp.logLevel<=qe.WARN&&sp.warn(`Auth (${dc}): ${t}`,...e)}function cf(t,...e){sp.logLevel<=qe.ERROR&&sp.error(`Auth (${dc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,...e){throw Vw(t,...e)}function rs(t,...e){return Vw(t,...e)}function WR(t,e,n){const r=Object.assign(Object.assign({},ez()),{[e]:n});return new _a("auth","Firebase",r).create(e,{appName:t.name})}function Os(t){return WR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zR.create(t,...e)}function we(t,e,...n){if(!t)throw Vw(e,...n)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cf(e),new Error(e)}function Gs(t,e){t||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nz(){return m1()==="http:"||m1()==="https:"}function m1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nz()||dR()||"connection"in navigator)?navigator.onLine:!0}function sz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gs(n>e,"Short delay should be less than long delay!"),this.isMobile=lB()||dB()}get(){return rz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t,e){Gs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=new kd(3e4,6e4);function mo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function go(t,e,n,r,s={}){return qR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Id(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return uB()||(c.referrerPolicy="no-referrer"),HR.fetch()(KR(t,t.config.apiHost,n,a),c)})}async function qR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},iz),e);try{const s=new lz(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ph(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ph(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ph(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw WR(t,h,c);Vr(t,h)}}catch(s){if(s instanceof Fr)throw s;Vr(t,"network-request-failed",{message:String(s)})}}async function Pd(t,e,n,r,s={}){const i=await go(t,e,n,r,s);return"mfaPendingCredential"in i&&Vr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function KR(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Lw(t.config,s):`${t.config.apiScheme}://${s}`}function az(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rs(this.auth,"network-request-failed")),oz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=rs(t,e,r);return s.customData._tokenResponse=n,s}function g1(t){return t!==void 0&&t.enterprise!==void 0}class cz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return az(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function uz(t,e){return go(t,"GET","/v2/recaptchaConfig",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,e){return go(t,"POST","/v1/accounts:delete",e)}async function GR(t,e){return go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hz(t,e=!1){const n=vn(t),r=await n.getIdToken(e),s=Fw(r);we(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:yu(yy(s.auth_time)),issuedAtTime:yu(yy(s.iat)),expirationTime:yu(yy(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function yy(t){return Number(t)*1e3}function Fw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const s=aR(n);return s?JSON.parse(s):(cf("Failed to decode base64 JWT payload"),null)}catch(s){return cf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function y1(t){const e=Fw(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fr&&fz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ip(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ed(t,GR(n,{idToken:r}));we(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?QR(i.providerUserInfo):[],a=gz(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new g0(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function mz(t){const e=vn(t);await ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function QR(t){return t.map(e=>{var{providerId:n}=e,r=Ad(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yz(t,e){const n=await qR(t,{},async()=>{const r=Id({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=KR(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",HR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vz(t,e){return go(t,"POST","/v2/accounts:revokeToken",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=y1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await yz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ml;return r&&(we(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(we(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(we(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class As{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ad(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new g0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ed(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hz(this,e)}reload(){return mz(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new As(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ip(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await ed(this,dz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:A,isAnonymous:R,providerData:O,stsTokenManager:C}=n;we(E&&C,e,"internal-error");const S=ml.fromJSON(this.name,C);we(typeof E=="string",e,"internal-error"),ci(f,e.name),ci(p,e.name),we(typeof A=="boolean",e,"internal-error"),we(typeof R=="boolean",e,"internal-error"),ci(m,e.name),ci(w,e.name),ci(v,e.name),ci(_,e.name),ci(b,e.name),ci(y,e.name);const I=new As({uid:E,auth:e,email:p,emailVerified:A,displayName:f,isAnonymous:R,photoURL:w,phoneNumber:m,tenantId:v,stsTokenManager:S,createdAt:b,lastLoginAt:y});return O&&Array.isArray(O)&&(I.providerData=O.map(N=>Object.assign({},N))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new ml;s.updateFromServerResponse(n);const i=new As({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ip(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];we(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?QR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ml;a.updateFromIdToken(r);const l=new As({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new g0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Map;function ks(t){Gs(t instanceof Function,"Expected a class definition");let e=v1.get(t);return e?(Gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YR.type="NONE";const x1=YR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e,n){return`firebase:${t}:${e}:${n}`}class gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=uf(this.userKey,s.apiKey,i),this.fullPersistenceKey=uf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?As._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gl(ks(x1),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ks(x1);const o=uf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=As._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new gl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new gl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nN(e))return"Blackberry";if(rN(e))return"Webos";if(ZR(e))return"Safari";if((e.includes("chrome/")||JR(e))&&!e.includes("edge/"))return"Chrome";if(tN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XR(t=yn()){return/firefox\//i.test(t)}function ZR(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JR(t=yn()){return/crios\//i.test(t)}function eN(t=yn()){return/iemobile/i.test(t)}function tN(t=yn()){return/android/i.test(t)}function nN(t=yn()){return/blackberry/i.test(t)}function rN(t=yn()){return/webos/i.test(t)}function Uw(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xz(t=yn()){var e;return Uw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wz(){return hB()&&document.documentMode===10}function sN(t=yn()){return Uw(t)||tN(t)||rN(t)||nN(t)||/windows phone/i.test(t)||eN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t,e=[]){let n;switch(t){case"Browser":n=w1(yn());break;case"Worker":n=`${w1(yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(t,e={}){return go(t,"GET","/v2/passwordPolicy",mo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=6;class Tz{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ez,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _1(this),this.idTokenSubscription=new _1(this),this.beforeStateQueue=new _z(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ks(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await GR(this,{idToken:e}),r=await As._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ip(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(Os(this));const n=e?vn(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bz(this),n=new Tz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _a("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ks(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&tz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ea(t){return vn(t)}class _1{constructor(e){this.auth=e,this.observer=null,this.addObserver=xB(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cz(t){jm=t}function oN(t){return jm.loadJS(t)}function Iz(){return jm.recaptchaEnterpriseScript}function Az(){return jm.gapiScript}function kz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Pz="recaptcha-enterprise",Rz="NO_RECAPTCHA";class Nz{constructor(e){this.type=Pz,this.auth=Ea(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{uz(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new cz(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;g1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(Rz)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&g1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Iz();l.length!==0&&(l+=a),oN(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function b1(t,e,n,r=!1){const s=new Nz(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function y0(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await b1(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await b1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t,e){const n=ba(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Zu(i,e??{}))return s;Vr(s,"already-initialized")}return n.initialize({options:e})}function Dz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ks);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Oz(t,e,n){const r=Ea(t);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=aN(e),{host:o,port:a}=Mz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Vz()}function aN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Mz(t){const e=aN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:E1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:E1(o)}}}function E1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Vz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,n){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function Lz(t,e){return go(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fz(t,e){return Pd(t,"POST","/v1/accounts:signInWithPassword",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(t,e){return Pd(t,"POST","/v1/accounts:signInWithEmailLink",mo(t,e))}async function $z(t,e){return Pd(t,"POST","/v1/accounts:signInWithEmailLink",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends $w{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new td(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new td(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(e,n,"signInWithPassword",Fz);case"emailLink":return Uz(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(e,r,"signUpPassword",Lz);case"emailLink":return $z(e,{idToken:n,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t,e){return Pd(t,"POST","/v1/accounts:signInWithIdp",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz="http://localhost";class la extends $w{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ad(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new la(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return yl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yl(e,n)}buildRequest(){const e={requestUri:Bz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Id(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Wz(t){const e=Qc(Yc(t)).link,n=e?Qc(Yc(e)).deep_link_id:null,r=Qc(Yc(t)).deep_link_id;return(r?Qc(Yc(r)).link:null)||r||n||e||t}class Bw{constructor(e){var n,r,s,i,o,a;const l=Qc(Yc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=zz((s=l.mode)!==null&&s!==void 0?s:null);we(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Wz(e);try{return new Bw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.providerId=hc.PROVIDER_ID}static credential(e,n){return td._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bw.parseLink(n);return we(r,"argument-error"),td._fromEmailAndCode(e,r.code,r.tenantId)}}hc.PROVIDER_ID="password";hc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends lN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Rd{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wi.credential(n,r)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Rd{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Rd{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return bi.credential(n,r)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(t,e){return Pd(t,"POST","/v1/accounts:signUp",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await As._fromIdTokenResponse(e,r,s),o=T1(r);return new ca({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=T1(r);return new ca({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function T1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends Fr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,op.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new op(e,n,r,s)}}function cN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?op._fromErrorAndOperation(t,i,e,r):i})}async function qz(t,e,n=!1){const r=await ed(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ca._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(t,e,n=!1){const{auth:r}=t;if(Jr(r.app))return Promise.reject(Os(r));const s="reauthenticate";try{const i=await ed(t,cN(r,s,e,t),n);we(i.idToken,r,"internal-error");const o=Fw(i.idToken);we(o,r,"internal-error");const{sub:a}=o;return we(t.uid===a,r,"user-mismatch"),ca._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Vr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(t,e,n=!1){if(Jr(t.app))return Promise.reject(Os(t));const r="signIn",s=await cN(t,r,e),i=await ca._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Gz(t,e){return uN(Ea(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t){const e=Ea(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S1(t,e,n){if(Jr(t.app))return Promise.reject(Os(t));const r=Ea(t),o=await y0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hz).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&dN(t),l}),a=await ca._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function C1(t,e,n){return Jr(t.app)?Promise.reject(Os(t)):Gz(vn(t),hc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dN(t),r})}function Qz(t,e,n,r){return vn(t).onIdTokenChanged(e,n,r)}function Yz(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function Xz(t){return vn(t).signOut()}const ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ap,"1"),this.storage.removeItem(ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=1e3,Jz=10;class fN extends hN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);wz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Jz):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Zz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fN.type="LOCAL";const e8=fN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN extends hN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pN.type="SESSION";const mN=pN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Dm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await t8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=zw("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function r8(t){ss().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function s8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function o8(){return gN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="firebaseLocalStorageDb",a8=1,lp="firebaseLocalStorage",vN="fbase_key";class Nd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Om(t,e){return t.transaction([lp],e?"readwrite":"readonly").objectStore(lp)}function l8(){const t=indexedDB.deleteDatabase(yN);return new Nd(t).toPromise()}function v0(){const t=indexedDB.open(yN,a8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lp,{keyPath:vN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lp)?e(r):(r.close(),await l8(),e(await v0()))})})}async function I1(t,e,n){const r=Om(t,!0).put({[vN]:e,value:n});return new Nd(r).toPromise()}async function c8(t,e){const n=Om(t,!1).get(e),r=await new Nd(n).toPromise();return r===void 0?null:r.value}function A1(t,e){const n=Om(t,!0).delete(e);return new Nd(n).toPromise()}const u8=800,d8=3;class xN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>d8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dm._getInstance(o8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await s8(),!this.activeServiceWorker)return;this.sender=new n8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||i8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await v0();return await I1(e,ap,"1"),await A1(e,ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>I1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>c8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Om(s,!1).getAll();return new Nd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xN.type="LOCAL";const h8=xN;new kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t,e){return e?ks(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends $w{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function p8(t){return uN(t.auth,new Ww(t),t.bypassAuthState)}function m8(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),Kz(n,new Ww(t),t.bypassAuthState)}async function g8(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),qz(n,new Ww(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p8;case"linkViaPopup":case"linkViaRedirect":return g8;case"reauthViaPopup":case"reauthViaRedirect":return m8;default:Vr(this.auth,"internal-error")}}resolve(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=new kd(2e3,1e4);class tl extends wN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Gs(this.filter.length===1,"Popup operations only handle one event");const e=zw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y8.get())};e()}}tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8="pendingRedirect",df=new Map;class x8 extends wN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=df.get(this.auth._key());if(!e){try{const r=await w8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}df.set(this.auth._key(),e)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w8(t,e){const n=E8(e),r=b8(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function _8(t,e){df.set(t._key(),e)}function b8(t){return ks(t._redirectPersistence)}function E8(t){return uf(v8,t.config.apiKey,t.name)}async function T8(t,e,n=!1){if(Jr(t.app))return Promise.reject(Os(t));const r=Ea(t),s=f8(r,e),o=await new x8(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=10*60*1e3;class C8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_N(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S8&&this.cachedEventUids.clear(),this.cachedEventUids.has(k1(e))}saveEventToCache(e){this.cachedEventUids.add(k1(e)),this.lastProcessedEventTime=Date.now()}}function k1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _N({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function I8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _N(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(t,e={}){return go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P8=/^https?/;async function R8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await A8(t);for(const n of e)try{if(N8(n))return}catch{}Vr(t,"unauthorized-domain")}function N8(t){const e=m0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P8.test(n))return!1;if(k8.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=new kd(3e4,6e4);function P1(){const t=ss().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function D8(t){return new Promise((e,n)=>{var r,s,i;function o(){P1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P1(),n(rs(t,"network-request-failed"))},timeout:j8.get()})}if(!((s=(r=ss().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ss().gapi)===null||i===void 0)&&i.load)o();else{const a=kz("iframefcb");return ss()[a]=()=>{gapi.load?o():n(rs(t,"network-request-failed"))},oN(`${Az()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw hf=null,e})}let hf=null;function O8(t){return hf=hf||D8(t),hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=new kd(5e3,15e3),V8="__/auth/iframe",L8="emulator/auth/iframe",F8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $8(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lw(e,L8):`https://${t.config.authDomain}/${V8}`,r={apiKey:e.apiKey,appName:t.name,v:dc},s=U8.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Id(r).slice(1)}`}async function B8(t){const e=await O8(t),n=ss().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:$8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F8,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=rs(t,"network-request-failed"),a=ss().setTimeout(()=>{i(o)},M8.get());function l(){ss().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W8=500,H8=600,q8="_blank",K8="http://localhost";class R1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G8(t,e,n,r=W8,s=H8){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},z8),{width:r.toString(),height:s.toString(),top:i,left:o}),c=yn().toLowerCase();n&&(a=JR(c)?q8:n),XR(c)&&(e=e||K8,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[m,w])=>`${p}${m}=${w},`,"");if(xz(c)&&a!=="_self")return Q8(e||"",a),new R1(null);const f=window.open(e||"",a,h);we(f,t,"popup-blocked");try{f.focus()}catch{}return new R1(f)}function Q8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8="__/auth/handler",X8="emulator/auth/handler",Z8=encodeURIComponent("fac");async function N1(t,e,n,r,s,i){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:dc,eventId:s};if(e instanceof lN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vB(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Rd){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${Z8}=${encodeURIComponent(l)}`:"";return`${J8(t)}?${Id(a).slice(1)}${c}`}function J8({config:t}){return t.emulator?Lw(t,X8):`https://${t.authDomain}/${Y8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="webStorageSupport";class e7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mN,this._completeRedirectFn=T8,this._overrideRedirectResult=_8}async _openPopup(e,n,r,s){var i;Gs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await N1(e,n,r,m0(),s);return G8(e,o,zw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await N1(e,n,r,m0(),s);return r8(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Gs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await B8(e),r=new C8(e);return n.register("authEvent",s=>(we(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vy,{type:vy},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[vy];o!==void 0&&n(!!o),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=R8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sN()||ZR()||Uw()}}const t7=e7;var j1="@firebase/auth",D1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s7(t){us(new Mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;we(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iN(t)},c=new Sz(r,s,i,l);return Dz(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),us(new Mr("auth-internal",e=>{const n=Ea(e.getProvider("auth").getImmediate());return(r=>new n7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(j1,D1,r7(t)),mr(j1,D1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=5*60,o7=uR("authIdTokenMaxAge")||i7;let O1=null;const a7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>o7)return;const s=n==null?void 0:n.token;O1!==s&&(O1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function l7(t=Rw()){const e=ba(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jz(t,{popupRedirectResolver:t7,persistence:[h8,e8,mN]}),r=uR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=a7(i.toString());Yz(n,o,()=>o(n.currentUser)),Qz(n,a=>o(a))}}const s=lR("auth");return s&&Oz(n,`http://${s}`),n}function c7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Cz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=rs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",c7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s7("Browser");var M1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qo,bN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function I(){}I.prototype=S.prototype,C.D=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(N,D,j){for(var P=Array(arguments.length-2),B=2;B<arguments.length;B++)P[B-2]=arguments[B];return S.prototype[D].apply(N,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,I){I||(I=0);var N=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)N[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;16>D;++D)N[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],D=C.g[2];var j=C.g[3],P=S+(j^I&(D^j))+N[0]+3614090360&4294967295;S=I+(P<<7&4294967295|P>>>25),P=j+(D^S&(I^D))+N[1]+3905402710&4294967295,j=S+(P<<12&4294967295|P>>>20),P=D+(I^j&(S^I))+N[2]+606105819&4294967295,D=j+(P<<17&4294967295|P>>>15),P=I+(S^D&(j^S))+N[3]+3250441966&4294967295,I=D+(P<<22&4294967295|P>>>10),P=S+(j^I&(D^j))+N[4]+4118548399&4294967295,S=I+(P<<7&4294967295|P>>>25),P=j+(D^S&(I^D))+N[5]+1200080426&4294967295,j=S+(P<<12&4294967295|P>>>20),P=D+(I^j&(S^I))+N[6]+2821735955&4294967295,D=j+(P<<17&4294967295|P>>>15),P=I+(S^D&(j^S))+N[7]+4249261313&4294967295,I=D+(P<<22&4294967295|P>>>10),P=S+(j^I&(D^j))+N[8]+1770035416&4294967295,S=I+(P<<7&4294967295|P>>>25),P=j+(D^S&(I^D))+N[9]+2336552879&4294967295,j=S+(P<<12&4294967295|P>>>20),P=D+(I^j&(S^I))+N[10]+4294925233&4294967295,D=j+(P<<17&4294967295|P>>>15),P=I+(S^D&(j^S))+N[11]+2304563134&4294967295,I=D+(P<<22&4294967295|P>>>10),P=S+(j^I&(D^j))+N[12]+1804603682&4294967295,S=I+(P<<7&4294967295|P>>>25),P=j+(D^S&(I^D))+N[13]+4254626195&4294967295,j=S+(P<<12&4294967295|P>>>20),P=D+(I^j&(S^I))+N[14]+2792965006&4294967295,D=j+(P<<17&4294967295|P>>>15),P=I+(S^D&(j^S))+N[15]+1236535329&4294967295,I=D+(P<<22&4294967295|P>>>10),P=S+(D^j&(I^D))+N[1]+4129170786&4294967295,S=I+(P<<5&4294967295|P>>>27),P=j+(I^D&(S^I))+N[6]+3225465664&4294967295,j=S+(P<<9&4294967295|P>>>23),P=D+(S^I&(j^S))+N[11]+643717713&4294967295,D=j+(P<<14&4294967295|P>>>18),P=I+(j^S&(D^j))+N[0]+3921069994&4294967295,I=D+(P<<20&4294967295|P>>>12),P=S+(D^j&(I^D))+N[5]+3593408605&4294967295,S=I+(P<<5&4294967295|P>>>27),P=j+(I^D&(S^I))+N[10]+38016083&4294967295,j=S+(P<<9&4294967295|P>>>23),P=D+(S^I&(j^S))+N[15]+3634488961&4294967295,D=j+(P<<14&4294967295|P>>>18),P=I+(j^S&(D^j))+N[4]+3889429448&4294967295,I=D+(P<<20&4294967295|P>>>12),P=S+(D^j&(I^D))+N[9]+568446438&4294967295,S=I+(P<<5&4294967295|P>>>27),P=j+(I^D&(S^I))+N[14]+3275163606&4294967295,j=S+(P<<9&4294967295|P>>>23),P=D+(S^I&(j^S))+N[3]+4107603335&4294967295,D=j+(P<<14&4294967295|P>>>18),P=I+(j^S&(D^j))+N[8]+1163531501&4294967295,I=D+(P<<20&4294967295|P>>>12),P=S+(D^j&(I^D))+N[13]+2850285829&4294967295,S=I+(P<<5&4294967295|P>>>27),P=j+(I^D&(S^I))+N[2]+4243563512&4294967295,j=S+(P<<9&4294967295|P>>>23),P=D+(S^I&(j^S))+N[7]+1735328473&4294967295,D=j+(P<<14&4294967295|P>>>18),P=I+(j^S&(D^j))+N[12]+2368359562&4294967295,I=D+(P<<20&4294967295|P>>>12),P=S+(I^D^j)+N[5]+4294588738&4294967295,S=I+(P<<4&4294967295|P>>>28),P=j+(S^I^D)+N[8]+2272392833&4294967295,j=S+(P<<11&4294967295|P>>>21),P=D+(j^S^I)+N[11]+1839030562&4294967295,D=j+(P<<16&4294967295|P>>>16),P=I+(D^j^S)+N[14]+4259657740&4294967295,I=D+(P<<23&4294967295|P>>>9),P=S+(I^D^j)+N[1]+2763975236&4294967295,S=I+(P<<4&4294967295|P>>>28),P=j+(S^I^D)+N[4]+1272893353&4294967295,j=S+(P<<11&4294967295|P>>>21),P=D+(j^S^I)+N[7]+4139469664&4294967295,D=j+(P<<16&4294967295|P>>>16),P=I+(D^j^S)+N[10]+3200236656&4294967295,I=D+(P<<23&4294967295|P>>>9),P=S+(I^D^j)+N[13]+681279174&4294967295,S=I+(P<<4&4294967295|P>>>28),P=j+(S^I^D)+N[0]+3936430074&4294967295,j=S+(P<<11&4294967295|P>>>21),P=D+(j^S^I)+N[3]+3572445317&4294967295,D=j+(P<<16&4294967295|P>>>16),P=I+(D^j^S)+N[6]+76029189&4294967295,I=D+(P<<23&4294967295|P>>>9),P=S+(I^D^j)+N[9]+3654602809&4294967295,S=I+(P<<4&4294967295|P>>>28),P=j+(S^I^D)+N[12]+3873151461&4294967295,j=S+(P<<11&4294967295|P>>>21),P=D+(j^S^I)+N[15]+530742520&4294967295,D=j+(P<<16&4294967295|P>>>16),P=I+(D^j^S)+N[2]+3299628645&4294967295,I=D+(P<<23&4294967295|P>>>9),P=S+(D^(I|~j))+N[0]+4096336452&4294967295,S=I+(P<<6&4294967295|P>>>26),P=j+(I^(S|~D))+N[7]+1126891415&4294967295,j=S+(P<<10&4294967295|P>>>22),P=D+(S^(j|~I))+N[14]+2878612391&4294967295,D=j+(P<<15&4294967295|P>>>17),P=I+(j^(D|~S))+N[5]+4237533241&4294967295,I=D+(P<<21&4294967295|P>>>11),P=S+(D^(I|~j))+N[12]+1700485571&4294967295,S=I+(P<<6&4294967295|P>>>26),P=j+(I^(S|~D))+N[3]+2399980690&4294967295,j=S+(P<<10&4294967295|P>>>22),P=D+(S^(j|~I))+N[10]+4293915773&4294967295,D=j+(P<<15&4294967295|P>>>17),P=I+(j^(D|~S))+N[1]+2240044497&4294967295,I=D+(P<<21&4294967295|P>>>11),P=S+(D^(I|~j))+N[8]+1873313359&4294967295,S=I+(P<<6&4294967295|P>>>26),P=j+(I^(S|~D))+N[15]+4264355552&4294967295,j=S+(P<<10&4294967295|P>>>22),P=D+(S^(j|~I))+N[6]+2734768916&4294967295,D=j+(P<<15&4294967295|P>>>17),P=I+(j^(D|~S))+N[13]+1309151649&4294967295,I=D+(P<<21&4294967295|P>>>11),P=S+(D^(I|~j))+N[4]+4149444226&4294967295,S=I+(P<<6&4294967295|P>>>26),P=j+(I^(S|~D))+N[11]+3174756917&4294967295,j=S+(P<<10&4294967295|P>>>22),P=D+(S^(j|~I))+N[2]+718787259&4294967295,D=j+(P<<15&4294967295|P>>>17),P=I+(j^(D|~S))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var I=S-this.blockSize,N=this.B,D=this.h,j=0;j<S;){if(D==0)for(;j<=I;)s(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<S;)if(N[D++]=C.charCodeAt(j++),D==this.blockSize){s(this,N),D=0;break}}else for(;j<S;)if(N[D++]=C[j++],D==this.blockSize){s(this,N),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var I=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=I&255,I/=256;for(this.u(C),C=Array(16),S=I=0;4>S;++S)for(var N=0;32>N;N+=8)C[I++]=this.g[S]>>>N&255;return C};function i(C,S){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function o(C,S){this.h=S;for(var I=[],N=!0,D=C.length-1;0<=D;D--){var j=C[D]|0;N&&j==S||(I[D]=j,N=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return _(c(-C));for(var S=[],I=1,N=0;C>=I;N++)S[N]=C/I|0,I*=4294967296;return new o(S,0)}function h(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return _(h(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(S,8)),N=f,D=0;D<C.length;D+=8){var j=Math.min(8,C.length-D),P=parseInt(C.substring(D,D+j),S);8>j?(j=c(Math.pow(S,j)),N=N.j(j).add(c(P))):(N=N.j(I),N=N.add(c(P)))}return N}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-_(this).m();for(var C=0,S=1,I=0;I<this.g.length;I++){var N=this.i(I);C+=(0<=N?N:4294967296+N)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(v(this))return"-"+_(this).toString(C);for(var S=c(Math.pow(C,6)),I=this,N="";;){var D=A(I,S).g;I=b(I,D.j(S));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=D,w(I))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=b(this,C),v(C)?-1:w(C)?0:1};function _(C){for(var S=C.g.length,I=[],N=0;N<S;N++)I[N]=~C.g[N];return new o(I,~C.h).add(p)}t.abs=function(){return v(this)?_(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],N=0,D=0;D<=S;D++){var j=N+(this.i(D)&65535)+(C.i(D)&65535),P=(j>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);N=P>>>16,j&=65535,P&=65535,I[D]=P<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function b(C,S){return C.add(_(S))}t.j=function(C){if(w(this)||w(C))return f;if(v(this))return v(C)?_(this).j(_(C)):_(_(this).j(C));if(v(C))return _(this.j(_(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var S=this.g.length+C.g.length,I=[],N=0;N<2*S;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var D=0;D<C.g.length;D++){var j=this.i(N)>>>16,P=this.i(N)&65535,B=C.i(D)>>>16,re=C.i(D)&65535;I[2*N+2*D]+=P*re,y(I,2*N+2*D),I[2*N+2*D+1]+=j*re,y(I,2*N+2*D+1),I[2*N+2*D+1]+=P*B,y(I,2*N+2*D+1),I[2*N+2*D+2]+=j*B,y(I,2*N+2*D+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new o(I,0)};function y(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function E(C,S){this.g=C,this.h=S}function A(C,S){if(w(S))throw Error("division by zero");if(w(C))return new E(f,f);if(v(C))return S=A(_(C),S),new E(_(S.g),_(S.h));if(v(S))return S=A(C,_(S)),new E(_(S.g),S.h);if(30<C.g.length){if(v(C)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var I=p,N=S;0>=N.l(C);)I=R(I),N=R(N);var D=O(I,1),j=O(N,1);for(N=O(N,2),I=O(I,2);!w(N);){var P=j.add(N);0>=P.l(C)&&(D=D.add(I),j=P),N=O(N,1),I=O(I,1)}return S=b(C,D.j(S)),new E(D,S)}for(D=f;0<=C.l(S);){for(I=Math.max(1,Math.floor(C.m()/S.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=c(I),P=j.j(S);v(P)||0<P.l(C);)I-=N,j=c(I),P=j.j(S);w(j)&&(j=p),D=D.add(j),C=b(C,P)}return new E(D,C)}t.A=function(C){return A(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)&C.i(N);return new o(I,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)|C.i(N);return new o(I,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)^C.i(N);return new o(I,this.h^C.h)};function R(C){for(var S=C.g.length+1,I=[],N=0;N<S;N++)I[N]=C.i(N)<<1|C.i(N-1)>>>31;return new o(I,C.h)}function O(C,S){var I=S>>5;S%=32;for(var N=C.g.length-I,D=[],j=0;j<N;j++)D[j]=0<S?C.i(j+I)>>>S|C.i(j+I+1)<<32-S:C.i(j+I);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Qo=o}).apply(typeof M1<"u"?M1:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EN,Xc,TN,ff,x0,SN,CN,IN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,T){return d==Array.prototype||d==Object.prototype||(d[g]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var g=0;g<d.length;++g){var T=d[g];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(d,g){if(g)e:{var T=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var L=d[k];if(!(L in T))break e;T=T[L]}d=d[d.length-1],k=T[d],g=g(k),g!=k&&g!=null&&e(T,d,{configurable:!0,writable:!0,value:g})}}function i(d,g){d instanceof String&&(d+="");var T=0,k=!1,L={next:function(){if(!k&&T<d.length){var U=T++;return{value:g(U,d[U]),done:!1}}return k=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(d){return d||function(){return i(this,function(g,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function c(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function h(d,g,T){return d.call.apply(d.bind,arguments)}function f(d,g,T){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,k),d.apply(g,L)}}return function(){return d.apply(g,arguments)}}function p(d,g,T){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function m(d,g){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function w(d,g){function T(){}T.prototype=g.prototype,d.aa=g.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(k,L,U){for(var te=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)te[ot-2]=arguments[ot];return g.prototype[L].apply(k,te)}}function v(d){const g=d.length;if(0<g){const T=Array(g);for(let k=0;k<g;k++)T[k]=d[k];return T}return[]}function _(d,g){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(l(k)){const L=d.length||0,U=k.length||0;d.length=L+U;for(let te=0;te<U;te++)d[L+te]=k[te]}else d.push(k)}}class b{constructor(g,T){this.i=g,this.j=T,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function y(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function A(d){return A[" "](d),d}A[" "]=function(){};var R=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(d,g,T){for(const k in d)g.call(T,d[k],k,d)}function C(d,g){for(const T in d)g.call(void 0,d[T],T,d)}function S(d){const g={};for(const T in d)g[T]=d[T];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,g){let T,k;for(let L=1;L<arguments.length;L++){k=arguments[L];for(T in k)d[T]=k[T];for(let U=0;U<I.length;U++)T=I[U],Object.prototype.hasOwnProperty.call(k,T)&&(d[T]=k[T])}}function D(d){var g=1;d=d.split(":");const T=[];for(;0<g&&d.length;)T.push(d.shift()),g--;return d.length&&T.push(d.join(":")),T}function j(d){a.setTimeout(()=>{throw d},0)}function P(){var d=H;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class B{constructor(){this.h=this.g=null}add(g,T){const k=re.get();k.set(g,T),this.h?this.h.next=k:this.g=k,this.h=k}}var re=new b(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,T){this.h=g,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,F=!1,H=new B,oe=()=>{const d=a.Promise.resolve(void 0);se=()=>{d.then(G)}};var G=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(T){j(T)}var g=re;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}F=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,g),a.removeEventListener("test",T,g)}catch{}return d}();function tt(d,g){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(R){e:{try{A(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else T=="mouseover"?g=d.fromElement:T=="mouseout"&&(g=d.toElement);this.relatedTarget=g,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:be[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&tt.aa.h.call(this)}}w(tt,pe);var be={2:"touch",3:"pen",4:"mouse"};tt.prototype.h=function(){tt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function Ze(d,g,T,k,L){this.listener=d,this.proxy=null,this.src=g,this.type=T,this.capture=!!k,this.ha=L,this.key=++Ue,this.da=this.fa=!1}function ke(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ee(d){this.src=d,this.g={},this.h=0}Ee.prototype.add=function(d,g,T,k,L){var U=d.toString();d=this.g[U],d||(d=this.g[U]=[],this.h++);var te=ut(d,g,k,L);return-1<te?(g=d[te],T||(g.fa=!1)):(g=new Ze(g,this.src,U,!!k,L),g.fa=T,d.push(g)),g};function Oe(d,g){var T=g.type;if(T in d.g){var k=d.g[T],L=Array.prototype.indexOf.call(k,g,void 0),U;(U=0<=L)&&Array.prototype.splice.call(k,L,1),U&&(ke(g),d.g[T].length==0&&(delete d.g[T],d.h--))}}function ut(d,g,T,k){for(var L=0;L<d.length;++L){var U=d[L];if(!U.da&&U.listener==g&&U.capture==!!T&&U.ha==k)return L}return-1}var jt="closure_lm_"+(1e6*Math.random()|0),Wn={};function tn(d,g,T,k,L){if(Array.isArray(g)){for(var U=0;U<g.length;U++)tn(d,g[U],T,k,L);return null}return T=Pe(T),d&&d[de]?d.K(g,T,c(k)?!!k.capture:!!k,L):Br(d,g,T,!1,k,L)}function Br(d,g,T,k,L,U){if(!g)throw Error("Invalid event type");var te=c(L)?!!L.capture:!!L,ot=Y(d);if(ot||(d[jt]=ot=new Ee(d)),T=ot.add(g,T,k,te,U),T.proxy)return T;if(k=M(),T.proxy=k,k.src=d,k.listener=T,d.addEventListener)Be||(L=te),L===void 0&&(L=!1),d.addEventListener(g.toString(),k,L);else if(d.attachEvent)d.attachEvent(ie(g.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function M(){function d(T){return g.call(d.src,d.listener,T)}const g=ee;return d}function V(d,g,T,k,L){if(Array.isArray(g))for(var U=0;U<g.length;U++)V(d,g[U],T,k,L);else k=c(k)?!!k.capture:!!k,T=Pe(T),d&&d[de]?(d=d.i,g=String(g).toString(),g in d.g&&(U=d.g[g],T=ut(U,T,k,L),-1<T&&(ke(U[T]),Array.prototype.splice.call(U,T,1),U.length==0&&(delete d.g[g],d.h--)))):d&&(d=Y(d))&&(g=d.g[g.toString()],d=-1,g&&(d=ut(g,T,k,L)),(T=-1<d?g[d]:null)&&$(T))}function $(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[de])Oe(g.i,d);else{var T=d.type,k=d.proxy;g.removeEventListener?g.removeEventListener(T,k,d.capture):g.detachEvent?g.detachEvent(ie(T),k):g.addListener&&g.removeListener&&g.removeListener(k),(T=Y(g))?(Oe(T,d),T.h==0&&(T.src=null,g[jt]=null)):ke(d)}}}function ie(d){return d in Wn?Wn[d]:Wn[d]="on"+d}function ee(d,g){if(d.da)d=!0;else{g=new tt(g,this);var T=d.listener,k=d.ha||d.src;d.fa&&$(d),d=T.call(k,g)}return d}function Y(d){return d=d[jt],d instanceof Ee?d:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pe(d){return typeof d=="function"?d:(d[me]||(d[me]=function(g){return d.handleEvent(g)}),d[me])}function $e(){ae.call(this),this.i=new Ee(this),this.M=this,this.F=null}w($e,ae),$e.prototype[de]=!0,$e.prototype.removeEventListener=function(d,g,T,k){V(this,d,g,T,k)};function Me(d,g){var T,k=d.F;if(k)for(T=[];k;k=k.F)T.push(k);if(d=d.M,k=g.type||g,typeof g=="string")g=new pe(g,d);else if(g instanceof pe)g.target=g.target||d;else{var L=g;g=new pe(k,d),N(g,L)}if(L=!0,T)for(var U=T.length-1;0<=U;U--){var te=g.g=T[U];L=xn(te,k,!0,g)&&L}if(te=g.g=d,L=xn(te,k,!0,g)&&L,L=xn(te,k,!1,g)&&L,T)for(U=0;U<T.length;U++)te=g.g=T[U],L=xn(te,k,!1,g)&&L}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var T=d.g[g],k=0;k<T.length;k++)ke(T[k]);delete d.g[g],d.h--}}this.F=null},$e.prototype.K=function(d,g,T,k){return this.i.add(String(d),g,!1,T,k)},$e.prototype.L=function(d,g,T,k){return this.i.add(String(d),g,!0,T,k)};function xn(d,g,T,k){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,U=0;U<g.length;++U){var te=g[U];if(te&&!te.da&&te.capture==T){var ot=te.listener,qt=te.ha||te.src;te.fa&&Oe(d.i,te),L=ot.call(qt,k)!==!1&&L}}return L&&!k.defaultPrevented}function wr(d,g,T){if(typeof d=="function")T&&(d=p(d,T));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function ms(d){d.g=wr(()=>{d.g=null,d.i&&(d.i=!1,ms(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class wo extends ae{constructor(g,T){super(),this.m=g,this.l=T,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ms(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(d){ae.call(this),this.h=d,this.g={}}w(zr,ae);var ti=[];function ka(d){O(d.g,function(g,T){this.g.hasOwnProperty(T)&&$(g)},d),d.g={}}zr.prototype.N=function(){zr.aa.N.call(this),ka(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wr=a.JSON.stringify,Hr=a.JSON.parse,mg=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Ce(){}Ce.prototype.h=null;function it(d){return d.h||(d.h=d.i())}function nt(){}var nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rn(){pe.call(this,"d")}w(Rn,pe);function ni(){pe.call(this,"c")}w(ni,pe);var gs={},pb=null;function qd(){return pb=pb||new $e}gs.La="serverreachability";function mb(d){pe.call(this,gs.La,d)}w(mb,pe);function xc(d){const g=qd();Me(g,new mb(g))}gs.STAT_EVENT="statevent";function gb(d,g){pe.call(this,gs.STAT_EVENT,d),this.stat=g}w(gb,pe);function wn(d){const g=qd();Me(g,new gb(g,d))}gs.Ma="timingevent";function yb(d,g){pe.call(this,gs.Ma,d),this.size=g}w(yb,pe);function wc(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function _c(){this.g=!0}_c.prototype.xa=function(){this.g=!1};function NM(d,g,T,k,L,U){d.info(function(){if(d.g)if(U)for(var te="",ot=U.split("&"),qt=0;qt<ot.length;qt++){var Ye=ot[qt].split("=");if(1<Ye.length){var rn=Ye[0];Ye=Ye[1];var sn=rn.split("_");te=2<=sn.length&&sn[1]=="type"?te+(rn+"="+Ye+"&"):te+(rn+"=redacted&")}}else te=null;else te=U;return"XMLHTTP REQ ("+k+") [attempt "+L+"]: "+g+`
`+T+`
`+te})}function jM(d,g,T,k,L,U,te){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+L+"]: "+g+`
`+T+`
`+U+" "+te})}function Pa(d,g,T,k){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+OM(d,T)+(k?" "+k:"")})}function DM(d,g){d.info(function(){return"TIMEOUT: "+g})}_c.prototype.info=function(){};function OM(d,g){if(!d.g)return g;if(!g)return null;try{var T=JSON.parse(g);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var k=T[d];if(!(2>k.length)){var L=k[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var te=1;te<L.length;te++)L[te]=""}}}}return Wr(T)}catch{return g}}var Kd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gg;function Gd(){}w(Gd,Ce),Gd.prototype.g=function(){return new XMLHttpRequest},Gd.prototype.i=function(){return{}},gg=new Gd;function ri(d,g,T,k){this.j=d,this.i=g,this.l=T,this.R=k||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xb}function xb(){this.i=null,this.g="",this.h=!1}var wb={},yg={};function vg(d,g,T){d.L=1,d.v=Zd(ys(g)),d.m=T,d.P=!0,_b(d,null)}function _b(d,g){d.F=Date.now(),Qd(d),d.A=ys(d.v);var T=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),Ob(T.i,"t",k),d.C=0,T=d.j.J,d.h=new xb,d.g=Jb(d.j,T?g:null,!d.m),0<d.O&&(d.M=new wo(p(d.Y,d,d.g),d.O)),g=d.U,T=d.g,k=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(ti[0]=L.toString()),L=ti);for(var U=0;U<L.length;U++){var te=tn(T,L[U],k||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),xc(),NM(d.i,d.u,d.A,d.l,d.R,d.m)}ri.prototype.ca=function(d){d=d.target;const g=this.M;g&&vs(d)==3?g.j():this.Y(d)},ri.prototype.Y=function(d){try{if(d==this.g)e:{const sn=vs(this.g);var g=this.g.Ba();const ja=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||Bb(this.g)))){this.J||sn!=4||g==7||(g==8||0>=ja?xc(3):xc(2)),xg(this);var T=this.g.Z();this.X=T;t:if(bb(this)){var k=Bb(this.g);d="";var L=k.length,U=vs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_o(this),bc(this);var te="";break t}this.h.i=new a.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,d+=this.h.i.decode(k[g],{stream:!(U&&g==L-1)});k.length=0,this.h.g+=d,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=T==200,jM(this.i,this.u,this.A,this.l,this.R,sn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,qt=this.g;if((ot=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ot)){var Ye=ot;break t}}Ye=null}if(T=Ye)Pa(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wg(this,T);else{this.o=!1,this.s=3,wn(12),_o(this),bc(this);break e}}if(this.P){T=!0;let _r;for(;!this.J&&this.C<te.length;)if(_r=MM(this,te),_r==yg){sn==4&&(this.s=4,wn(14),T=!1),Pa(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==wb){this.s=4,wn(15),Pa(this.i,this.l,te,"[Invalid Chunk]"),T=!1;break}else Pa(this.i,this.l,_r,null),wg(this,_r);if(bb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||te.length!=0||this.h.h||(this.s=1,wn(16),T=!1),this.o=this.o&&T,!T)Pa(this.i,this.l,te,"[Invalid Chunked Response]"),_o(this),bc(this);else if(0<te.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Cg(rn),rn.M=!0,wn(11))}}else Pa(this.i,this.l,te,null),wg(this,te);sn==4&&_o(this),this.o&&!this.J&&(sn==4?Qb(this.j,this):(this.o=!1,Qd(this)))}else JM(this.g),T==400&&0<te.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),_o(this),bc(this)}}}catch{}finally{}};function bb(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function MM(d,g){var T=d.C,k=g.indexOf(`
`,T);return k==-1?yg:(T=Number(g.substring(T,k)),isNaN(T)?wb:(k+=1,k+T>g.length?yg:(g=g.slice(k,k+T),d.C=k+T,g)))}ri.prototype.cancel=function(){this.J=!0,_o(this)};function Qd(d){d.S=Date.now()+d.I,Eb(d,d.I)}function Eb(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=wc(p(d.ba,d),g)}function xg(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ri.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(DM(this.i,this.A),this.L!=2&&(xc(),wn(17)),_o(this),this.s=2,bc(this)):Eb(this,this.S-d)};function bc(d){d.j.G==0||d.J||Qb(d.j,d)}function _o(d){xg(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,ka(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function wg(d,g){try{var T=d.j;if(T.G!=0&&(T.g==d||_g(T.h,d))){if(!d.K&&_g(T.h,d)&&T.G==3){try{var k=T.Da.g.parse(g)}catch{k=null}if(Array.isArray(k)&&k.length==3){var L=k;if(L[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)sh(T),nh(T);else break e;Sg(T),wn(18)}}else T.za=L[1],0<T.za-T.T&&37500>L[2]&&T.F&&T.v==0&&!T.C&&(T.C=wc(p(T.Za,T),6e3));if(1>=Cb(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Eo(T,11)}else if((d.K||T.g==d)&&sh(T),!y(g))for(L=T.Da.g.parse(g),g=0;g<L.length;g++){let Ye=L[g];if(T.T=Ye[0],Ye=Ye[1],T.G==2)if(Ye[0]=="c"){T.K=Ye[1],T.ia=Ye[2];const rn=Ye[3];rn!=null&&(T.la=rn,T.j.info("VER="+T.la));const sn=Ye[4];sn!=null&&(T.Aa=sn,T.j.info("SVER="+T.Aa));const ja=Ye[5];ja!=null&&typeof ja=="number"&&0<ja&&(k=1.5*ja,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const _r=d.g;if(_r){const oh=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oh){var U=k.h;U.g||oh.indexOf("spdy")==-1&&oh.indexOf("quic")==-1&&oh.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(bg(U,U.h),U.h=null))}if(k.D){const Ig=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;Ig&&(k.ya=Ig,dt(k.I,k.D,Ig))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var te=d;if(k.qa=Zb(k,k.J?k.ia:null,k.W),te.K){Ib(k.h,te);var ot=te,qt=k.L;qt&&(ot.I=qt),ot.B&&(xg(ot),Qd(ot)),k.g=te}else Kb(k);0<T.i.length&&rh(T)}else Ye[0]!="stop"&&Ye[0]!="close"||Eo(T,7);else T.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Eo(T,7):Tg(T):Ye[0]!="noop"&&T.l&&T.l.ta(Ye),T.v=0)}}xc(4)}catch{}}var VM=class{constructor(d,g){this.g=d,this.map=g}};function Tb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sb(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Cb(d){return d.h?1:d.g?d.g.size:0}function _g(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function bg(d,g){d.g?d.g.add(g):d.h=g}function Ib(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}Tb.prototype.cancel=function(){if(this.i=Ab(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ab(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const T of d.g.values())g=g.concat(T.D);return g}return v(d.i)}function LM(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var g=[],T=d.length,k=0;k<T;k++)g.push(d[k]);return g}g=[],T=0;for(k in d)g[T++]=d[k];return g}function FM(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var g=[];d=d.length;for(var T=0;T<d;T++)g.push(T);return g}g=[],T=0;for(const k in d)g[T++]=k;return g}}}function kb(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var T=FM(d),k=LM(d),L=k.length,U=0;U<L;U++)g.call(void 0,k[U],T&&T[U],d)}var Pb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UM(d,g){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var k=d[T].indexOf("="),L=null;if(0<=k){var U=d[T].substring(0,k);L=d[T].substring(k+1)}else U=d[T];g(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function bo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof bo){this.h=d.h,Yd(this,d.j),this.o=d.o,this.g=d.g,Xd(this,d.s),this.l=d.l;var g=d.i,T=new Sc;T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),Rb(this,T),this.m=d.m}else d&&(g=String(d).match(Pb))?(this.h=!1,Yd(this,g[1]||"",!0),this.o=Ec(g[2]||""),this.g=Ec(g[3]||"",!0),Xd(this,g[4]),this.l=Ec(g[5]||"",!0),Rb(this,g[6]||"",!0),this.m=Ec(g[7]||"")):(this.h=!1,this.i=new Sc(null,this.h))}bo.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Tc(g,Nb,!0),":");var T=this.g;return(T||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Tc(g,Nb,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Tc(T,T.charAt(0)=="/"?zM:BM,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Tc(T,HM)),d.join("")};function ys(d){return new bo(d)}function Yd(d,g,T){d.j=T?Ec(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Xd(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function Rb(d,g,T){g instanceof Sc?(d.i=g,qM(d.i,d.h)):(T||(g=Tc(g,WM)),d.i=new Sc(g,d.h))}function dt(d,g,T){d.i.set(g,T)}function Zd(d){return dt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ec(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Tc(d,g,T){return typeof d=="string"?(d=encodeURI(d).replace(g,$M),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function $M(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Nb=/[#\/\?@]/g,BM=/[#\?:]/g,zM=/[#\?]/g,WM=/[#\?@]/g,HM=/#/g;function Sc(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function si(d){d.g||(d.g=new Map,d.h=0,d.i&&UM(d.i,function(g,T){d.add(decodeURIComponent(g.replace(/\+/g," ")),T)}))}t=Sc.prototype,t.add=function(d,g){si(this),this.i=null,d=Ra(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(g),this.h+=1,this};function jb(d,g){si(d),g=Ra(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function Db(d,g){return si(d),g=Ra(d,g),d.g.has(g)}t.forEach=function(d,g){si(this),this.g.forEach(function(T,k){T.forEach(function(L){d.call(g,L,k,this)},this)},this)},t.na=function(){si(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),T=[];for(let k=0;k<g.length;k++){const L=d[k];for(let U=0;U<L.length;U++)T.push(g[k])}return T},t.V=function(d){si(this);let g=[];if(typeof d=="string")Db(this,d)&&(g=g.concat(this.g.get(Ra(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)g=g.concat(d[T])}return g},t.set=function(d,g){return si(this),this.i=null,d=Ra(this,d),Db(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function Ob(d,g,T){jb(d,g),0<T.length&&(d.i=null,d.g.set(Ra(d,g),v(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var T=0;T<g.length;T++){var k=g[T];const U=encodeURIComponent(String(k)),te=this.V(k);for(k=0;k<te.length;k++){var L=U;te[k]!==""&&(L+="="+encodeURIComponent(String(te[k]))),d.push(L)}}return this.i=d.join("&")};function Ra(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function qM(d,g){g&&!d.j&&(si(d),d.i=null,d.g.forEach(function(T,k){var L=k.toLowerCase();k!=L&&(jb(this,k),Ob(this,L,T))},d)),d.j=g}function KM(d,g){const T=new _c;if(a.Image){const k=new Image;k.onload=m(ii,T,"TestLoadImage: loaded",!0,g,k),k.onerror=m(ii,T,"TestLoadImage: error",!1,g,k),k.onabort=m(ii,T,"TestLoadImage: abort",!1,g,k),k.ontimeout=m(ii,T,"TestLoadImage: timeout",!1,g,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else g(!1)}function GM(d,g){const T=new _c,k=new AbortController,L=setTimeout(()=>{k.abort(),ii(T,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:k.signal}).then(U=>{clearTimeout(L),U.ok?ii(T,"TestPingServer: ok",!0,g):ii(T,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),ii(T,"TestPingServer: error",!1,g)})}function ii(d,g,T,k,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),k(T)}catch{}}function QM(){this.g=new mg}function YM(d,g,T){const k=T||"";try{kb(d,function(L,U){let te=L;c(L)&&(te=Wr(L)),g.push(k+U+"="+encodeURIComponent(te))})}catch(L){throw g.push(k+"type="+encodeURIComponent("_badmap")),L}}function Jd(d){this.l=d.Ub||null,this.j=d.eb||!1}w(Jd,Ce),Jd.prototype.g=function(){return new eh(this.l,this.j)},Jd.prototype.i=function(d){return function(){return d}}({});function eh(d,g){$e.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(eh,$e),t=eh.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Ic(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ic(this)),this.g&&(this.readyState=3,Ic(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mb(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mb(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Cc(this):Ic(this),this.readyState==3&&Mb(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Cc(this))},t.Qa=function(d){this.g&&(this.response=d,Cc(this))},t.ga=function(){this.g&&Cc(this)};function Cc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ic(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var T=g.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=g.next();return d.join(`\r
`)};function Ic(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Vb(d){let g="";return O(d,function(T,k){g+=k,g+=":",g+=T,g+=`\r
`}),g}function Eg(d,g,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Vb(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):dt(d,g,T))}function Et(d){$e.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Et,$e);var XM=/^https?$/i,ZM=["POST","PUT"];t=Et.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gg.g(),this.v=this.o?it(this.o):it(gg),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(U){Lb(this,U);return}if(d=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var L in k)T.set(L,k[L]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const U of k.keys())T.set(U,k.get(U));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(U=>U.toLowerCase()=="content-type"),L=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ZM,g,void 0))||k||L||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,te]of T)this.g.setRequestHeader(U,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$b(this),this.u=!0,this.g.send(d),this.u=!1}catch(U){Lb(this,U)}};function Lb(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,Fb(d),th(d)}function Fb(d){d.A||(d.A=!0,Me(d,"complete"),Me(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Me(this,"complete"),Me(this,"abort"),th(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),th(this,!0)),Et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ub(this):this.bb())},t.bb=function(){Ub(this)};function Ub(d){if(d.h&&typeof o<"u"&&(!d.v[1]||vs(d)!=4||d.Z()!=2)){if(d.u&&vs(d)==4)wr(d.Ea,0,d);else if(Me(d,"readystatechange"),vs(d)==4){d.h=!1;try{const te=d.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var T;if(!(T=g)){var k;if(k=te===0){var L=String(d.D).match(Pb)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),k=!XM.test(L?L.toLowerCase():"")}T=k}if(T)Me(d,"complete"),Me(d,"success");else{d.m=6;try{var U=2<vs(d)?d.g.statusText:""}catch{U=""}d.l=U+" ["+d.Z()+"]",Fb(d)}}finally{th(d)}}}}function th(d,g){if(d.g){$b(d);const T=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||Me(d,"ready");try{T.onreadystatechange=k}catch{}}}function $b(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function vs(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<vs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),Hr(g)}};function Bb(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function JM(d){const g={};d=(d.g&&2<=vs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(y(d[k]))continue;var T=D(d[k]);const L=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const U=g[L]||[];g[L]=U,U.push(T)}C(g,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ac(d,g,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||g}function zb(d){this.Aa=0,this.i=[],this.j=new _c,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ac("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ac("baseRetryDelayMs",5e3,d),this.cb=Ac("retryDelaySeedMs",1e4,d),this.Wa=Ac("forwardChannelMaxRetries",2,d),this.wa=Ac("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Tb(d&&d.concurrentRequestLimit),this.Da=new QM,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zb.prototype,t.la=8,t.G=1,t.connect=function(d,g,T,k){wn(0),this.W=d,this.H=g||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=Zb(this,null,this.W),rh(this)};function Tg(d){if(Wb(d),d.G==3){var g=d.U++,T=ys(d.I);if(dt(T,"SID",d.K),dt(T,"RID",g),dt(T,"TYPE","terminate"),kc(d,T),g=new ri(d,d.j,g),g.L=2,g.v=Zd(ys(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=g.v,T=!0),T||(g.g=Jb(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Qd(g)}Xb(d)}function nh(d){d.g&&(Cg(d),d.g.cancel(),d.g=null)}function Wb(d){nh(d),d.u&&(a.clearTimeout(d.u),d.u=null),sh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function rh(d){if(!Sb(d.h)&&!d.s){d.s=!0;var g=d.Ga;se||oe(),F||(se(),F=!0),H.add(g,d),d.B=0}}function eV(d,g){return Cb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=wc(p(d.Ga,d,g),Yb(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new ri(this,this.j,d);let U=this.o;if(this.S&&(U?(U=S(U),N(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var g=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(g+=k,4096<g){g=T;break e}if(g===4096||T===this.i.length-1){g=T+1;break e}}g=1e3}else g=1e3;g=qb(this,L,g),T=ys(this.I),dt(T,"RID",d),dt(T,"CVER",22),this.D&&dt(T,"X-HTTP-Session-Id",this.D),kc(this,T),U&&(this.O?g="headers="+encodeURIComponent(String(Vb(U)))+"&"+g:this.m&&Eg(T,this.m,U)),bg(this.h,L),this.Ua&&dt(T,"TYPE","init"),this.P?(dt(T,"$req",g),dt(T,"SID","null"),L.T=!0,vg(L,T,null)):vg(L,T,g),this.G=2}}else this.G==3&&(d?Hb(this,d):this.i.length==0||Sb(this.h)||Hb(this))};function Hb(d,g){var T;g?T=g.l:T=d.U++;const k=ys(d.I);dt(k,"SID",d.K),dt(k,"RID",T),dt(k,"AID",d.T),kc(d,k),d.m&&d.o&&Eg(k,d.m,d.o),T=new ri(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),g&&(d.i=g.D.concat(d.i)),g=qb(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),bg(d.h,T),vg(T,k,g)}function kc(d,g){d.H&&O(d.H,function(T,k){dt(g,k,T)}),d.l&&kb({},function(T,k){dt(g,k,T)})}function qb(d,g,T){T=Math.min(d.i.length,T);var k=d.l?p(d.l.Na,d.l,d):null;e:{var L=d.i;let U=-1;for(;;){const te=["count="+T];U==-1?0<T?(U=L[0].g,te.push("ofs="+U)):U=0:te.push("ofs="+U);let ot=!0;for(let qt=0;qt<T;qt++){let Ye=L[qt].g;const rn=L[qt].map;if(Ye-=U,0>Ye)U=Math.max(0,L[qt].g-100),ot=!1;else try{YM(rn,te,"req"+Ye+"_")}catch{k&&k(rn)}}if(ot){k=te.join("&");break e}}}return d=d.i.splice(0,T),g.D=d,k}function Kb(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;se||oe(),F||(se(),F=!0),H.add(g,d),d.v=0}}function Sg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=wc(p(d.Fa,d),Yb(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Gb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=wc(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),nh(this),Gb(this))};function Cg(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Gb(d){d.g=new ri(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=ys(d.qa);dt(g,"RID","rpc"),dt(g,"SID",d.K),dt(g,"AID",d.T),dt(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&dt(g,"TO",d.ja),dt(g,"TYPE","xmlhttp"),kc(d,g),d.m&&d.o&&Eg(g,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Zd(ys(g)),T.m=null,T.P=!0,_b(T,d)}t.Za=function(){this.C!=null&&(this.C=null,nh(this),Sg(this),wn(19))};function sh(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Qb(d,g){var T=null;if(d.g==g){sh(d),Cg(d),d.g=null;var k=2}else if(_g(d.h,g))T=g.D,Ib(d.h,g),k=1;else return;if(d.G!=0){if(g.o)if(k==1){T=g.m?g.m.length:0,g=Date.now()-g.F;var L=d.B;k=qd(),Me(k,new yb(k,T)),rh(d)}else Kb(d);else if(L=g.s,L==3||L==0&&0<g.X||!(k==1&&eV(d,g)||k==2&&Sg(d)))switch(T&&0<T.length&&(g=d.h,g.i=g.i.concat(T)),L){case 1:Eo(d,5);break;case 4:Eo(d,10);break;case 3:Eo(d,6);break;default:Eo(d,2)}}}function Yb(d,g){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*g}function Eo(d,g){if(d.j.info("Error code "+g),g==2){var T=p(d.fb,d),k=d.Xa;const L=!k;k=new bo(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yd(k,"https"),Zd(k),L?KM(k.toString(),T):GM(k.toString(),T)}else wn(2);d.G=0,d.l&&d.l.sa(g),Xb(d),Wb(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function Xb(d){if(d.G=0,d.ka=[],d.l){const g=Ab(d.h);(g.length!=0||d.i.length!=0)&&(_(d.ka,g),_(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function Zb(d,g,T){var k=T instanceof bo?ys(T):new bo(T);if(k.g!="")g&&(k.g=g+"."+k.g),Xd(k,k.s);else{var L=a.location;k=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var U=new bo(null);k&&Yd(U,k),g&&(U.g=g),L&&Xd(U,L),T&&(U.l=T),k=U}return T=d.D,g=d.ya,T&&g&&dt(k,T,g),dt(k,"VER",d.la),kc(d,k),k}function Jb(d,g,T){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new Et(new Jd({eb:T})):new Et(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eE(){}t=eE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ih(){}ih.prototype.g=function(d,g){return new Hn(d,g)};function Hn(d,g){$e.call(this),this.g=new zb(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!y(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!y(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new Na(this)}w(Hn,$e),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){Tg(this.g)},Hn.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Wr(d),d=T);g.i.push(new VM(g.Ya++,d)),g.G==3&&rh(g)},Hn.prototype.N=function(){this.g.l=null,delete this.j,Tg(this.g),delete this.g,Hn.aa.N.call(this)};function tE(d){Rn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const T in g){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}w(tE,Rn);function nE(){ni.call(this),this.status=1}w(nE,ni);function Na(d){this.g=d}w(Na,eE),Na.prototype.ua=function(){Me(this.g,"a")},Na.prototype.ta=function(d){Me(this.g,new tE(d))},Na.prototype.sa=function(d){Me(this.g,new nE)},Na.prototype.ra=function(){Me(this.g,"b")},ih.prototype.createWebChannel=ih.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,IN=function(){return new ih},CN=function(){return qd()},SN=gs,x0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kd.NO_ERROR=0,Kd.TIMEOUT=8,Kd.HTTP_ERROR=6,ff=Kd,vb.COMPLETE="complete",TN=vb,nt.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Xc=nt,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,EN=Et}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const V1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Pm("@firebase/firestore");function Uc(){return ua.logLevel}function fe(t,...e){if(ua.logLevel<=qe.DEBUG){const n=e.map(Hw);ua.debug(`Firestore (${fc}): ${t}`,...n)}}function Qs(t,...e){if(ua.logLevel<=qe.ERROR){const n=e.map(Hw);ua.error(`Firestore (${fc}): ${t}`,...n)}}function Bl(t,...e){if(ua.logLevel<=qe.WARN){const n=e.map(Hw);ua.warn(`Firestore (${fc}): ${t}`,...n)}}function Hw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${fc}) INTERNAL ASSERTION FAILED: `+t;throw Qs(e),new Error(e)}function st(t,e){t||Se()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class d7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class h7{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string"),new AN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new hn(e)}}class f7{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class p7{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new f7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){st(this.o===void 0);const r=i=>{i.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(st(typeof n.token=="string"),this.R=n.token,new m7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=y7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function zl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Bt(0,0))}static max(){return new Re(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pt extends nd{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const v7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends nd{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return v7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new he(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new he(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new he(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(pt.fromString(e))}static fromName(e){return new ye(pt.fromString(e).popFirst(5))}static empty(){return new ye(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new pt(e.slice()))}}function x7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new no(s,ye.empty(),e)}function w7(t){return new no(t.readTime,t.key,-1)}class no{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new no(Re.min(),ye.empty(),-1)}static max(){return new no(Re.max(),ye.empty(),-1)}}function _7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==b7)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function T7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qw.oe=-1;function Mm(t){return t==null}function cp(t){return t===0&&1/t==-1/0}function S7(t){return typeof t=="number"&&Number.isInteger(t)&&!cp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=s??Gt.EMPTY,this.right=i??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Gt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Gt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F1(this.data.getIterator())}getIteratorFrom(e){return new F1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class F1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new Zt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new RN("Invalid base64 string: "+i):i}}(e);return new en(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const C7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(st(!!t),typeof t=="string"){let e=0;const n=C7.exec(t);if(st(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function da(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gw(t){const e=t.mapValue.fields.__previous_value__;return Kw(e)?Gw(e):e}function rd(t){const e=ro(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class sd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kw(t)?4:k7(t)?9007199254740991:A7(t)?10:11:Se()}function ds(t,e){if(t===e)return!0;const n=ha(t);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rd(t).isEqual(rd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ro(s.timestampValue),a=ro(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return da(s.bytesValue).isEqual(da(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return At(s.geoPointValue.latitude)===At(i.geoPointValue.latitude)&&At(s.geoPointValue.longitude)===At(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return At(s.integerValue)===At(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=At(s.doubleValue),a=At(i.doubleValue);return o===a?cp(o)===cp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(L1(o)!==L1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ds(o[l],a[l])))return!1;return!0}(t,e);default:return Se()}}function id(t,e){return(t.values||[]).find(n=>ds(n,e))!==void 0}function Wl(t,e){if(t===e)return 0;const n=ha(t),r=ha(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=At(i.integerValue||i.doubleValue),l=At(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return U1(t.timestampValue,e.timestampValue);case 4:return U1(rd(t),rd(e));case 5:return Xe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=da(i),l=da(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Xe(a[c],l[c]);if(h!==0)return h}return Xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Xe(At(i.latitude),At(o.latitude));return a!==0?a:Xe(At(i.longitude),At(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,h;const f=i.fields||{},p=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=Xe(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:$1(m,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===jh.mapValue&&o===jh.mapValue)return 0;if(i===jh.mapValue)return 1;if(o===jh.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Xe(l[f],h[f]);if(p!==0)return p;const m=Wl(a[l[f]],c[h[f]]);if(m!==0)return m}return Xe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Se()}}function U1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=ro(t),r=ro(e),s=Xe(n.seconds,r.seconds);return s!==0?s:Xe(n.nanos,r.nanos)}function $1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Wl(n[s],r[s]);if(i)return i}return Xe(n.length,r.length)}function Hl(t){return w0(t)}function w0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ro(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return da(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=w0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${w0(n.fields[o])}`;return s+"}"}(t.mapValue):Se()}function B1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _0(t){return!!t&&"integerValue"in t}function Qw(t){return!!t&&"arrayValue"in t}function z1(t){return!!t&&"nullValue"in t}function W1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function A7(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function k7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(n)}setAll(e){let n=Qt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=vu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];pf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){pc(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new hr(vu(this.value))}}function NN(t){const e=[];return pc(t.fields,(n,r)=>{const s=new Qt([n]);if(pf(r)){const i=NN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pn(e,0,Re.min(),Re.min(),Re.min(),hr.empty(),0)}static newFoundDocument(e,n,r,s){return new pn(e,1,n,Re.min(),r,s,0)}static newNoDocument(e,n){return new pn(e,2,n,Re.min(),Re.min(),hr.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Re.min(),Re.min(),hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){this.position=e,this.inclusive=n}}function H1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=Wl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function q1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ds(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n="asc"){this.field=e,this.dir=n}}function P7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{}class Vt extends jN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new N7(e,n,r):n==="array-contains"?new O7(e,r):n==="in"?new M7(e,r):n==="not-in"?new V7(e,r):n==="array-contains-any"?new L7(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new j7(e,r):new D7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wl(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(Wl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends jN{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Lr(e,n)}matches(e){return DN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function DN(t){return t.op==="and"}function ON(t){return R7(t)&&DN(t)}function R7(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function b0(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+Hl(t.value);if(ON(t))return t.filters.map(e=>b0(e)).join(",");{const e=t.filters.map(n=>b0(n)).join(",");return`${t.op}(${e})`}}function MN(t,e){return t instanceof Vt?function(r,s){return s instanceof Vt&&r.op===s.op&&r.field.isEqual(s.field)&&ds(r.value,s.value)}(t,e):t instanceof Lr?function(r,s){return s instanceof Lr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&MN(o,s.filters[a]),!0):!1}(t,e):void Se()}function VN(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Hl(n.value)}`}(t):t instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(VN).join(" ,")+"}"}(t):"Filter"}class N7 extends Vt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class j7 extends Vt{constructor(e,n){super(e,"in",n),this.keys=LN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class D7 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=LN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class O7 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qw(n)&&id(n.arrayValue,this.value)}}class M7 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&id(this.value.arrayValue,n)}}class V7 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!id(this.value.arrayValue,n)}}class L7 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>id(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function K1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new F7(t,e,n,r,s,i,o)}function Yw(t){const e=Ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>b0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Mm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hl(r)).join(",")),e.ue=n}return e.ue}function Xw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!P7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!q1(t.startAt,e.startAt)&&q1(t.endAt,e.endAt)}function E0(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function U7(t,e,n,r,s,i,o,a){return new Od(t,e,n,r,s,i,o,a)}function FN(t){return new Od(t)}function G1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UN(t){return t.collectionGroup!==null}function xu(t){const e=Ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Zt(Qt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new dp(i,r))}),n.has(Qt.keyField().canonicalString())||e.ce.push(new dp(Qt.keyField(),r))}return e.ce}function is(t){const e=Ne(t);return e.le||(e.le=$7(e,xu(t))),e.le}function $7(t,e){if(t.limitType==="F")return K1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new dp(s.field,i)});const n=t.endAt?new up(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new up(t.startAt.position,t.startAt.inclusive):null;return K1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function T0(t,e){const n=t.filters.concat([e]);return new Od(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function S0(t,e,n){return new Od(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vm(t,e){return Xw(is(t),is(e))&&t.limitType===e.limitType}function $N(t){return`${Yw(is(t))}|lt:${t.limitType}`}function Fa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>VN(s)).join(", ")}]`),Mm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Hl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Hl(s)).join(",")),`Target(${r})`}(is(t))}; limitType=${t.limitType})`}function Lm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ye.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=H1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,xu(r),s)||r.endAt&&!function(o,a,l){const c=H1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,xu(r),s))}(t,e)}function B7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BN(t){return(e,n)=>{let r=!1;for(const s of xu(t)){const i=z7(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function z7(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Wl(l,c):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){pc(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return PN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=new bt(ye.comparator);function Ys(){return W7}const zN=new bt(ye.comparator);function Zc(...t){let e=zN;for(const n of t)e=e.insert(n.key,n);return e}function WN(t){let e=zN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mo(){return wu()}function HN(){return wu()}function wu(){return new mc(t=>t.toString(),(t,e)=>t.isEqual(e))}const H7=new bt(ye.comparator),q7=new Zt(ye.comparator);function He(...t){let e=q7;for(const n of t)e=e.add(n);return e}const K7=new Zt(Xe);function G7(){return K7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cp(e)?"-0":e}}function qN(t){return{integerValue:""+t}}function Q7(t,e){return S7(e)?qN(e):Zw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this._=void 0}}function Y7(t,e,n){return t instanceof hp?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Kw(i)&&(i=Gw(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof od?GN(t,e):t instanceof ad?QN(t,e):function(s,i){const o=KN(s,i),a=Q1(o)+Q1(s.Pe);return _0(o)&&_0(s.Pe)?qN(a):Zw(s.serializer,a)}(t,e)}function X7(t,e,n){return t instanceof od?GN(t,e):t instanceof ad?QN(t,e):n}function KN(t,e){return t instanceof fp?function(r){return _0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class hp extends Fm{}class od extends Fm{constructor(e){super(),this.elements=e}}function GN(t,e){const n=YN(e);for(const r of t.elements)n.some(s=>ds(s,r))||n.push(r);return{arrayValue:{values:n}}}class ad extends Fm{constructor(e){super(),this.elements=e}}function QN(t,e){let n=YN(e);for(const r of t.elements)n=n.filter(s=>!ds(s,r));return{arrayValue:{values:n}}}class fp extends Fm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Q1(t){return At(t.integerValue||t.doubleValue)}function YN(t){return Qw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Z7(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof od&&s instanceof od||r instanceof ad&&s instanceof ad?zl(r.elements,s.elements,ds):r instanceof fp&&s instanceof fp?ds(r.Pe,s.Pe):r instanceof hp&&s instanceof hp}(t.transform,e.transform)}class J7{constructor(e,n){this.version=e,this.transformResults=n}}class Ms{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ms}static exists(e){return new Ms(void 0,e)}static updateTime(e){return new Ms(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Um{}function XN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new JN(t.key,Ms.none()):new Md(t.key,t.data,Ms.none());{const n=t.data,r=hr.empty();let s=new Zt(Qt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ta(t.key,r,new Pr(s.toArray()),Ms.none())}}function eW(t,e,n){t instanceof Md?function(s,i,o){const a=s.value.clone(),l=X1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ta?function(s,i,o){if(!mf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=X1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(ZN(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _u(t,e,n,r){return t instanceof Md?function(i,o,a,l){if(!mf(i.precondition,o))return a;const c=i.value.clone(),h=Z1(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ta?function(i,o,a,l){if(!mf(i.precondition,o))return a;const c=Z1(i.fieldTransforms,l,o),h=o.data;return h.setAll(ZN(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return mf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tW(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=KN(r.transform,s||null);i!=null&&(n===null&&(n=hr.empty()),n.set(r.field,i))}return n||null}function Y1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zl(r,s,(i,o)=>Z7(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Md extends Um{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ta extends Um{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ZN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function X1(t,e,n){const r=new Map;st(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,X7(o,a,n[s]))}return r}function Z1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Y7(i,o,e))}return r}class JN extends Um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nW extends Um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&eW(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=XN(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,(n,r)=>Y1(n,r))&&zl(this.baseMutations,e.baseMutations,(n,r)=>Y1(n,r))}}class Jw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){st(e.mutations.length===r.length);let s=function(){return H7}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Jw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sW=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Ke;function oW(t){switch(t){default:return Se();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function ej(t){if(t===void 0)return Qs("GRPC error has no .code"),q.UNKNOWN;switch(t){case Dt.OK:return q.OK;case Dt.CANCELLED:return q.CANCELLED;case Dt.UNKNOWN:return q.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return q.INTERNAL;case Dt.UNAVAILABLE:return q.UNAVAILABLE;case Dt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Dt.NOT_FOUND:return q.NOT_FOUND;case Dt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Dt.ABORTED:return q.ABORTED;case Dt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Dt.DATA_LOSS:return q.DATA_LOSS;default:return Se()}}(Ke=Dt||(Dt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=new Qo([4294967295,4294967295],0);function J1(t){const e=aW().encode(t),n=new bN;return n.update(e),new Uint8Array(n.digest())}function eS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Qo([n,r],0),new Qo([s,i],0)]}class e_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jc(`Invalid padding: ${n}`);if(r<0)throw new Jc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qo.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Qo.fromNumber(r)));return s.compare(lW)===1&&(s=new Qo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=J1(e),[r,s]=eS(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new e_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=J1(e),[r,s]=eS(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Vd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $m(Re.min(),s,new bt(Xe),Ys(),He())}}class Vd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vd(r,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class tj{constructor(e,n){this.targetId=e,this.me=n}}class nj{constructor(e,n,r=en.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class tS{constructor(){this.fe=0,this.ge=rS(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=He(),n=He(),r=He();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se()}}),new Vd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=rS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,st(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cW{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ys(),this.qe=nS(),this.Qe=new bt(Xe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(E0(i))if(r===0){const o=new ye(i.path);this.Ue(n,o,pn.newNoDocument(o,Re.min()))}else st(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=da(r).toUint8Array()}catch(l){if(l instanceof RN)return Bl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new e_(o,s,i)}catch(l){return Bl(l instanceof Jc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&E0(a.target)){const l=new ye(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,pn.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=He();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new $m(e,n,this.Qe,this.ke,r);return this.ke=Ys(),this.qe=nS(),this.Qe=new bt(Xe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new tS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Zt(Xe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new tS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function nS(){return new bt(ye.comparator)}function rS(){return new bt(ye.comparator)}const uW={asc:"ASCENDING",desc:"DESCENDING"},dW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hW={and:"AND",or:"OR"};class fW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function C0(t,e){return t.useProto3Json||Mm(e)?e:{value:e}}function pp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pW(t,e){return pp(t,e.toTimestamp())}function os(t){return st(!!t),Re.fromTimestamp(function(n){const r=ro(n);return new Bt(r.seconds,r.nanos)}(t))}function t_(t,e){return I0(t,e).canonicalString()}function I0(t,e){const n=function(s){return new pt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sj(t){const e=pt.fromString(t);return st(cj(e)),e}function A0(t,e){return t_(t.databaseId,e.path)}function xy(t,e){const n=sj(e);if(n.get(1)!==t.databaseId.projectId)throw new he(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(oj(n))}function ij(t,e){return t_(t.databaseId,e)}function mW(t){const e=sj(t);return e.length===4?pt.emptyPath():oj(e)}function k0(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oj(t){return st(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sS(t,e,n){return{name:A0(t,e),fields:n.value.mapValue.fields}}function gW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(st(h===void 0||typeof h=="string"),en.fromBase64String(h||"")):(st(h===void 0||h instanceof Buffer||h instanceof Uint8Array),en.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?q.UNKNOWN:ej(c.code);return new he(h,c.message||"")}(o);n=new nj(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xy(t,r.document.name),i=os(r.document.updateTime),o=r.document.createTime?os(r.document.createTime):Re.min(),a=new hr({mapValue:{fields:r.document.fields}}),l=pn.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new gf(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xy(t,r.document),i=r.readTime?os(r.readTime):Re.min(),o=pn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new gf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xy(t,r.document),i=r.removedTargetIds||[];n=new gf([],i,s,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new iW(s,i),a=r.targetId;n=new tj(a,o)}}return n}function yW(t,e){let n;if(e instanceof Md)n={update:sS(t,e.key,e.value)};else if(e instanceof JN)n={delete:A0(t,e.key)};else if(e instanceof Ta)n={update:sS(t,e.key,e.data),updateMask:CW(e.fieldMask)};else{if(!(e instanceof nW))return Se();n={verify:A0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof hp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof od)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ad)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:pW(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se()}(t,e.precondition)),n}function vW(t,e){return t&&t.length>0?(st(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?os(s.updateTime):os(i);return o.isEqual(Re.min())&&(o=os(i)),new J7(o,s.transformResults||[])}(n,e))):[]}function xW(t,e){return{documents:[ij(t,e.path)]}}function wW(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ij(t,s);const i=function(c){if(c.length!==0)return lj(Lr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Ua(p.field),direction:EW(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=C0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function _W(t){let e=mW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){st(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=aj(f);return p instanceof Lr&&ON(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(w){return new dp($a(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Mm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new up(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new up(m,p)}(n.endAt)),U7(e,s,o,i,a,"F",l,c)}function bW(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$a(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=$a(n.unaryFilter.field);return Vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$a(n.unaryFilter.field);return Vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$a(n.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return Vt.create($a(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(r=>aj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function EW(t){return uW[t]}function TW(t){return dW[t]}function SW(t){return hW[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function $a(t){return Qt.fromServerFormat(t.fieldPath)}function lj(t){return t instanceof Vt?function(n){if(n.op==="=="){if(W1(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(z1(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W1(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(z1(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:TW(n.op),value:n.value}}}(t):t instanceof Lr?function(n){const r=n.getFilters().map(s=>lj(s));return r.length===1?r[0]:{compositeFilter:{op:SW(n.op),filters:r}}}(t):Se()}function CW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r,s,i=Re.min(),o=Re.min(),a=en.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e){this.ct=e}}function AW(t){const e=_W({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?S0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(){this.un=new PW}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(no.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(no.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class PW{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Zt(pt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Zt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ql(0)}static kn(){return new ql(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{constructor(){this.changes=new mc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&_u(r.mutation,s,Pr.empty(),Bt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,He()).next(()=>r))}getLocalViewOfDocuments(e,n,r=He()){const s=Mo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Zc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,He()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ys();const o=wu(),a=function(){return wu()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Ta)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),_u(h.mutation,c,h.mutation.getFieldMask(),Bt.now())):o.set(c.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new NW(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wu();let s=new bt((o,a)=>o-a),i=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Pr.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(s.get(a.batchId)||He()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=HN();h.forEach(p=>{if(!i.has(p)){const m=XN(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Mo());let a=-1,l=i;return o.next(c=>Q.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?Q.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,He())).next(h=>({batchId:a,changes:WN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let s=Zc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Zc();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(f,p){return new Od(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,pn.newInvalidDocument(h)))});let a=Zc();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&_u(h.mutation,c,Pr.empty(),Bt.now()),Lm(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:os(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:AW(s.bundledQuery),readTime:os(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(){this.overlays=new bt(ye.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mo();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Mo(),i=n.length+1,o=new ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new bt((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Mo(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Mo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sW(n,r));let i=this.Ir.get(n);i===void 0&&(i=He(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.Tr=new Zt(zt.Er),this.dr=new Zt(zt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new zt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new pt([])),r=new zt(n,e),s=new zt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new pt([])),r=new zt(n,e),s=new zt(n,e+1);let i=He();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new zt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||Xe(e.wr,n.wr)}static Ar(e,n){return Xe(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Zt(zt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rW(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new zt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),s=new zt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(Xe);return n.forEach(s=>{const i=new zt(s,0),o=new zt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ye.isDocumentKey(i)||(i=i.child(""));const o=new zt(new ye(i),0);let a=new Zt(Xe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){st(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new zt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new zt(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e){this.Mr=e,this.docs=function(){return new bt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=Ys();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():pn.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ys();const o=n.path,a=new ye(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_7(w7(h),r)<=0||(s.has(h.key)||Lm(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FW(this)}getSize(e){return Q.resolve(this.size)}}class FW extends RW{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e){this.persistence=e,this.Nr=new mc(n=>Yw(n),Xw),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new n_,this.targetCount=0,this.kr=ql.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ql(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e,n){this.qr={},this.overlays={},this.Qr=new qw(0),this.Kr=!1,this.Kr=!0,this.$r=new MW,this.referenceDelegate=e(this),this.Ur=new UW(this),this.indexManager=new kW,this.remoteDocumentCache=function(s){return new LW(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new IW(n),this.Gr=new DW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new VW(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const s=new BW(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class BW extends E7{constructor(e){super(),this.currentSequenceNumber=e}}class r_{constructor(e){this.persistence=e,this.Jr=new n_,this.Yr=null}static Zr(e){return new r_(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=ye.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=He(),s=He();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new s_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return fB()?8:T7(yn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new zW;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Uc()<=qe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Uc()<=qe.DEBUG&&fe("QueryEngine","Query:",Fa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Uc()<=qe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,is(n))):Q.resolve())}Yi(e,n){if(G1(n))return Q.resolve(null);let r=is(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=S0(n,null,"F"),r=is(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=He(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,S0(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return G1(n)||s.isEqual(Re.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(Uc()<=qe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fa(n)),this.rs(e,o,n,x7(s,-1)).next(a=>a))})}ts(e,n){let r=new Zt(BN(e));return n.forEach((s,i)=>{Lm(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Uc()<=qe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.Ji.getDocumentsMatchingQuery(e,n,no.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new bt(Xe),this._s=new mc(i=>Yw(i),Xw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jW(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function qW(t,e,n,r){return new HW(t,e,n,r)}async function uj(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=He();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function KW(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,p=f.keys();let m=Q.resolve();return p.forEach(w=>{m=m.next(()=>h.getEntry(l,w)).next(v=>{const _=c.docVersions.get(w);st(_!==null),v.version.compareTo(_)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=He();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function dj(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function GW(t,e){const n=Ne(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(en.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),s=s.insert(f,m),function(v,_,b){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,m,h)&&a.push(n.Ur.updateTargetData(i,m))});let l=Ys(),c=He();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(QW(i,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(Re.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function QW(t,e,n){let r=He(),s=He();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ys();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function YW(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XW(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Ni(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function P0(t,e,n){const r=Ne(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Dd(o))throw o;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function iS(t,e,n){const r=Ne(t);let s=Re.min(),i=He();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=Ne(l),p=f._s.get(h);return p!==void 0?Q.resolve(f.os.get(p)):f.Ur.getTargetData(c,h)}(r,o,is(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Re.min(),n?i:He())).next(a=>(ZW(r,B7(e),a),{documents:a,Ts:i})))}function ZW(t,e,n){let r=t.us.get(e)||Re.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class oS{constructor(){this.activeTargetIds=G7()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JW{constructor(){this.so=new oS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new oS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh=null;function wy(){return Dh===null?Dh=function(){return 268435456+Math.round(2147483648*Math.random())}():Dh++,"0x"+Dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class rH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=wy(),l=this.xo(n,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(h=>(fe("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Bl("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=tH[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=wy();return new Promise((o,a)=>{const l=new EN;l.setWithCredentials(!0),l.listenOnce(TN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ff.NO_ERROR:const h=l.getResponseJson();fe(cn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case ff.TIMEOUT:fe(cn,`RPC '${e}' ${i} timed out`),a(new he(q.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const f=l.getStatus();if(fe(cn,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const w=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(b)>=0?b:q.UNKNOWN}(m.status);a(new he(w,m.message))}else a(new he(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new he(q.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{fe(cn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);fe(cn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=wy(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IN(),a=CN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");fe(cn,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,m=!1;const w=new nH({Io:_=>{m?fe(cn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(fe(cn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),fe(cn,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},To:()=>f.close()}),v=(_,b,y)=>{_.listen(b,E=>{try{y(E)}catch(A){setTimeout(()=>{throw A},0)}})};return v(f,Xc.EventType.OPEN,()=>{m||(fe(cn,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),v(f,Xc.EventType.CLOSE,()=>{m||(m=!0,fe(cn,`RPC '${e}' stream ${s} transport closed`),w.So())}),v(f,Xc.EventType.ERROR,_=>{m||(m=!0,Bl(cn,`RPC '${e}' stream ${s} transport errored:`,_),w.So(new he(q.UNAVAILABLE,"The operation could not be completed")))}),v(f,Xc.EventType.MESSAGE,_=>{var b;if(!m){const y=_.data[0];st(!!y);const E=y,A=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(A){fe(cn,`RPC '${e}' stream ${s} received error:`,A);const R=A.status;let O=function(I){const N=Dt[I];if(N!==void 0)return ej(N)}(R),C=A.message;O===void 0&&(O=q.INTERNAL,C="Unknown error status: "+R+" with message "+A.message),m=!0,w.So(new he(O,C)),f.close()}else fe(cn,`RPC '${e}' stream ${s} received:`,y),w.bo(y)}}),v(a,SN.STAT_EVENT,_=>{_.stat===x0.PROXY?fe(cn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===x0.NOPROXY&&fe(cn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function _y(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t){return new fW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hj(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Qs(n.toString()),Qs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new he(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sH extends fj{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gW(this.serializer,e),r=function(i){if(!("targetChange"in i))return Re.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Re.min():o.readTime?os(o.readTime):Re.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=k0(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=E0(l)?{documents:xW(i,l)}:{query:wW(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=rj(i,o.resumeToken);const c=C0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Re.min())>0){a.readTime=pp(i,o.snapshotVersion.toTimestamp());const c=C0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=bW(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=k0(this.serializer),n.removeTarget=e,this.a_(n)}}class iH extends fj{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=vW(e.writeResults,e.commitTime),r=os(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=k0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yW(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new he(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,I0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new he(q.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,I0(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(q.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qs(n),this.D_=!1):fe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Sa(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ne(l);c.L_.add(4),await Ld(c),c.q_.set("Unknown"),c.L_.delete(4),await zm(c)}(this))})}),this.q_=new aH(r,s)}}async function zm(t){if(Sa(t))for(const e of t.B_)await e(!0)}async function Ld(t){for(const e of t.B_)await e(!1)}function pj(t,e){const n=Ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),l_(n)?a_(n):gc(n).r_()&&o_(n,e))}function i_(t,e){const n=Ne(t),r=gc(n);n.N_.delete(e),r.r_()&&mj(n,e),n.N_.size===0&&(r.r_()?r.o_():Sa(n)&&n.q_.set("Unknown"))}function o_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gc(t).A_(e)}function mj(t,e){t.Q_.xe(e),gc(t).R_(e)}function a_(t){t.Q_=new cW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),gc(t).start(),t.q_.v_()}function l_(t){return Sa(t)&&!gc(t).n_()&&t.N_.size>0}function Sa(t){return Ne(t).L_.size===0}function gj(t){t.Q_=void 0}async function cH(t){t.q_.set("Online")}async function uH(t){t.N_.forEach((e,n)=>{o_(t,e)})}async function dH(t,e){gj(t),l_(t)?(t.q_.M_(e),a_(t)):t.q_.set("Unknown")}async function hH(t,e,n){if(t.q_.set("Online"),e instanceof nj&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mp(t,r)}else if(e instanceof gf?t.Q_.Ke(e):e instanceof tj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Re.min()))try{const r=await dj(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(c);h&&i.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(en.EMPTY_BYTE_STRING,h.snapshotVersion)),mj(i,l);const f=new Ni(h.target,l,c,h.sequenceNumber);o_(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await mp(t,r)}}async function mp(t,e,n){if(!Dd(e))throw e;t.L_.add(1),await Ld(t),t.q_.set("Offline"),n||(n=()=>dj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await zm(t)})}function yj(t,e){return e().catch(n=>mp(t,n,e))}async function Wm(t){const e=Ne(t),n=so(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fH(e);)try{const s=await YW(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,pH(e,s)}catch(s){await mp(e,s)}vj(e)&&xj(e)}function fH(t){return Sa(t)&&t.O_.length<10}function pH(t,e){t.O_.push(e);const n=so(t);n.r_()&&n.V_&&n.m_(e.mutations)}function vj(t){return Sa(t)&&!so(t).n_()&&t.O_.length>0}function xj(t){so(t).start()}async function mH(t){so(t).p_()}async function gH(t){const e=so(t);for(const n of t.O_)e.m_(n.mutations)}async function yH(t,e,n){const r=t.O_.shift(),s=Jw.from(r,e,n);await yj(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Wm(t)}async function vH(t,e){e&&so(t).V_&&await async function(r,s){if(function(o){return oW(o)&&o!==q.ABORTED}(s.code)){const i=r.O_.shift();so(r).s_(),await yj(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Wm(r)}}(t,e),vj(t)&&xj(t)}async function lS(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Sa(n);n.L_.add(3),await Ld(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await zm(n)}async function xH(t,e){const n=Ne(t);e?(n.L_.delete(2),await zm(n)):e||(n.L_.add(2),await Ld(n),n.q_.set("Unknown"))}function gc(t){return t.K_||(t.K_=function(n,r,s){const i=Ne(n);return i.w_(),new sH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:cH.bind(null,t),Ro:uH.bind(null,t),mo:dH.bind(null,t),d_:hH.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),l_(t)?a_(t):t.q_.set("Unknown")):(await t.K_.stop(),gj(t))})),t.K_}function so(t){return t.U_||(t.U_=function(n,r,s){const i=Ne(n);return i.w_(),new iH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mH.bind(null,t),mo:vH.bind(null,t),f_:gH.bind(null,t),g_:yH.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Wm(t)):(await t.U_.stop(),t.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new c_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u_(t,e){if(Qs("AsyncQueue",`${e}: ${t}`),Dd(t))return new he(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Zc(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new vl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.W_=new bt(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Kl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Kl(e,n,vl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class _H{constructor(){this.queries=uS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ne(n),i=s.queries;s.queries=uS(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new he(q.ABORTED,"Firestore shutting down"))}}function uS(){return new mc(t=>$N(t),Vm)}async function bH(t,e){const n=Ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new wH,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=u_(o,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&d_(n)}async function EH(t,e){const n=Ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TH(t,e){const n=Ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&d_(n)}function SH(t,e,n){const r=Ne(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function d_(t){t.Y_.forEach(e=>{e.next()})}var R0,dS;(dS=R0||(R0={})).ea="default",dS.Cache="cache";class CH{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==R0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.key=e}}class _j{constructor(e){this.key=e}}class IH{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=He(),this.mutatedKeys=He(),this.Aa=BN(e),this.Ra=new vl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new cS,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),m=Lm(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;p&&m?p.data.isEqual(m.data)?w!==v&&(r.track({type:3,doc:m}),_=!0):this.ga(p,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),_=!0):p&&!m&&(r.track({type:1,doc:p}),_=!0,(l||c)&&(a=!0)),_&&(m?(o=o.add(m),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(m,w){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return v(m)-v(w)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Kl(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new cS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=He(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new _j(r))}),this.da.forEach(r=>{e.has(r)||n.push(new wj(r))}),n}ba(e){this.Ta=e.Ts,this.da=He();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Kl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class AH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kH{constructor(e){this.key=e,this.va=!1}}class PH{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new mc(a=>$N(a),Vm),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(ye.comparator),this.Na=new Map,this.La=new n_,this.Ba={},this.ka=new Map,this.qa=ql.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function RH(t,e,n=!0){const r=Ij(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await bj(r,e,n,!0),s}async function NH(t,e){const n=Ij(t);await bj(n,e,!0,!1)}async function bj(t,e,n,r){const s=await XW(t.localStore,is(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await jH(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&pj(t.remoteStore,s),a}async function jH(t,e,n,r,s){t.Ka=(f,p,m)=>async function(v,_,b,y){let E=_.view.ma(b);E.ns&&(E=await iS(v.localStore,_.query,!1).then(({documents:C})=>_.view.ma(C,E)));const A=y&&y.targetChanges.get(_.targetId),R=y&&y.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(E,v.isPrimaryClient,A,R);return fS(v,_.targetId,O.wa),O.snapshot}(t,f,p,m);const i=await iS(t.localStore,e,!0),o=new IH(e,i.Ts),a=o.ma(i.documents),l=Vd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);fS(t,n,c.wa);const h=new AH(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function DH(t,e,n){const r=Ne(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Vm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await P0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&i_(r.remoteStore,s.targetId),N0(r,s.targetId)}).catch(jd)):(N0(r,s.targetId),await P0(r.localStore,s.targetId,!0))}async function OH(t,e){const n=Ne(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),i_(n.remoteStore,r.targetId))}async function MH(t,e,n){const r=zH(t);try{const s=await function(o,a){const l=Ne(o),c=Bt.now(),h=a.reduce((m,w)=>m.add(w.key),He());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Ys(),v=He();return l.cs.getEntries(m,h).next(_=>{w=_,w.forEach((b,y)=>{y.isValidDocument()||(v=v.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(_=>{f=_;const b=[];for(const y of a){const E=tW(y,f.get(y.key).overlayedDocument);E!=null&&b.push(new Ta(y.key,E,NN(E.value.mapValue),Ms.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,a)}).next(_=>{p=_;const b=_.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,_.batchId,b)})}).then(()=>({batchId:p.batchId,changes:WN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new bt(Xe)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Fd(r,s.changes),await Wm(r.remoteStore)}catch(s){const i=u_(s,"Failed to persist write");n.reject(i)}}async function Ej(t,e){const n=Ne(t);try{const r=await GW(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(st(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?st(o.va):s.removedDocuments.size>0&&(st(o.va),o.va=!1))}),await Fd(n,r,e)}catch(r){await jd(r)}}function hS(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ne(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(c=!0)}),c&&d_(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VH(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new bt(ye.comparator);o=o.insert(i,pn.newNoDocument(i,Re.min()));const a=He().add(i),l=new $m(Re.min(),new Map,new bt(Xe),o,a);await Ej(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),h_(r)}else await P0(r.localStore,e,!1).then(()=>N0(r,e,n)).catch(jd)}async function LH(t,e){const n=Ne(t),r=e.batch.batchId;try{const s=await KW(n.localStore,e);Sj(n,r,null),Tj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fd(n,s)}catch(s){await jd(s)}}async function FH(t,e,n){const r=Ne(t);try{const s=await function(o,a){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(st(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);Sj(r,e,n),Tj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fd(r,s)}catch(s){await jd(s)}}function Tj(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Sj(t,e,n){const r=Ne(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function N0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Cj(t,r)})}function Cj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(i_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),h_(t))}function fS(t,e,n){for(const r of n)r instanceof wj?(t.La.addReference(r.key,e),UH(t,r)):r instanceof _j?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Cj(t,r.key)):Se()}function UH(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.xa.add(r),h_(t))}function h_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(pt.fromString(e)),r=t.qa.next();t.Na.set(r,new kH(n)),t.Oa=t.Oa.insert(n,r),pj(t.remoteStore,new Ni(is(FN(n.path)),r,"TargetPurposeLimboResolution",qw.oe))}}async function Fd(t,e,n){const r=Ne(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=s_.Wi(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const h=Ne(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(c,p=>Q.forEach(p.$i,m=>h.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>Q.forEach(p.Ui,m=>h.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Dd(f))throw f;fe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=h.os.get(p),w=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(p,v)}}}(r.localStore,i))}async function $H(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await uj(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new he(q.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fd(n,r.hs)}}function BH(t,e){const n=Ne(t),r=n.Na.get(e);if(r&&r.va)return He().add(r.key);{let s=He();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function Ij(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ej.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VH.bind(null,e),e.Ca.d_=TH.bind(null,e.eventManager),e.Ca.$a=SH.bind(null,e.eventManager),e}function zH(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FH.bind(null,e),e}class gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return qW(this.persistence,new WW,e.initialUser,this.serializer)}Ga(e){return new $W(r_.Zr,this.serializer)}Wa(e){return new JW}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gp.provider={build:()=>new gp};class j0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$H.bind(null,this.syncEngine),await xH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _H}()}createDatastore(e){const n=Bm(e.databaseInfo.databaseId),r=function(i){return new rH(i)}(e.databaseInfo);return function(i,o,a,l){return new oH(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new lH(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>hS(this.syncEngine,n,0),function(){return aS.D()?new aS:new eH}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const f=new PH(s,i,o,a,l,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ne(s);fe("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Ld(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}j0.provider={build:()=>new j0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=hn.UNAUTHENTICATED,this.clientId=kN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{fe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=u_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function by(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await uj(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qH(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>lS(e.remoteStore,s)),t._onlineComponents=e}async function qH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await by(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Bl("Error using user provided cache. Falling back to memory cache: "+n),await by(t,new gp)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await by(t,new gp);return t._offlineComponents}async function Aj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await pS(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await pS(t,new j0))),t._onlineComponents}function KH(t){return Aj(t).then(e=>e.syncEngine)}async function GH(t){const e=await Aj(t),n=e.eventManager;return n.onListen=RH.bind(null,e.syncEngine),n.onUnlisten=DH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OH.bind(null,e.syncEngine),n}function QH(t,e,n={}){const r=new Hi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new WH({next:p=>{h.Za(),o.enqueueAndForget(()=>EH(i,f)),p.fromCache&&l.source==="server"?c.reject(new he(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new CH(a,h,{includeMetadataChanges:!0,_a:!0});return bH(i,f)}(await GH(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t,e,n){if(!n)throw new he(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YH(t,e,n,r){if(e===!0&&r===!0)throw new he(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gS(t){if(!ye.isDocumentKey(t))throw new he(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yS(t){if(ye.isDocumentKey(t))throw new he(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function yp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hm(t);throw new he(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u7;switch(r.type){case"firstParty":return new p7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mS.get(n);r&&(fe("ComponentProvider","Removing Datastore"),mS.delete(n),r.terminate())}(this),Promise.resolve()}}function XH(t,e,n,r={}){var s;const i=(t=yp(t,qm))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=hn.MOCK_USER;else{a=aB(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new he(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new hn(c)}t._authCredentials=new d7(new AN(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yc(this.firestore,e,this._query)}}class gr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gr(this.firestore,e,this._key)}}class qi extends yc{constructor(e,n,r){super(e,n,FN(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gr(this.firestore,null,new ye(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function Gl(t,e,...n){if(t=vn(t),Pj("collection","path",e),t instanceof qm){const r=pt.fromString(e,...n);return yS(r),new qi(t,null,r)}{if(!(t instanceof gr||t instanceof qi))throw new he(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return yS(r),new qi(t.firestore,null,r)}}function ZH(t,e,...n){if(t=vn(t),arguments.length===1&&(e=kN.newId()),Pj("doc","path",e),t instanceof qm){const r=pt.fromString(e,...n);return gS(r),new gr(t,null,new ye(r))}{if(!(t instanceof gr||t instanceof qi))throw new he(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return gS(r),new gr(t.firestore,t instanceof qi?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hj(this,"async_queue_retry"),this.Vu=()=>{const r=_y();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=_y();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=_y();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Hi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Dd(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Qs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=c_.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class f_ extends qm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new xS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xS(e),this._firestoreClient=void 0,await e}}}function JH(t,e){const n=typeof t=="object"?t:Rw(),r=typeof t=="string"?t:"(default)",s=ba(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=iB("firestore");i&&XH(s,...i)}return s}function Rj(t){if(t._terminated)throw new he(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eq(t),t._firestoreClient}function eq(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,h){return new I7(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kj(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new HH(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(en.fromBase64String(e))}catch(n){throw new he(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ql(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=/^__.*__$/;class nq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new Md(e,this.data,n,this.fieldTransforms)}}function jj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class y_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new y_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(jj(this.Cu)&&tq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class rq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bm(e)}Qu(e,n,r,s=!1){return new y_({Cu:e,methodName:n,qu:r,path:Qt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dj(t){const e=t._freezeSettings(),n=Bm(t._databaseId);return new rq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sq(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Vj("Data must be an object, but it was:",o,r);const a=Oj(r,o);let l,c;if(i.merge)l=new Pr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=oq(e,f,n);if(!o.contains(p))throw new he(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);lq(h,p)||h.push(p)}l=new Pr(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new nq(new hr(a),l,c)}function iq(t,e,n,r=!1){return v_(n,t.Qu(r?4:3,e))}function v_(t,e){if(Mj(t=vn(t)))return Vj("Unsupported field value:",e,t),Oj(t,e);if(t instanceof Nj)return function(r,s){if(!jj(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=v_(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Bt.fromDate(r);return{timestampValue:pp(s.serializer,i)}}if(r instanceof Bt){const i=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pp(s.serializer,i)}}if(r instanceof m_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ql)return{bytesValue:rj(s.serializer,r._byteString)};if(r instanceof gr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:t_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof g_)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Zw(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Hm(r)}`)}(t,e)}function Oj(t,e){const n={};return PN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pc(t,(r,s)=>{const i=v_(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Mj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof m_||t instanceof Ql||t instanceof gr||t instanceof Nj||t instanceof g_)}function Vj(t,e,n){if(!Mj(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Hm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function oq(t,e,n){if((e=vn(e))instanceof p_)return e._internalPath;if(typeof e=="string")return Lj(t,e);throw vp("Field path arguments must be of type string or ",t,!1,void 0,n)}const aq=new RegExp("[~\\*/\\[\\]]");function Lj(t,e,n){if(e.search(aq)>=0)throw vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new p_(...e.split("."))._internalPath}catch{throw vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new he(q.INVALID_ARGUMENT,a+t+l)}function lq(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cq extends Fj{data(){return super.data()}}function x_(t,e){return typeof e=="string"?Lj(t,e):e instanceof p_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w_{}class dq extends w_{}function hq(t,e,...n){let r=[];e instanceof w_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof __).length,a=i.filter(l=>l instanceof Km).length;if(o>1||o>0&&a>0)throw new he(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Km extends dq{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Km(e,n,r)}_apply(e){const n=this._parse(e);return Uj(e._query,n),new yc(e.firestore,e.converter,T0(e._query,n))}_parse(e){const n=Dj(e.firestore);return function(i,o,a,l,c,h,f){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new he(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){_S(f,h);const m=[];for(const w of f)m.push(wS(l,i,w));p={arrayValue:{values:m}}}else p=wS(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||_S(f,h),p=iq(a,o,f,h==="in"||h==="not-in");return Vt.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fq(t,e,n){const r=e,s=x_("where",t);return Km._create(s,r,n)}class __ extends w_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new __(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Uj(o,l),o=T0(o,l)}(e._query,n),new yc(e.firestore,e.converter,T0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function wS(t,e,n){if(typeof(n=vn(n))=="string"){if(n==="")throw new he(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UN(e)&&n.indexOf("/")!==-1)throw new he(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pt.fromString(n));if(!ye.isDocumentKey(r))throw new he(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return B1(t,new ye(r))}if(n instanceof gr)return B1(t,n._key);throw new he(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(n)}.`)}function _S(t,e){if(!Array.isArray(t)||t.length===0)throw new he(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Uj(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pq{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pc(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>At(o.doubleValue));return new g_(i)}convertGeoPoint(e){return new m_(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rd(e));default:return null}}convertTimestamp(e){const n=ro(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);st(cj(r));const s=new sd(r.get(1),r.get(3)),i=new ye(r.popFirst(5));return s.isEqual(n)||Qs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gq extends Fj{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(x_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yf extends gq{data(e={}){return super.data(e)}}class yq{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Oh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yf(this._firestore,this._userDataWriter,r.key,r,new Oh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new yf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Oh(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new yf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Oh(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:vq(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class xq extends pq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,n)}}function xp(t){t=yp(t,yc);const e=yp(t.firestore,f_),n=Rj(e),r=new xq(e);return uq(t._query),QH(n,t._query).then(s=>new yq(e,r,t,s))}function $j(t,e){const n=yp(t.firestore,f_),r=ZH(t),s=mq(t.converter,e);return wq(n,[sq(Dj(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ms.exists(!1))]).then(()=>r)}function wq(t,e){return function(r,s){const i=new Hi;return r.asyncQueue.enqueueAndForget(async()=>MH(await KH(r),s,i)),i.promise}(Rj(t),e)}(function(e,n=!0){(function(s){fc=s})(dc),us(new Mr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new f_(new h7(r.getProvider("auth-internal")),new g7(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new he(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),mr(V1,"4.7.3",e),mr(V1,"4.7.3","esm2017")})();const _q={apiKey:"AIzaSyAU6wmIRJyp_c5vyQlOSGiDGhyhIYfhyBc",authDomain:"trust-chain-98b07.firebaseapp.com",projectId:"trust-chain-98b07",storageBucket:"trust-chain-98b07.appspot.com",messagingSenderId:"487365413084",appId:"1:487365413084:web:a03305d85996411805cc19",measurementId:"G-PFT1HXCPH1"},b_=yR(_q);typeof window<"u"&&window.location.protocol==="https:"&&Q9(b_);const To=l7(b_),Yl=JH(b_),Bj=x.createContext(void 0),bq=({children:t})=>{const[e,n]=x.useState(null),[r,s]=x.useState(!1),[i,o]=x.useState(!1),[a,l]=x.useState(!0),{toast:c}=zn();x.useEffect(()=>{const v=To.onAuthStateChanged(_=>{if(_){const b={id:_.uid,pseudonym:_.email?_.email.split("@")[0]:"Anonymous",email:_.email||void 0,isAdmin:_.email==="admin@safespeak.com"};n(b),s(!0),o(b.isAdmin||!1)}else n(null),s(!1),o(!1);l(!1)});return()=>v()},[]);const h=async(v,_)=>{try{const y=(await C1(To,v+"@safespeak.com",_)).user,E={id:y.uid,pseudonym:y.email?y.email.split("@")[0]:"Anonymous",email:y.email||void 0,isAdmin:y.email==="admin@safespeak.com"};n(E),s(!0),o(!1),c({title:"Login Successful",description:"Welcome back to SafeSpeak!"})}catch(b){throw c({title:"Login Failed",description:b.message,variant:"destructive"}),b}},f=async(v,_)=>{try{await C1(To,v,_);const b=To.currentUser;if(b){const y={id:b.uid,pseudonym:b.email?b.email.split("@")[0]:"Anonymous",email:b.email||void 0,isAdmin:b.email==="admin@safespeak.com"};n(y),s(!0),o(!0),c({title:"Admin Login Successful",description:"Welcome to the Admin Dashboard!"})}else throw new Error("Failed to retrieve user data after login.")}catch(b){throw c({title:"Admin Login Failed",description:b.message,variant:"destructive"}),b}},p=async(v,_,b)=>{try{const E=(await S1(To,_,b)).user;if(E){const A={id:E.uid,pseudonym:_.split("@")[0],email:E.email||void 0,isAdmin:!0,fullName:v};n(A),s(!0),o(!0),c({title:"Admin Registration Successful",description:"Admin account created successfully."})}else throw new Error("Failed to create admin account.")}catch(y){throw c({title:"Admin Registration Failed",description:y.message,variant:"destructive"}),y}},m=async(v,_)=>{try{const y=(await S1(To,v+"@safespeak.com",_)).user,E={id:y.uid,pseudonym:v,email:y.email||void 0,isAdmin:!1};n(E),s(!0),o(!1),c({title:"Registration Successful",description:"Your anonymous profile has been created."})}catch(b){throw c({title:"Registration Failed",description:b.message,variant:"destructive"}),b}},w=async()=>{try{await Xz(To),n(null),s(!1),o(!1),c({title:"Logout Successful",description:"You have been logged out successfully."})}catch(v){c({title:"Logout Failed",description:v.message,variant:"destructive"})}};return u.jsx(Bj.Provider,{value:{user:e,login:h,adminLogin:f,adminRegister:p,register:m,logout:w,isAuthenticated:r,isAdmin:i,loading:a},children:t})},Ur=()=>{const t=x.useContext(Bj);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},zj=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Gm=x.createContext({}),E_=x.createContext(null),Qm=typeof document<"u",Eq=Qm?x.useLayoutEffect:x.useEffect,Wj=x.createContext({strict:!1}),T_=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Tq="framerAppearId",Hj="data-"+T_(Tq);function Sq(t,e,n,r){const{visualElement:s}=x.useContext(Gm),i=x.useContext(Wj),o=x.useContext(E_),a=x.useContext(zj).reducedMotion,l=x.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;x.useInsertionEffect(()=>{c&&c.update(n,o)});const h=x.useRef(!!(n[Hj]&&!window.HandoffComplete));return Eq(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),x.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function nl(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Cq(t,e,n){return x.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):nl(n)&&(n.current=r))},[e])}function ld(t){return typeof t=="string"||Array.isArray(t)}function Ym(t){return typeof t=="object"&&typeof t.start=="function"}const S_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C_=["initial",...S_];function Xm(t){return Ym(t.animate)||C_.some(e=>ld(t[e]))}function qj(t){return!!(Xm(t)||t.variants)}function Iq(t,e){if(Xm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ld(n)?n:void 0,animate:ld(r)?r:void 0}}return t.inherit!==!1?e:{}}function Aq(t){const{initial:e,animate:n}=Iq(t,x.useContext(Gm));return x.useMemo(()=>({initial:e,animate:n}),[bS(e),bS(n)])}function bS(t){return Array.isArray(t)?t.join(" "):t}const ES={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cd={};for(const t in ES)cd[t]={isEnabled:e=>ES[t].some(n=>!!e[n])};function kq(t){for(const e in t)cd[e]={...cd[e],...t[e]}}const Kj=x.createContext({}),Gj=x.createContext({}),Pq=Symbol.for("motionComponentSymbol");function Rq({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&kq(t);function i(a,l){let c;const h={...x.useContext(zj),...a,layoutId:Nq(a)},{isStatic:f}=h,p=Aq(a),m=r(a,f);if(!f&&Qm){p.visualElement=Sq(s,m,h,e);const w=x.useContext(Gj),v=x.useContext(Wj).strict;p.visualElement&&(c=p.visualElement.loadFeatures(h,v,t,w))}return x.createElement(Gm.Provider,{value:p},c&&p.visualElement?x.createElement(c,{visualElement:p.visualElement,...h}):null,n(s,a,Cq(m,p.visualElement,l),m,f,p.visualElement))}const o=x.forwardRef(i);return o[Pq]=s,o}function Nq({layoutId:t}){const e=x.useContext(Kj).id;return e&&t!==void 0?e+"-"+t:t}function jq(t){function e(r,s={}){return Rq(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const Dq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function I_(t){return typeof t!="string"||t.includes("-")?!1:!!(Dq.indexOf(t)>-1||/[A-Z]/.test(t))}const wp={};function Oq(t){Object.assign(wp,t)}const Ud=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ca=new Set(Ud);function Qj(t,{layout:e,layoutId:n}){return Ca.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wp[t]||t==="opacity")}const $n=t=>!!(t&&t.getVelocity),Mq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vq=Ud.length;function Lq(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<Vq;o++){const a=Ud[o];if(t[a]!==void 0){const l=Mq[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const Yj=t=>e=>typeof e=="string"&&e.startsWith(t),Xj=Yj("--"),D0=Yj("var(--"),Fq=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Uq=(t,e)=>e&&typeof t=="number"?e.transform(t):t,io=(t,e,n)=>Math.min(Math.max(n,t),e),Ia={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bu={...Ia,transform:t=>io(0,1,t)},Mh={...Ia,default:1},Eu=t=>Math.round(t*1e5)/1e5,Zm=/(-)?([\d]*\.?[\d])+/g,Zj=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,$q=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $d(t){return typeof t=="string"}const Bd=t=>({test:e=>$d(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),di=Bd("deg"),as=Bd("%"),xe=Bd("px"),Bq=Bd("vh"),zq=Bd("vw"),TS={...as,parse:t=>as.parse(t)/100,transform:t=>as.transform(t*100)},SS={...Ia,transform:Math.round},Jj={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,size:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,rotate:di,rotateX:di,rotateY:di,rotateZ:di,scale:Mh,scaleX:Mh,scaleY:Mh,scaleZ:Mh,skew:di,skewX:di,skewY:di,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:bu,originX:TS,originY:TS,originZ:xe,zIndex:SS,fillOpacity:bu,strokeOpacity:bu,numOctaves:SS};function A_(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,c=!1,h=!0;for(const f in e){const p=e[f];if(Xj(f)){i[f]=p;continue}const m=Jj[f],w=Uq(p,m);if(Ca.has(f)){if(l=!0,o[f]=w,!h)continue;p!==(m.default||0)&&(h=!1)}else f.startsWith("origin")?(c=!0,a[f]=w):s[f]=w}if(e.transform||(l||r?s.transform=Lq(t.transform,n,h,r):s.transform&&(s.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;s.transformOrigin=`${f} ${p} ${m}`}}const k_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function e2(t,e,n){for(const r in e)!$n(e[r])&&!Qj(r,n)&&(t[r]=e[r])}function Wq({transformTemplate:t},e,n){return x.useMemo(()=>{const r=k_();return A_(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Hq(t,e,n){const r=t.style||{},s={};return e2(s,r,t),Object.assign(s,Wq(t,e,n)),t.transformValues?t.transformValues(s):s}function qq(t,e,n){const r={},s=Hq(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const Kq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function _p(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Kq.has(t)}let t2=t=>!_p(t);function Gq(t){t&&(t2=e=>e.startsWith("on")?!_p(e):t(e))}try{Gq(require("@emotion/is-prop-valid").default)}catch{}function Qq(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(t2(s)||n===!0&&_p(s)||!e&&!_p(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function CS(t,e,n){return typeof t=="string"?t:xe.transform(e+n*t)}function Yq(t,e,n){const r=CS(e,t.x,t.width),s=CS(n,t.y,t.height);return`${r} ${s}`}const Xq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zq={offset:"strokeDashoffset",array:"strokeDasharray"};function Jq(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Xq:Zq;t[i.offset]=xe.transform(-r);const o=xe.transform(e),a=xe.transform(n);t[i.array]=`${o} ${a}`}function P_(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,f,p){if(A_(t,c,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:w,dimensions:v}=t;m.transform&&(v&&(w.transform=m.transform),delete m.transform),v&&(s!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=Yq(v,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&Jq(m,o,a,l,!1)}const n2=()=>({...k_(),attrs:{}}),R_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eK(t,e,n,r){const s=x.useMemo(()=>{const i=n2();return P_(i,e,{enableHardwareAcceleration:!1},R_(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};e2(i,t.style,t),s.style={...i,...s.style}}return s}function tK(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(I_(n)?eK:qq)(r,i,o,n),h={...Qq(r,typeof n=="string",t),...l,ref:s},{children:f}=r,p=x.useMemo(()=>$n(f)?f.get():f,[f]);return x.createElement(n,{...h,children:p})}}function r2(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const s2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function i2(t,e,n,r){r2(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(s2.has(s)?s:T_(s),e.attrs[s])}function N_(t,e){const{style:n}=t,r={};for(const s in n)($n(n[s])||e.style&&$n(e.style[s])||Qj(s,t))&&(r[s]=n[s]);return r}function o2(t,e){const n=N_(t,e);for(const r in t)if($n(t[r])||$n(e[r])){const s=Ud.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function j_(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function nK(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const bp=t=>Array.isArray(t),rK=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),sK=t=>bp(t)?t[t.length-1]||0:t;function vf(t){const e=$n(t)?t.get():t;return rK(e)?e.toValue():e}function iK({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:oK(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const a2=t=>(e,n)=>{const r=x.useContext(Gm),s=x.useContext(E_),i=()=>iK(t,e,r,s);return n?i():nK(i)};function oK(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=vf(i[p]);let{initial:o,animate:a}=t;const l=Xm(t),c=qj(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;return f&&typeof f!="boolean"&&!Ym(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const w=j_(t,m);if(!w)return;const{transitionEnd:v,transition:_,...b}=w;for(const y in b){let E=b[y];if(Array.isArray(E)){const A=h?E.length-1:0;E=E[A]}E!==null&&(s[y]=E)}for(const y in v)s[y]=v[y]}),s}const Pt=t=>t;class IS{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function aK(t){let e=new IS,n=new IS,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const f=h&&s,p=f?e:n;return c&&o.add(l),p.add(l)&&f&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const h=e.order[c];h(l),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const Vh=["prepare","read","update","preRender","render","postRender"],lK=40;function cK(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Vh.reduce((f,p)=>(f[p]=aK(()=>n=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,lK),1),s.timestamp=f,s.isProcessing=!0,Vh.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:Vh.reduce((f,p)=>{const m=i[p];return f[p]=(w,v=!1,_=!1)=>(n||l(),m.schedule(w,v,_)),f},{}),cancel:f=>Vh.forEach(p=>i[p].cancel(f)),state:s,steps:i}}const{schedule:gt,cancel:Xs,state:dn,steps:Ey}=cK(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pt,!0),uK={useVisualState:a2({scrapeMotionValuesFromProps:o2,createRenderState:n2,onMount:(t,e,{renderState:n,latestValues:r})=>{gt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),gt.render(()=>{P_(n,r,{enableHardwareAcceleration:!1},R_(e.tagName),t.transformTemplate),i2(e,n)})}})},dK={useVisualState:a2({scrapeMotionValuesFromProps:N_,createRenderState:k_})};function hK(t,{forwardMotionProps:e=!1},n,r){return{...I_(t)?uK:dK,preloadedFeatures:n,useRender:tK(e),createVisualElement:r,Component:t}}function Ps(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const l2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Jm(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const fK=t=>e=>l2(e)&&t(e,Jm(e));function Vs(t,e,n,r){return Ps(t,e,fK(n),r)}const pK=(t,e)=>n=>e(t(n)),Ki=(...t)=>t.reduce(pK);function c2(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const AS=c2("dragHorizontal"),kS=c2("dragVertical");function u2(t){let e=!1;if(t==="y")e=kS();else if(t==="x")e=AS();else{const n=AS(),r=kS();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function d2(){const t=u2(!0);return t?(t(),!1):!0}class yo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function PS(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.type==="touch"||d2())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&gt.update(()=>a[r](i,o))};return Vs(t.current,n,s,{passive:!t.getProps()[r]})}class mK extends yo{mount(){this.unmount=Ki(PS(this.node,!0),PS(this.node,!1))}unmount(){}}class gK extends yo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ki(Ps(this.node.current,"focus",()=>this.onFocus()),Ps(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const h2=(t,e)=>e?t===e?!0:h2(t,e.parentElement):!1;function Ty(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Jm(n))}class yK extends yo{constructor(){super(...arguments),this.removeStartListeners=Pt,this.removeEndListeners=Pt,this.removeAccessibleListeners=Pt,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=Vs(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h}=this.node.getProps();gt.update(()=>{h2(this.node.current,a.target)?c&&c(a,l):h&&h(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Vs(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ki(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ty("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&gt.update(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ps(this.node.current,"keyup",o),Ty("down",(a,l)=>{this.startPress(a,l)})},n=Ps(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ty("cancel",(i,o)=>this.cancelPress(i,o))},s=Ps(this.node.current,"blur",r);this.removeAccessibleListeners=Ki(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&gt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!d2()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&gt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Vs(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ps(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ki(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const O0=new WeakMap,Sy=new WeakMap,vK=t=>{const e=O0.get(t.target);e&&e(t)},xK=t=>{t.forEach(vK)};function wK({root:t,...e}){const n=t||document;Sy.has(n)||Sy.set(n,{});const r=Sy.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(xK,{root:t,...e})),r[s]}function _K(t,e,n){const r=wK(e);return O0.set(t,n),r.observe(t),()=>{O0.delete(t),r.unobserve(t)}}const bK={some:0,all:1};class EK extends yo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:bK[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=c?h:f;p&&p(l)};return _K(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(TK(e,n))&&this.startObserver()}unmount(){}}function TK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SK={inView:{Feature:EK},tap:{Feature:yK},focus:{Feature:gK},hover:{Feature:mK}};function f2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function CK(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function IK(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function eg(t,e,n){const r=t.getProps();return j_(r,e,n!==void 0?n:r.custom,CK(t),IK(t))}let Ep=Pt;const Yo=t=>t*1e3,Ls=t=>t/1e3,AK={current:!1},p2=t=>Array.isArray(t)&&typeof t[0]=="number";function m2(t){return!!(!t||typeof t=="string"&&g2[t]||p2(t)||Array.isArray(t)&&t.every(m2))}const eu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,g2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eu([0,.65,.55,1]),circOut:eu([.55,0,1,.45]),backIn:eu([.31,.01,.66,-.59]),backOut:eu([.33,1.53,.69,.99])};function y2(t){if(t)return p2(t)?eu(t):Array.isArray(t)?t.map(y2):g2[t]}function kK(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=y2(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function PK(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const v2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,RK=1e-7,NK=12;function jK(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=v2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>RK&&++a<NK);return o}function zd(t,e,n,r){if(t===e&&n===r)return Pt;const s=i=>jK(i,0,1,t,n);return i=>i===0||i===1?i:v2(s(i),e,r)}const DK=zd(.42,0,1,1),OK=zd(0,0,.58,1),x2=zd(.42,0,.58,1),MK=t=>Array.isArray(t)&&typeof t[0]!="number",w2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_2=t=>e=>1-t(1-e),D_=t=>1-Math.sin(Math.acos(t)),b2=_2(D_),VK=w2(D_),E2=zd(.33,1.53,.69,.99),O_=_2(E2),LK=w2(O_),FK=t=>(t*=2)<1?.5*O_(t):.5*(2-Math.pow(2,-10*(t-1))),RS={linear:Pt,easeIn:DK,easeInOut:x2,easeOut:OK,circIn:D_,circInOut:VK,circOut:b2,backIn:O_,backInOut:LK,backOut:E2,anticipate:FK},NS=t=>{if(Array.isArray(t)){Ep(t.length===4);const[e,n,r,s]=t;return zd(e,n,r,s)}else if(typeof t=="string")return Ep(RS[t]!==void 0),RS[t];return t},M_=(t,e)=>n=>!!($d(n)&&$q.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),T2=(t,e,n)=>r=>{if(!$d(r))return r;const[s,i,o,a]=r.match(Zm);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},UK=t=>io(0,255,t),Cy={...Ia,transform:t=>Math.round(UK(t))},Vo={test:M_("rgb","red"),parse:T2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Cy.transform(t)+", "+Cy.transform(e)+", "+Cy.transform(n)+", "+Eu(bu.transform(r))+")"};function $K(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const M0={test:M_("#"),parse:$K,transform:Vo.transform},rl={test:M_("hsl","hue"),parse:T2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+as.transform(Eu(e))+", "+as.transform(Eu(n))+", "+Eu(bu.transform(r))+")"},bn={test:t=>Vo.test(t)||M0.test(t)||rl.test(t),parse:t=>Vo.test(t)?Vo.parse(t):rl.test(t)?rl.parse(t):M0.parse(t),transform:t=>$d(t)?t:t.hasOwnProperty("red")?Vo.transform(t):rl.transform(t)},xt=(t,e,n)=>-n*t+n*e+t;function Iy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function BK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Iy(l,a,t+1/3),i=Iy(l,a,t),o=Iy(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Ay=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},zK=[M0,Vo,rl],WK=t=>zK.find(e=>e.test(t));function jS(t){const e=WK(t);let n=e.parse(t);return e===rl&&(n=BK(n)),n}const S2=(t,e)=>{const n=jS(t),r=jS(e),s={...n};return i=>(s.red=Ay(n.red,r.red,i),s.green=Ay(n.green,r.green,i),s.blue=Ay(n.blue,r.blue,i),s.alpha=xt(n.alpha,r.alpha,i),Vo.transform(s))};function HK(t){var e,n;return isNaN(t)&&$d(t)&&(((e=t.match(Zm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Zj))===null||n===void 0?void 0:n.length)||0)>0}const C2={regex:Fq,countKey:"Vars",token:"${v}",parse:Pt},I2={regex:Zj,countKey:"Colors",token:"${c}",parse:bn.parse},A2={regex:Zm,countKey:"Numbers",token:"${n}",parse:Ia.parse};function ky(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Tp(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ky(n,C2),ky(n,I2),ky(n,A2),n}function k2(t){return Tp(t).values}function P2(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Tp(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(C2.token,o[l]):l<r+n?a=a.replace(I2.token,bn.transform(o[l])):a=a.replace(A2.token,Eu(o[l]));return a}}const qK=t=>typeof t=="number"?0:t;function KK(t){const e=k2(t);return P2(t)(e.map(qK))}const oo={test:HK,parse:k2,createTransformer:P2,getAnimatableNone:KK},R2=(t,e)=>n=>`${n>0?e:t}`;function N2(t,e){return typeof t=="number"?n=>xt(t,e,n):bn.test(t)?S2(t,e):t.startsWith("var(")?R2(t,e):D2(t,e)}const j2=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>N2(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},GK=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=N2(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},D2=(t,e)=>{const n=oo.createTransformer(e),r=Tp(t),s=Tp(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Ki(j2(r.values,s.values),n):R2(t,e)},ud=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},DS=(t,e)=>n=>xt(t,e,n);function QK(t){return typeof t=="number"?DS:typeof t=="string"?bn.test(t)?S2:D2:Array.isArray(t)?j2:typeof t=="object"?GK:DS}function YK(t,e,n){const r=[],s=n||QK(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Pt:e;a=Ki(l,a)}r.push(a)}return r}function O2(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Ep(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=YK(e,r,s),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const f=ud(t[h],t[h+1],c);return o[h](f)};return n?c=>l(io(t[0],t[i-1],c)):l}function XK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ud(0,e,r);t.push(xt(n,1,s))}}function ZK(t){const e=[0];return XK(e,t.length-1),e}function JK(t,e){return t.map(n=>n*e)}function eG(t,e){return t.map(()=>e||x2).splice(0,t.length-1)}function Sp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=MK(r)?r.map(NS):NS(r),i={done:!1,value:e[0]},o=JK(n&&n.length===e.length?n:ZK(e),t),a=O2(o,e,{ease:Array.isArray(s)?s:eG(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function M2(t,e){return e?t*(1e3/e):0}const tG=5;function V2(t,e,n){const r=Math.max(e-tG,0);return M2(n-t(r),e-r)}const Py=.001,nG=.01,rG=10,sG=.05,iG=1;function oG({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=io(sG,iG,o),t=io(nG,rG,Ls(t)),o<1?(s=c=>{const h=c*o,f=h*t,p=h-n,m=V0(c,o),w=Math.exp(-f);return Py-p/m*w},i=c=>{const f=c*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-f),v=V0(Math.pow(c,2),o);return(-s(c)+Py>0?-1:1)*((p-m)*w)/v}):(s=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-Py+h*f},i=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,l=lG(s,i,a);if(t=Yo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const aG=12;function lG(t,e,n){let r=n;for(let s=1;s<aG;s++)r=r-t(r)/e(r);return r}function V0(t,e){return t*Math.sqrt(1-e*e)}const cG=["duration","bounce"],uG=["stiffness","damping","mass"];function OS(t,e){return e.some(n=>t[n]!==void 0)}function dG(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!OS(t,uG)&&OS(t,cG)){const n=oG(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function L2({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:h,velocity:f,isResolvedFromDuration:p}=dG({...r,velocity:-Ls(r.velocity||0)}),m=f||0,w=l/(2*Math.sqrt(a*c)),v=i-s,_=Ls(Math.sqrt(a/c)),b=Math.abs(v)<5;n||(n=b?.01:2),e||(e=b?.005:.5);let y;if(w<1){const E=V0(_,w);y=A=>{const R=Math.exp(-w*_*A);return i-R*((m+w*_*v)/E*Math.sin(E*A)+v*Math.cos(E*A))}}else if(w===1)y=E=>i-Math.exp(-_*E)*(v+(m+_*v)*E);else{const E=_*Math.sqrt(w*w-1);y=A=>{const R=Math.exp(-w*_*A),O=Math.min(E*A,300);return i-R*((m+w*_*v)*Math.sinh(O)+E*v*Math.cosh(O))/E}}return{calculatedDuration:p&&h||null,next:E=>{const A=y(E);if(p)o.done=E>=h;else{let R=m;E!==0&&(w<1?R=V2(y,E,A):R=0);const O=Math.abs(R)<=n,C=Math.abs(i-A)<=e;o.done=O&&C}return o.value=o.done?i:A,o}}}function MS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},m=S=>a!==void 0&&S<a||l!==void 0&&S>l,w=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let v=n*e;const _=f+v,b=o===void 0?_:o(_);b!==_&&(v=b-f);const y=S=>-v*Math.exp(-S/r),E=S=>b+y(S),A=S=>{const I=y(S),N=E(S);p.done=Math.abs(I)<=c,p.value=p.done?b:N};let R,O;const C=S=>{m(p.value)&&(R=S,O=L2({keyframes:[p.value,w(p.value)],velocity:V2(E,S,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return C(0),{calculatedDuration:null,next:S=>{let I=!1;return!O&&R===void 0&&(I=!0,A(S),C(S)),R!==void 0&&S>R?O.next(S-R):(!I&&A(S),p)}}}const hG=t=>{const e=({timestamp:n})=>t(n);return{start:()=>gt.update(e,!0),stop:()=>Xs(e),now:()=>dn.isProcessing?dn.timestamp:performance.now()}},VS=2e4;function LS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<VS;)e+=n,r=t.next(e);return e>=VS?1/0:e}const fG={decay:MS,inertia:MS,tween:Sp,keyframes:Sp,spring:L2};function Cp({autoplay:t=!0,delay:e=0,driver:n=hG,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:h,onUpdate:f,...p}){let m=1,w=!1,v,_;const b=()=>{_=new Promise(G=>{v=G})};b();let y;const E=fG[s]||Sp;let A;E!==Sp&&typeof r[0]!="number"&&(A=O2([0,100],r,{clamp:!1}),r=[0,100]);const R=E({...p,keyframes:r});let O;a==="mirror"&&(O=E({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let C="idle",S=null,I=null,N=null;R.calculatedDuration===null&&i&&(R.calculatedDuration=LS(R));const{calculatedDuration:D}=R;let j=1/0,P=1/0;D!==null&&(j=D+o,P=j*(i+1)-o);let B=0;const re=G=>{if(I===null)return;m>0&&(I=Math.min(I,G)),m<0&&(I=Math.min(G-P/m,I)),S!==null?B=S:B=Math.round(G-I)*m;const ae=B-e*(m>=0?1:-1),pe=m>=0?ae<0:ae>P;B=Math.max(ae,0),C==="finished"&&S===null&&(B=P);let Be=B,tt=R;if(i){const Ze=B/j;let ke=Math.floor(Ze),Ee=Ze%1;!Ee&&Ze>=1&&(Ee=1),Ee===1&&ke--,ke=Math.min(ke,i+1);const Oe=!!(ke%2);Oe&&(a==="reverse"?(Ee=1-Ee,o&&(Ee-=o/j)):a==="mirror"&&(tt=O));let ut=io(0,1,Ee);B>P&&(ut=a==="reverse"&&Oe?1:0),Be=ut*j}const be=pe?{done:!1,value:r[0]}:tt.next(Be);A&&(be.value=A(be.value));let{done:de}=be;!pe&&D!==null&&(de=m>=0?B>=P:B<=0);const Ue=S===null&&(C==="finished"||C==="running"&&de);return f&&f(be.value),Ue&&F(),be},K=()=>{y&&y.stop(),y=void 0},se=()=>{C="idle",K(),v(),b(),I=N=null},F=()=>{C="finished",h&&h(),K(),v()},H=()=>{if(w)return;y||(y=n(re));const G=y.now();l&&l(),S!==null?I=G-S:(!I||C==="finished")&&(I=G),C==="finished"&&b(),N=I,S=null,C="running",y.start()};t&&H();const oe={then(G,ae){return _.then(G,ae)},get time(){return Ls(B)},set time(G){G=Yo(G),B=G,S!==null||!y||m===0?S=G:I=y.now()-G/m},get duration(){const G=R.calculatedDuration===null?LS(R):R.calculatedDuration;return Ls(G)},get speed(){return m},set speed(G){G===m||!y||(m=G,oe.time=Ls(B))},get state(){return C},play:H,pause:()=>{C="paused",S=B},stop:()=>{w=!0,C!=="idle"&&(C="idle",c&&c(),se())},cancel:()=>{N!==null&&re(N),se()},complete:()=>{C="finished"},sample:G=>(I=0,re(G))};return oe}function pG(t){let e;return()=>(e===void 0&&(e=t()),e)}const mG=pG(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),gG=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Lh=10,yG=2e4,vG=(t,e)=>e.type==="spring"||t==="backgroundColor"||!m2(e.ease);function xG(t,e,{onUpdate:n,onComplete:r,...s}){if(!(mG()&&gG.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(y=>{a=y})};c();let{keyframes:h,duration:f=300,ease:p,times:m}=s;if(vG(e,s)){const y=Cp({...s,repeat:0,delay:0});let E={done:!1,value:h[0]};const A=[];let R=0;for(;!E.done&&R<yG;)E=y.sample(R),A.push(E.value),R+=Lh;m=void 0,h=A,f=R-Lh,p="linear"}const w=kK(t.owner.current,e,h,{...s,duration:f,ease:p,times:m}),v=()=>w.cancel(),_=()=>{gt.update(v),a(),c()};return w.onfinish=()=>{t.set(PK(h,s)),r&&r(),_()},{then(y,E){return l.then(y,E)},attachTimeline(y){return w.timeline=y,w.onfinish=null,Pt},get time(){return Ls(w.currentTime||0)},set time(y){w.currentTime=Yo(y)},get speed(){return w.playbackRate},set speed(y){w.playbackRate=y},get duration(){return Ls(f)},play:()=>{o||(w.play(),Xs(v))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:y}=w;if(y){const E=Cp({...s,autoplay:!1});t.setWithVelocity(E.sample(y-Lh).value,E.sample(y).value,Lh)}_()},complete:()=>w.finish(),cancel:_}}function wG({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Pt,pause:Pt,stop:Pt,then:i=>(i(),Promise.resolve()),cancel:Pt,complete:Pt});return e?Cp({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const _G={type:"spring",stiffness:500,damping:25,restSpeed:10},bG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),EG={type:"keyframes",duration:.8},TG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SG=(t,{keyframes:e})=>e.length>2?EG:Ca.has(t)?t.startsWith("scale")?bG(e[1]):_G:TG,L0=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(oo.test(e)||e==="0")&&!e.startsWith("url(")),CG=new Set(["brightness","contrast","saturate","opacity"]);function IG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Zm)||[];if(!r)return t;const s=n.replace(r,"");let i=CG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const AG=/([a-z-]*)\(.*?\)/g,F0={...oo,getAnimatableNone:t=>{const e=t.match(AG);return e?e.map(IG).join(" "):t}},kG={...Jj,color:bn,backgroundColor:bn,outlineColor:bn,fill:bn,stroke:bn,borderColor:bn,borderTopColor:bn,borderRightColor:bn,borderBottomColor:bn,borderLeftColor:bn,filter:F0,WebkitFilter:F0},V_=t=>kG[t];function F2(t,e){let n=V_(t);return n!==F0&&(n=oo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const U2=t=>/^0[^.\s]+$/.test(t);function PG(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||U2(t)}function RG(t,e,n,r){const s=L0(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),PG(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const h=l[c];i[h]=F2(e,a)}return i}function NG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function L_(t,e){return t[e]||t.default||t}const jG={skipAnimations:!1},F_=(t,e,n,r={})=>s=>{const i=L_(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Yo(o);const l=RG(e,t,n,i),c=l[0],h=l[l.length-1],f=L0(t,c),p=L0(t,h);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:w=>{e.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(NG(i)||(m={...m,...SG(t,m)}),m.duration&&(m.duration=Yo(m.duration)),m.repeatDelay&&(m.repeatDelay=Yo(m.repeatDelay)),!f||!p||AK.current||i.type===!1||jG.skipAnimations)return wG(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=xG(e,t,m);if(w)return w}return Cp(m)};function Ip(t){return!!($n(t)&&t.add)}const $2=t=>/^\-?\d*\.?\d+$/.test(t);function U_(t,e){t.indexOf(e)===-1&&t.push(e)}function $_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class B_{constructor(){this.subscriptions=[]}add(e){return U_(this.subscriptions,e),()=>$_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const DG=t=>!isNaN(parseFloat(t));class OG{constructor(e,n={}){this.version="10.17.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=dn;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,gt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>gt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=DG(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new B_);const r=this.events[e].add(n);return e==="change"?()=>{r(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?M2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xl(t,e){return new OG(t,e)}const B2=t=>e=>e.test(t),MG={test:t=>t==="auto",parse:t=>t},z2=[Ia,xe,as,di,zq,Bq,MG],$c=t=>z2.find(B2(t)),VG=[...z2,bn,oo],LG=t=>VG.find(B2(t));function FG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xl(n))}function UG(t,e){const n=eg(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=sK(i[o]);FG(t,o,a)}}function $G(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=e[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),h!=null&&(typeof h=="string"&&($2(h)||U2(h))?h=parseFloat(h):!LG(h)&&oo.test(c)&&(h=F2(l,c)),t.addValue(l,Xl(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function BG(t,e){return e?(e[t]||e.default||e).from:void 0}function zG(t,e,n){const r={};for(const s in t){const i=BG(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function WG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function HG(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function W2(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const p=t.getValue(f),m=a[f];if(!p||m===void 0||h&&WG(h,f))continue;const w={delay:n,elapsed:0,...L_(i||{},f)};if(window.HandoffAppearAnimations){const b=t.getProps()[Hj];if(b){const y=window.HandoffAppearAnimations(b,f,p,gt);y!==null&&(w.elapsed=y,w.isHandoff=!0)}}let v=!w.isHandoff&&!HG(p,m);if(w.type==="spring"&&(p.getVelocity()||w.velocity)&&(v=!1),p.animation&&(v=!1),v)continue;p.start(F_(f,p,m,t.shouldReduceMotion&&Ca.has(f)?{type:!1}:w));const _=p.animation;Ip(l)&&(l.add(f),_.then(()=>l.remove(f))),c.push(_)}return o&&Promise.all(c).then(()=>{o&&UG(t,o)}),c}function U0(t,e,n={}){const r=eg(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(W2(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=s;return qG(t,e,c+l,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function qG(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(KG).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(U0(c,e,{...i,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function KG(t,e){return t.sortNodePosition(e)}function GG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>U0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=U0(t,e,n);else{const s=typeof e=="function"?eg(t,e,n.custom):e;r=Promise.all(W2(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const QG=[...S_].reverse(),YG=S_.length;function XG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>GG(t,n,r)))}function ZG(t){let e=XG(t);const n=eQ();let r=!0;const s=(l,c)=>{const h=eg(t,c);if(h){const{transition:f,transitionEnd:p,...m}=h;l={...l,...m,...p}}return l};function i(l){e=l(t)}function o(l,c){const h=t.getProps(),f=t.getVariantContext(!0)||{},p=[],m=new Set;let w={},v=1/0;for(let b=0;b<YG;b++){const y=QG[b],E=n[y],A=h[y]!==void 0?h[y]:f[y],R=ld(A),O=y===c?E.isActive:null;O===!1&&(v=b);let C=A===f[y]&&A!==h[y]&&R;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),E.protectedKeys={...w},!E.isActive&&O===null||!A&&!E.prevProp||Ym(A)||typeof A=="boolean")continue;let I=JG(E.prevProp,A)||y===c&&E.isActive&&!C&&R||b>v&&R,N=!1;const D=Array.isArray(A)?A:[A];let j=D.reduce(s,{});O===!1&&(j={});const{prevResolvedValues:P={}}=E,B={...P,...j},re=K=>{I=!0,m.has(K)&&(N=!0,m.delete(K)),E.needsAnimating[K]=!0};for(const K in B){const se=j[K],F=P[K];if(w.hasOwnProperty(K))continue;let H=!1;bp(se)&&bp(F)?H=!f2(se,F):H=se!==F,H?se!==void 0?re(K):m.add(K):se!==void 0&&m.has(K)?re(K):E.protectedKeys[K]=!0}E.prevProp=A,E.prevResolvedValues=j,E.isActive&&(w={...w,...j}),r&&t.blockInitialAnimation&&(I=!1),I&&(!C||N)&&p.push(...D.map(K=>({animation:K,options:{type:y,...l}})))}if(m.size){const b={};m.forEach(y=>{const E=t.getBaseTarget(y);E!==void 0&&(b[y]=E)}),p.push({animation:b})}let _=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(p):Promise.resolve()}function a(l,c,h){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var w;return(w=m.animationState)===null||w===void 0?void 0:w.setActive(l,c)}),n[l].isActive=c;const p=o(h,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function JG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!f2(e,t):!1}function So(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eQ(){return{animate:So(!0),whileInView:So(),whileHover:So(),whileTap:So(),whileDrag:So(),whileFocus:So(),exit:So()}}class tQ extends yo{constructor(e){super(e),e.animationState||(e.animationState=ZG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ym(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let nQ=0;class rQ extends yo{constructor(){super(...arguments),this.id=nQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const sQ={animation:{Feature:tQ},exit:{Feature:rQ}},FS=(t,e)=>Math.abs(t-e);function iQ(t,e){const n=FS(t.x,e.x),r=FS(t.y,e.y);return Math.sqrt(n**2+r**2)}class H2{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ny(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=iQ(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:w}=f,{timestamp:v}=dn;this.history.push({...w,timestamp:v});const{onStart:_,onMove:b}=this.handlers;p||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ry(p,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Ny(f.type==="pointercancel"?this.lastMoveEventInfo:Ry(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,_),w&&w(f,_)},!l2(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Jm(e),a=Ry(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=dn;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Ny(a,this.history)),this.removeListeners=Ki(Vs(this.contextWindow,"pointermove",this.handlePointerMove),Vs(this.contextWindow,"pointerup",this.handlePointerUp),Vs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xs(this.updatePoint)}}function Ry(t,e){return e?{point:e(t.point)}:t}function US(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ny({point:t},e){return{point:t,delta:US(t,q2(e)),offset:US(t,oQ(e)),velocity:aQ(e,.1)}}function oQ(t){return t[0]}function q2(t){return t[t.length-1]}function aQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=q2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Yo(e)));)n--;if(!r)return{x:0,y:0};const i=Ls(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nr(t){return t.max-t.min}function $0(t,e=0,n=.01){return Math.abs(t-e)<=n}function $S(t,e,n,r=.5){t.origin=r,t.originPoint=xt(e.min,e.max,t.origin),t.scale=nr(n)/nr(e),($0(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,($0(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Tu(t,e,n,r){$S(t.x,e.x,n.x,r?r.originX:void 0),$S(t.y,e.y,n.y,r?r.originY:void 0)}function BS(t,e,n){t.min=n.min+e.min,t.max=t.min+nr(e)}function lQ(t,e,n){BS(t.x,e.x,n.x),BS(t.y,e.y,n.y)}function zS(t,e,n){t.min=e.min-n.min,t.max=t.min+nr(e)}function Su(t,e,n){zS(t.x,e.x,n.x),zS(t.y,e.y,n.y)}function cQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?xt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?xt(n,t,r.max):Math.min(t,n)),t}function WS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uQ(t,{top:e,left:n,bottom:r,right:s}){return{x:WS(t.x,n,s),y:WS(t.y,e,r)}}function HS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function dQ(t,e){return{x:HS(t.x,e.x),y:HS(t.y,e.y)}}function hQ(t,e){let n=.5;const r=nr(t),s=nr(e);return s>r?n=ud(e.min,e.max-r,t.min):r>s&&(n=ud(t.min,t.max-s,e.min)),io(0,1,n)}function fQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const B0=.35;function pQ(t=B0){return t===!1?t=0:t===!0&&(t=B0),{x:qS(t,"left","right"),y:qS(t,"top","bottom")}}function qS(t,e,n){return{min:KS(t,e),max:KS(t,n)}}function KS(t,e){return typeof t=="number"?t:t[e]||0}const GS=()=>({translate:0,scale:1,origin:0,originPoint:0}),sl=()=>({x:GS(),y:GS()}),QS=()=>({min:0,max:0}),Ot=()=>({x:QS(),y:QS()});function ar(t){return[t("x"),t("y")]}function K2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function mQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jy(t){return t===void 0||t===1}function z0({scale:t,scaleX:e,scaleY:n}){return!jy(t)||!jy(e)||!jy(n)}function ko(t){return z0(t)||G2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function G2(t){return YS(t.x)||YS(t.y)}function YS(t){return t&&t!=="0%"}function Ap(t,e,n){const r=t-n,s=e*r;return n+s}function XS(t,e,n,r,s){return s!==void 0&&(t=Ap(t,s,r)),Ap(t,n,r)+e}function W0(t,e=0,n=1,r,s){t.min=XS(t.min,e,n,r,s),t.max=XS(t.max,e,n,r,s)}function Q2(t,{x:e,y:n}){W0(t.x,e.translate,e.scale,e.originPoint),W0(t.y,n.translate,n.scale,n.originPoint)}function yQ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&il(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Q2(t,o)),r&&ko(i.latestValues)&&il(t,i.latestValues))}e.x=ZS(e.x),e.y=ZS(e.y)}function ZS(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function mi(t,e){t.min=t.min+e,t.max=t.max+e}function JS(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=xt(t.min,t.max,i);W0(t,e[n],e[r],o,e.scale)}const vQ=["x","scaleX","originX"],xQ=["y","scaleY","originY"];function il(t,e){JS(t.x,e,vQ),JS(t.y,e,xQ)}function Y2(t,e){return K2(gQ(t.getBoundingClientRect(),e))}function wQ(t,e,n){const r=Y2(t,n),{scroll:s}=e;return s&&(mi(r.x,s.offset.x),mi(r.y,s.offset.y)),r}const X2=({current:t})=>t?t.ownerDocument.defaultView:null,_Q=new WeakMap;class bQ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jm(h,"page").point)},i=(h,f)=>{const{drag:p,dragPropagation:m,onDragStart:w}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=u2(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ar(_=>{let b=this.getAxisMotionValue(_).get()||0;if(as.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const E=y.layout.layoutBox[_];E&&(b=nr(E)*(parseFloat(b)/100))}}this.originPoint[_]=b}),w&&gt.update(()=>w(h,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:w,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:_}=f;if(m&&this.currentDirection===null){this.currentDirection=EQ(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),v&&v(h,f)},a=(h,f)=>this.stop(h,f),l=()=>ar(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new H2(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:X2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&gt.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Fh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=cQ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&nl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=uQ(s.layoutBox,n):this.constraints=!1,this.elastic=pQ(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ar(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=fQ(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!nl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=wQ(r,s.root,this.visualElement.getTransformPagePoint());let o=dQ(s.layout.layoutBox,i);if(n){const a=n(mQ(o));this.hasMutatedConstraints=!!a,a&&(o=K2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ar(h=>{if(!Fh(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(F_(e,r,0,n))}stopAnimation(){ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ar(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ar(n=>{const{drag:r}=this.getProps();if(!Fh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-xt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!nl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ar(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=hQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ar(o=>{if(!Fh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(xt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;_Q.set(this.visualElement,this);const e=this.visualElement.current,n=Vs(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();nl(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Ps(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ar(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=B0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Fh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function EQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class TQ extends yo{constructor(e){super(e),this.removeGroupControls=Pt,this.removeListeners=Pt,this.controls=new bQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pt}unmount(){this.removeGroupControls(),this.removeListeners()}}const eC=t=>(e,n)=>{t&&gt.update(()=>t(e,n))};class SQ extends yo{constructor(){super(...arguments),this.removePointerDownListener=Pt}onPointerDown(e){this.session=new H2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:eC(e),onStart:eC(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&gt.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Vs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function CQ(){const t=x.useContext(E_);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=x.useId();return x.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=tC(t,e.target.x),r=tC(t,e.target.y);return`${n}% ${r}%`}},IQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=oo.parse(t);if(s.length>5)return r;const i=oo.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=xt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class AQ extends z.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Oq(kQ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||gt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Z2(t){const[e,n]=CQ(),r=x.useContext(Kj);return z.createElement(AQ,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(Gj),isPresent:e,safeToRemove:n})}const kQ={borderRadius:{...Bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bc,borderTopRightRadius:Bc,borderBottomLeftRadius:Bc,borderBottomRightRadius:Bc,boxShadow:IQ},J2=["TopLeft","TopRight","BottomLeft","BottomRight"],PQ=J2.length,nC=t=>typeof t=="string"?parseFloat(t):t,rC=t=>typeof t=="number"||xe.test(t);function RQ(t,e,n,r,s,i){s?(t.opacity=xt(0,n.opacity!==void 0?n.opacity:1,NQ(r)),t.opacityExit=xt(e.opacity!==void 0?e.opacity:1,0,jQ(r))):i&&(t.opacity=xt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<PQ;o++){const a=`border${J2[o]}Radius`;let l=sC(e,a),c=sC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||rC(l)===rC(c)?(t[a]=Math.max(xt(nC(l),nC(c),r),0),(as.test(c)||as.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,r))}function sC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const NQ=eD(0,.5,b2),jQ=eD(.5,.95,Pt);function eD(t,e,n){return r=>r<t?0:r>e?1:n(ud(t,e,r))}function iC(t,e){t.min=e.min,t.max=e.max}function ir(t,e){iC(t.x,e.x),iC(t.y,e.y)}function oC(t,e,n,r,s){return t-=e,t=Ap(t,1/n,r),s!==void 0&&(t=Ap(t,1/s,r)),t}function DQ(t,e=0,n=1,r=.5,s,i=t,o=t){if(as.test(e)&&(e=parseFloat(e),e=xt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=xt(i.min,i.max,r);t===i&&(a-=e),t.min=oC(t.min,e,n,a,s),t.max=oC(t.max,e,n,a,s)}function aC(t,e,[n,r,s],i,o){DQ(t,e[n],e[r],e[s],e.scale,i,o)}const OQ=["x","scaleX","originX"],MQ=["y","scaleY","originY"];function lC(t,e,n,r){aC(t.x,e,OQ,n?n.x:void 0,r?r.x:void 0),aC(t.y,e,MQ,n?n.y:void 0,r?r.y:void 0)}function cC(t){return t.translate===0&&t.scale===1}function tD(t){return cC(t.x)&&cC(t.y)}function VQ(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function nD(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function uC(t){return nr(t.x)/nr(t.y)}class LQ{constructor(){this.members=[]}add(e){U_(this.members,e),e.scheduleRender()}remove(e){if($_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dC(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:h}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const FQ=(t,e)=>t.depth-e.depth;class UQ{constructor(){this.children=[],this.isDirty=!1}add(e){U_(this.children,e),this.isDirty=!0}remove(e){$_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FQ),this.isDirty=!1,this.children.forEach(e)}}function $Q(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Xs(r),t(i-e))};return gt.read(r,!0),()=>Xs(r)}function BQ(t){window.MotionDebug&&window.MotionDebug.record(t)}function zQ(t){return t instanceof SVGElement&&t.tagName!=="svg"}function WQ(t,e,n){const r=$n(t)?t:Xl(t);return r.start(F_("",r,e,n)),r.animation}const hC=["","X","Y","Z"],HQ={visibility:"hidden"},fC=1e3;let qQ=0;const Po={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=qQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Po.totalNodes=Po.resolvedTargetDeltas=Po.recalculatedProjection=0,this.nodes.forEach(QQ),this.nodes.forEach(eY),this.nodes.forEach(tY),this.nodes.forEach(YQ),BQ(Po)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new UQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new B_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zQ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=$Q(p,250),xf.hasAnimatedSinceResize&&(xf.hasAnimatedSinceResize=!1,this.nodes.forEach(mC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||oY,{onLayoutAnimationStart:_,onLayoutAnimationComplete:b}=h.getProps(),y=!this.targetLayout||!nD(this.targetLayout,w)||m,E=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const A={...L_(v,"layout"),onPlay:_,onComplete:b};(h.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else p||mC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nY),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pC);return}this.isUpdating||this.nodes.forEach(ZQ),this.isUpdating=!1,this.nodes.forEach(JQ),this.nodes.forEach(KQ),this.nodes.forEach(GQ),this.clearAllSnapshots();const a=performance.now();dn.delta=io(0,1e3/60,a-dn.timestamp),dn.timestamp=a,dn.isProcessing=!0,Ey.update.process(dn),Ey.preRender.process(dn),Ey.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(XQ),this.sharedNodes.forEach(rY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!tD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||ko(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),aY(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ot();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(mi(a.x,l.offset.x),mi(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ot();ir(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:f}=c;if(c!==this.root&&h&&f.layoutScroll){if(h.isRoot){ir(a,o);const{scroll:p}=this.root;p&&(mi(a.x,-p.offset.x),mi(a.y,-p.offset.y))}mi(a.x,h.offset.x),mi(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=Ot();ir(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&il(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ko(h.latestValues)&&il(l,h.latestValues)}return ko(this.latestValues)&&il(l,this.latestValues),l}removeTransform(o){const a=Ot();ir(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ko(c.latestValues))continue;z0(c.latestValues)&&c.updateSnapshot();const h=Ot(),f=c.measurePageBox();ir(h,f),lC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return ko(this.latestValues)&&lC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),Su(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ir(this.target,this.layout.layoutBox),Q2(this.target,this.targetDelta)):ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),Su(this.relativeTargetOrigin,this.target,m.target),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Po.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||z0(this.parent.latestValues)||G2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;ir(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;yQ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=sl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=sl(),this.projectionDeltaWithTransform=sl());const v=this.projectionTransform;Tu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=dC(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Po.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ot(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=m!==w,_=this.getStack(),b=!_||_.members.length<=1,y=!!(v&&!b&&this.options.crossfade===!0&&!this.path.some(iY));this.animationProgress=0;let E;this.mixTargetDelta=A=>{const R=A/1e3;gC(f.x,o.x,R),gC(f.y,o.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Su(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sY(this.relativeTarget,this.relativeTargetOrigin,p,R),E&&VQ(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ot()),ir(E,this.relativeTarget)),v&&(this.animationValues=h,RQ(h,c,this.latestValues,R,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{xf.hasAnimatedSinceResize=!0,this.currentAnimation=WQ(0,fC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&sD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ot();const f=nr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=nr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ir(a,l),il(a,h),Tu(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new LQ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<hC.length;h++){const f="rotate"+hC[h];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return HQ;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=vf(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=vf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ko(this.latestValues)&&(v.transform=h?h({},""):"none",this.hasProjected=!1),v}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=dC(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:m,y:w}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in wp){if(p[v]===void 0)continue;const{correct:_,applyTo:b}=wp[v],y=c.transform==="none"?p[v]:_(p[v],f);if(b){const E=b.length;for(let A=0;A<E;A++)c[b[A]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=f===this?vf(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(pC),this.root.sharedNodes.clear()}}}function KQ(t){t.updateLayout()}function GQ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?ar(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=nr(p);p.min=r[f].min,p.max=p.min+m}):sD(i,n.layoutBox,r)&&ar(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=nr(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=sl();Tu(a,r,n.layoutBox);const l=sl();o?Tu(l,t.applyTransform(s,!0),n.measuredBox):Tu(l,r,n.layoutBox);const c=!tD(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const w=Ot();Su(w,n.layoutBox,p.layoutBox);const v=Ot();Su(v,r,m.layoutBox),nD(w,v)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function QQ(t){Po.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function YQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function XQ(t){t.clearSnapshot()}function pC(t){t.clearMeasurements()}function ZQ(t){t.isLayoutDirty=!1}function JQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function eY(t){t.resolveTargetDelta()}function tY(t){t.calcProjection()}function nY(t){t.resetRotation()}function rY(t){t.removeLeadSnapshot()}function gC(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function yC(t,e,n,r){t.min=xt(e.min,n.min,r),t.max=xt(e.max,n.max,r)}function sY(t,e,n,r){yC(t.x,e.x,n.x,r),yC(t.y,e.y,n.y,r)}function iY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const oY={duration:.45,ease:[.4,0,.1,1]},vC=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),xC=vC("applewebkit/")&&!vC("chrome/")?Math.round:Pt;function wC(t){t.min=xC(t.min),t.max=xC(t.max)}function aY(t){wC(t.x),wC(t.y)}function sD(t,e,n){return t==="position"||t==="preserve-aspect"&&!$0(uC(e),uC(n),.2)}const lY=rD({attachResizeListener:(t,e)=>Ps(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dy={current:void 0},iD=rD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dy.current){const t=new lY({});t.mount(window),t.setOptions({layoutScroll:!0}),Dy.current=t}return Dy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cY={pan:{Feature:SQ},drag:{Feature:TQ,ProjectionNode:iD,MeasureLayout:Z2}},uY=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function dY(t){const e=uY.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function H0(t,e,n=1){const[r,s]=dY(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return $2(o)?parseFloat(o):o}else return D0(s)?H0(s,e,n+1):s}function hY(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!D0(i))return;const o=H0(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!D0(i))continue;const o=H0(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const fY=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),oD=t=>fY.has(t),pY=t=>Object.keys(t).some(oD),_C=t=>t===Ia||t===xe,bC=(t,e)=>parseFloat(t.split(", ")[e]),EC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return bC(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?bC(i[1],t):0}},mY=new Set(["x","y","z"]),gY=Ud.filter(t=>!mY.has(t));function yY(t){const e=[];return gY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Zl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:EC(4,13),y:EC(5,14)};Zl.translateX=Zl.x;Zl.translateY=Zl.y;const vY=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Zl[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),t[c]=Zl[c](l,i)}),t},xY=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(oD);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],f=$c(h);const p=e[l];let m;if(bp(p)){const w=p.length,v=p[0]===null?1:0;h=p[v],f=$c(h);for(let _=v;_<w&&p[_]!==null;_++)m?Ep($c(p[_])===m):m=$c(p[_])}else m=$c(p);if(f!==m)if(_C(f)&&_C(m)){const w=c.get();typeof w=="string"&&c.set(parseFloat(w)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===xe&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(h===0||p===0)?h===0?c.set(m.transform(h)):e[l]=f.transform(p):(o||(i=yY(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=vY(e,t,a);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),Qm&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function wY(t,e,n,r){return pY(e)?xY(t,e,n,r):{target:e,transitionEnd:r}}const _Y=(t,e,n,r)=>{const s=hY(t,e,r);return e=s.target,r=s.transitionEnd,wY(t,e,n,r)},q0={current:null},aD={current:!1};function bY(){if(aD.current=!0,!!Qm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>q0.current=t.matches;t.addListener(e),e()}else q0.current=!1}function EY(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if($n(i))t.addValue(s,i),Ip(r)&&r.add(s);else if($n(o))t.addValue(s,Xl(i,{owner:t})),Ip(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,Xl(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const TC=new WeakMap,lD=Object.keys(cd),TY=lD.length,SC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],SY=C_.length;class CY{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>gt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Xm(n),this.isVariantNode=qj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const p=h[f];a[f]!==void 0&&$n(p)&&(p.set(a[f],!1),Ip(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,TC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aD.current||bY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:q0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){TC.delete(this.current),this.projection&&this.projection.unmount(),Xs(this.notifyUpdate),Xs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ca.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&gt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<TY;l++){const c=lD[l],{isEnabled:h,Feature:f,ProjectionNode:p,MeasureLayout:m}=cd[c];p&&(o=p),h(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:h,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||f&&nl(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SC.length;r++){const s=SC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=EY(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<SY;r++){const s=C_[r],i=this.props[s];(ld(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Xl(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=j_(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!$n(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new B_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class cD extends CY{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=zG(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){$G(this,r,o);const a=_Y(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function IY(t){return window.getComputedStyle(t)}class AY extends cD{readValueFromInstance(e,n){if(Ca.has(n)){const r=V_(n);return r&&r.default||0}else{const r=IY(e),s=(Xj(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Y2(e,n)}build(e,n,r,s){A_(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return N_(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$n(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){r2(e,n,r,s)}}class kY extends cD{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ca.has(n)){const r=V_(n);return r&&r.default||0}return n=s2.has(n)?n:T_(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ot()}scrapeMotionValuesFromProps(e,n){return o2(e,n)}build(e,n,r,s){P_(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){i2(e,n,r,s)}mount(e){this.isSVGTag=R_(e.tagName),super.mount(e)}}const PY=(t,e)=>I_(t)?new kY(e,{enableHardwareAcceleration:!1}):new AY(e,{enableHardwareAcceleration:!0}),RY={layout:{ProjectionNode:iD,MeasureLayout:Z2}},NY={...sQ,...SK,...cY,...RY},at=jq((t,e)=>hK(t,e,NY,PY)),jY=Td("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ie=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Yi:"button";return u.jsx(o,{className:Ae(jY({variant:e,size:n,className:t})),ref:i,...s})});Ie.displayName="Button";const ps=()=>u.jsx("footer",{className:"bg-trust-chain-dark-accent/50 border-t border-white/5 py-8",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[u.jsxs("div",{className:"mb-6 md:mb-0",children:[u.jsxs(Ut,{to:"/",className:"flex items-center gap-2",children:[u.jsx(Ws,{className:"h-6 w-6 text-trust-chain-blue"}),u.jsxs("span",{className:"text-lg font-bold",children:["Trust",u.jsx("span",{className:"text-trust-chain-blue",children:"Chain"})]})]}),u.jsx("p",{className:"text-white/60 text-sm mt-2 max-w-sm",children:"Anonymous crime reporting platform secured by blockchain technology."})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8 md:gap-12 text-center md:text-left",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-3",children:"Platform"}),u.jsxs("ul",{className:"space-y-2 text-white/60 text-sm",children:[u.jsx("li",{children:u.jsx(Ut,{to:"/about",className:"hover:text-white transition-colors",children:"About Us"})}),u.jsx("li",{children:u.jsx(Ut,{to:"/faq",className:"hover:text-white transition-colors",children:"FAQ"})}),u.jsx("li",{children:u.jsx(Ut,{to:"/",className:"hover:text-white transition-colors",children:"Security"})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-3",children:"Resources"}),u.jsxs("ul",{className:"space-y-2 text-white/60 text-sm",children:[u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Documentation"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),u.jsx("li",{children:u.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-3",children:"Connect"}),u.jsxs("div",{className:"flex justify-center md:justify-start space-x-4",children:[u.jsx("a",{href:"#",className:"text-white/60 hover:text-white transition-colors",children:u.jsx(O4,{className:"h-5 w-5"})}),u.jsx("a",{href:"#",className:"text-white/60 hover:text-white transition-colors",children:u.jsx(B4,{className:"h-5 w-5"})})]})]})]})]}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-white/5 flex flex-col md:flex-row justify-between items-center text-white/60 text-sm",children:[u.jsxs("p",{children:[" ",new Date().getFullYear()," SafeSpeak. All rights reserved."]}),u.jsx("p",{className:"mt-2 md:mt-0",children:"Made with privacy & security in mind."})]})]})}),DY=()=>u.jsxs("div",{className:"min-h-screen flex flex-col bg-trust-chain-dark",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-trust-chain-dark-accent/30 pointer-events-none"}),u.jsx("main",{className:"flex-1 flex flex-col items-center justify-center px-4 py-16",children:u.jsxs(at.div,{className:"container max-w-4xl z-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[u.jsx("div",{className:"flex justify-center mb-8",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-trust-chain-blue to-trust-chain-green rounded-full blur opacity-70"}),u.jsx("div",{className:"relative bg-trust-chain-dark p-5 rounded-full",children:u.jsx(Ws,{className:"h-20 w-20 text-trust-chain-blue"})})]})}),u.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-center mb-6",children:["Trust",u.jsx("span",{className:"text-trust-chain-blue",children:"Chain"})]}),u.jsx("p",{className:"text-xl md:text-2xl text-white/80 text-center mb-16",children:"Built by Rukmini and Team"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-3xl mx-auto",children:[u.jsxs(at.div,{className:"glass-card p-8 rounded-2xl flex flex-col items-center text-center",whileHover:{y:-5,transition:{duration:.2}},children:[u.jsx("div",{className:"bg-trust-chain-blue/15 p-4 rounded-full mb-4",children:u.jsx(z4,{className:"h-10 w-10 text-trust-chain-blue"})}),u.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Rukmini Access"}),u.jsx("p",{className:"text-white/70 mb-6",children:"Create an anonymous profile and report crimes securely with complete privacy."}),u.jsx("div",{className:"flex flex-col w-full gap-3",children:u.jsx(Ie,{asChild:!0,className:"w-full bg-trust-chain-blue hover:bg-trust-chain-blue/90",children:u.jsx(Ut,{to:"/login",children:"Login"})})})]}),u.jsxs(at.div,{className:"glass-card p-8 rounded-2xl flex flex-col items-center text-center",whileHover:{y:-5,transition:{duration:.2}},children:[u.jsx("div",{className:"bg-trust-chain-green/15 p-4 rounded-full mb-4",children:u.jsx(W4,{className:"h-10 w-10 text-trust-chain-green"})}),u.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Admin Access"}),u.jsx("p",{className:"text-white/70 mb-6",children:"Authorized personnel login to manage and investigate reported cases."}),u.jsx("div",{className:"flex flex-col w-full gap-3",children:u.jsx(Ie,{asChild:!0,className:"w-full bg-trust-chain-green hover:bg-trust-chain-green/90",children:u.jsx(Ut,{to:"/admin-login",children:"Admin Login"})})})]})]}),u.jsx("div",{className:"mt-16 text-center",children:u.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/5 px-4 py-2 rounded-full",children:[u.jsx(Hv,{className:"h-4 w-4 text-trust-chain-blue"}),u.jsx("span",{className:"text-sm text-white/60",children:"Blockchain Secured | Zero Data Collection | Anonymous Reporting"})]})})]})}),u.jsx(ps,{})]});function OY(t,e=[]){let n=[];function r(i,o){const a=x.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:m,...w}=f,v=(p==null?void 0:p[t][l])||a,_=x.useMemo(()=>w,Object.values(w));return u.jsx(v.Provider,{value:_,children:m})}function h(f,p){const m=(p==null?void 0:p[t][l])||a,w=x.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,MY(s,...e)]}function MY(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var z_="Progress",W_=100,[VY,hee]=OY(z_),[LY,FY]=VY(z_),uD=x.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=UY,...o}=t;(s||s===0)&&!CC(s)&&console.error($Y(`${s}`,"Progress"));const a=CC(s)?s:W_;r!==null&&!IC(r,a)&&console.error(BY(`${r}`,"Progress"));const l=IC(r,a)?r:null,c=kp(l)?i(l,a):void 0;return u.jsx(LY,{scope:n,value:l,max:a,children:u.jsx(Le.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":kp(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":fD(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});uD.displayName=z_;var dD="ProgressIndicator",hD=x.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=FY(dD,n);return u.jsx(Le.div,{"data-state":fD(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});hD.displayName=dD;function UY(t,e){return`${Math.round(t/e*100)}%`}function fD(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function kp(t){return typeof t=="number"}function CC(t){return kp(t)&&!isNaN(t)&&t>0}function IC(t,e){return kp(t)&&!isNaN(t)&&t<=e&&t>=0}function $Y(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${W_}\`.`}function BY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${W_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var pD=uD,zY=hD;const ji=x.forwardRef(({className:t,value:e,indicatorClassName:n,...r},s)=>u.jsx(pD,{ref:s,className:Ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:u.jsx(zY,{className:Ae("h-full w-full flex-1 bg-primary transition-all",n),style:{transform:`translateX(-${100-(e||0)}%)`}})}));ji.displayName=pD.displayName;var Oy="focusScope.autoFocusOnMount",My="focusScope.autoFocusOnUnmount",AC={bubbles:!1,cancelable:!0},WY="FocusScope",H_=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=x.useState(null),c=Un(s),h=Un(i),f=x.useRef(null),p=ct(e,v=>l(v)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let v=function(E){if(m.paused||!a)return;const A=E.target;a.contains(A)?f.current=A:hi(f.current,{select:!0})},_=function(E){if(m.paused||!a)return;const A=E.relatedTarget;A!==null&&(a.contains(A)||hi(f.current,{select:!0}))},b=function(E){if(document.activeElement===document.body)for(const R of E)R.removedNodes.length>0&&hi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const y=new MutationObserver(b);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),y.disconnect()}}},[r,a,m.paused]),x.useEffect(()=>{if(a){PC.add(m);const v=document.activeElement;if(!a.contains(v)){const b=new CustomEvent(Oy,AC);a.addEventListener(Oy,c),a.dispatchEvent(b),b.defaultPrevented||(HY(YY(mD(a)),{select:!0}),document.activeElement===v&&hi(a))}return()=>{a.removeEventListener(Oy,c),setTimeout(()=>{const b=new CustomEvent(My,AC);a.addEventListener(My,h),a.dispatchEvent(b),b.defaultPrevented||hi(v??document.body,{select:!0}),a.removeEventListener(My,h),PC.remove(m)},0)}}},[a,c,h,m]);const w=x.useCallback(v=>{if(!n&&!r||m.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(_&&b){const y=v.currentTarget,[E,A]=qY(y);E&&A?!v.shiftKey&&b===A?(v.preventDefault(),n&&hi(E,{select:!0})):v.shiftKey&&b===E&&(v.preventDefault(),n&&hi(A,{select:!0})):b===y&&v.preventDefault()}},[n,r,m.paused]);return u.jsx(Le.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});H_.displayName=WY;function HY(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(hi(r,{select:e}),document.activeElement!==n)return}function qY(t){const e=mD(t),n=kC(e,t),r=kC(e.reverse(),t);return[n,r]}function mD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kC(t,e){for(const n of t)if(!KY(n,{upTo:e}))return n}function KY(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function GY(t){return t instanceof HTMLInputElement&&"select"in t}function hi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&GY(t)&&e&&t.select()}}var PC=QY();function QY(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=RC(t,e),t.unshift(e)},remove(e){var n;t=RC(t,e),(n=t[0])==null||n.resume()}}}function RC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function YY(t){return t.filter(e=>e.tagName!=="A")}var Vy=0;function gD(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??NC()),document.body.insertAdjacentElement("beforeend",t[1]??NC()),Vy++,()=>{Vy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Vy--}},[])}function NC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var wf="right-scroll-bar-position",_f="width-before-scroll-bar",XY="with-scroll-bars-hidden",ZY="--removed-body-scroll-bar-size";function Ly(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function JY(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var eX=typeof window<"u"?x.useLayoutEffect:x.useEffect,jC=new WeakMap;function tX(t,e){var n=JY(null,function(r){return t.forEach(function(s){return Ly(s,r)})});return eX(function(){var r=jC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Ly(a,null)}),i.forEach(function(a){s.has(a)||Ly(a,o)})}jC.set(n,t)},[t]),n}function nX(t){return t}function rX(t,e){e===void 0&&(e=nX);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function sX(t){t===void 0&&(t={});var e=rX(null);return e.options=Zr({async:!0,ssr:!1},t),e}var yD=function(t){var e=t.sideCar,n=Ad(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Zr({},n))};yD.isSideCarExport=!0;function iX(t,e){return t.useMedium(e),yD}var vD=sX(),Fy=function(){},tg=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:Fy,onWheelCapture:Fy,onTouchMoveCapture:Fy}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,m=t.noIsolation,w=t.inert,v=t.allowPinchZoom,_=t.as,b=_===void 0?"div":_,y=t.gapMode,E=Ad(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,R=tX([n,e]),O=Zr(Zr({},E),s);return x.createElement(x.Fragment,null,h&&x.createElement(A,{sideCar:vD,removeScrollBar:c,shards:f,noIsolation:m,inert:w,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:y}),o?x.cloneElement(x.Children.only(a),Zr(Zr({},O),{ref:R})):x.createElement(b,Zr({},O,{className:l,ref:R}),a))});tg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tg.classNames={fullWidth:_f,zeroRight:wf};var oX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aX(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=oX();return e&&t.setAttribute("nonce",e),t}function lX(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function cX(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var uX=function(){var t=0,e=null;return{add:function(n){t==0&&(e=aX())&&(lX(e,n),cX(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},dX=function(){var t=uX();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},xD=function(){var t=dX(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},hX={left:0,top:0,right:0,gap:0},Uy=function(t){return parseInt(t||"",10)||0},fX=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Uy(n),Uy(r),Uy(s)]},pX=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return hX;var e=fX(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},mX=xD(),xl="data-scroll-locked",gX=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(XY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(xl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_f,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wf," .").concat(wf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_f," .").concat(_f,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xl,`] {
    `).concat(ZY,": ").concat(a,`px;
  }
`)},DC=function(){var t=parseInt(document.body.getAttribute(xl)||"0",10);return isFinite(t)?t:0},yX=function(){x.useEffect(function(){return document.body.setAttribute(xl,(DC()+1).toString()),function(){var t=DC()-1;t<=0?document.body.removeAttribute(xl):document.body.setAttribute(xl,t.toString())}},[])},vX=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;yX();var i=x.useMemo(function(){return pX(s)},[s]);return x.createElement(mX,{styles:gX(i,!e,s,n?"":"!important")})},K0=!1;if(typeof window<"u")try{var Uh=Object.defineProperty({},"passive",{get:function(){return K0=!0,!0}});window.addEventListener("test",Uh,Uh),window.removeEventListener("test",Uh,Uh)}catch{K0=!1}var Oa=K0?{passive:!1}:!1,xX=function(t){return t.tagName==="TEXTAREA"},wD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!xX(t)&&n[e]==="visible")},wX=function(t){return wD(t,"overflowY")},_X=function(t){return wD(t,"overflowX")},OC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=_D(t,r);if(s){var i=bD(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},bX=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},EX=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},_D=function(t,e){return t==="v"?wX(e):_X(e)},bD=function(t,e){return t==="v"?bX(e):EX(e)},TX=function(t,e){return t==="h"&&e==="rtl"?-1:1},SX=function(t,e,n,r,s){var i=TX(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,h=o>0,f=0,p=0;do{var m=bD(t,a),w=m[0],v=m[1],_=m[2],b=v-_-i*w;(w||b)&&_D(t,a)&&(f+=b,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(p)<1||!s))&&(c=!0),c},$h=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},MC=function(t){return[t.deltaX,t.deltaY]},VC=function(t){return t&&"current"in t?t.current:t},CX=function(t,e){return t[0]===e[0]&&t[1]===e[1]},IX=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},AX=0,Ma=[];function kX(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(AX++)[0],i=x.useState(xD)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=J9([t.lockRef.current],(t.shards||[]).map(VC),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var b=$h(v),y=n.current,E="deltaX"in v?v.deltaX:y[0]-b[0],A="deltaY"in v?v.deltaY:y[1]-b[1],R,O=v.target,C=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in v&&C==="h"&&O.type==="range")return!1;var S=OC(C,O);if(!S)return!0;if(S?R=C:(R=C==="v"?"h":"v",S=OC(C,O)),!S)return!1;if(!r.current&&"changedTouches"in v&&(E||A)&&(r.current=R),!R)return!0;var I=r.current||R;return SX(I,_,v,I==="h"?E:A,!0)},[]),l=x.useCallback(function(v){var _=v;if(!(!Ma.length||Ma[Ma.length-1]!==i)){var b="deltaY"in _?MC(_):$h(_),y=e.current.filter(function(R){return R.name===_.type&&(R.target===_.target||_.target===R.shadowParent)&&CX(R.delta,b)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var E=(o.current.shards||[]).map(VC).filter(Boolean).filter(function(R){return R.contains(_.target)}),A=E.length>0?a(_,E[0]):!o.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),c=x.useCallback(function(v,_,b,y){var E={name:v,delta:_,target:b,should:y,shadowParent:PX(b)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),h=x.useCallback(function(v){n.current=$h(v),r.current=void 0},[]),f=x.useCallback(function(v){c(v.type,MC(v),v.target,a(v,t.lockRef.current))},[]),p=x.useCallback(function(v){c(v.type,$h(v),v.target,a(v,t.lockRef.current))},[]);x.useEffect(function(){return Ma.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Oa),document.addEventListener("touchmove",l,Oa),document.addEventListener("touchstart",h,Oa),function(){Ma=Ma.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Oa),document.removeEventListener("touchmove",l,Oa),document.removeEventListener("touchstart",h,Oa)}},[]);var m=t.removeScrollBar,w=t.inert;return x.createElement(x.Fragment,null,w?x.createElement(i,{styles:IX(s)}):null,m?x.createElement(vX,{gapMode:t.gapMode}):null)}function PX(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const RX=iX(vD,kX);var q_=x.forwardRef(function(t,e){return x.createElement(tg,Zr({},t,{ref:e,sideCar:RX}))});q_.classNames=tg.classNames;var NX=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Va=new WeakMap,Bh=new WeakMap,zh={},$y=0,ED=function(t){return t&&(t.host||ED(t.parentNode))},jX=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ED(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},DX=function(t,e,n,r){var s=jX(e,Array.isArray(t)?t:[t]);zh[n]||(zh[n]=new WeakMap);var i=zh[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var m=p.getAttribute(r),w=m!==null&&m!=="false",v=(Va.get(p)||0)+1,_=(i.get(p)||0)+1;Va.set(p,v),i.set(p,_),o.push(p),v===1&&w&&Bh.set(p,!0),_===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(e),a.clear(),$y++,function(){o.forEach(function(f){var p=Va.get(f)-1,m=i.get(f)-1;Va.set(f,p),i.set(f,m),p||(Bh.has(f)||f.removeAttribute(r),Bh.delete(f)),m||f.removeAttribute(n)}),$y--,$y||(Va=new WeakMap,Va=new WeakMap,Bh=new WeakMap,zh={})}},TD=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=NX(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),DX(r,s,n,"aria-hidden")):function(){return null}},K_="Dialog",[SD,fee]=_d(K_),[OX,$r]=SD(K_),CD=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=x.useRef(null),l=x.useRef(null),[c=!1,h]=sa({prop:r,defaultProp:s,onChange:i});return u.jsx(OX,{scope:e,triggerRef:a,contentRef:l,contentId:Ds(),titleId:Ds(),descriptionId:Ds(),open:c,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};CD.displayName=K_;var ID="DialogTrigger",AD=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$r(ID,n),i=ct(e,s.triggerRef);return u.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Y_(s.open),...r,ref:i,onClick:ve(t.onClick,s.onOpenToggle)})});AD.displayName=ID;var G_="DialogPortal",[MX,kD]=SD(G_,{forceMount:void 0}),PD=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=$r(G_,e);return u.jsx(MX,{scope:e,forceMount:n,children:x.Children.map(r,o=>u.jsx(wa,{present:n||i.open,children:u.jsx(pm,{asChild:!0,container:s,children:o})}))})};PD.displayName=G_;var Pp="DialogOverlay",RD=x.forwardRef((t,e)=>{const n=kD(Pp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=$r(Pp,t.__scopeDialog);return i.modal?u.jsx(wa,{present:r||i.open,children:u.jsx(VX,{...s,ref:e})}):null});RD.displayName=Pp;var VX=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$r(Pp,n);return u.jsx(q_,{as:Yi,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Le.div,{"data-state":Y_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),fa="DialogContent",ND=x.forwardRef((t,e)=>{const n=kD(fa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=$r(fa,t.__scopeDialog);return u.jsx(wa,{present:r||i.open,children:i.modal?u.jsx(LX,{...s,ref:e}):u.jsx(FX,{...s,ref:e})})});ND.displayName=fa;var LX=x.forwardRef((t,e)=>{const n=$r(fa,t.__scopeDialog),r=x.useRef(null),s=ct(e,n.contentRef,r);return x.useEffect(()=>{const i=r.current;if(i)return TD(i)},[]),u.jsx(jD,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ve(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ve(t.onFocusOutside,i=>i.preventDefault())})}),FX=x.forwardRef((t,e)=>{const n=$r(fa,t.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return u.jsx(jD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),jD=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=$r(fa,n),l=x.useRef(null),c=ct(e,l);return gD(),u.jsxs(u.Fragment,{children:[u.jsx(H_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(bd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Y_(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(UX,{titleId:a.titleId}),u.jsx(BX,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Q_="DialogTitle",DD=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$r(Q_,n);return u.jsx(Le.h2,{id:s.titleId,...r,ref:e})});DD.displayName=Q_;var OD="DialogDescription",MD=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$r(OD,n);return u.jsx(Le.p,{id:s.descriptionId,...r,ref:e})});MD.displayName=OD;var VD="DialogClose",LD=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$r(VD,n);return u.jsx(Le.button,{type:"button",...r,ref:e,onClick:ve(t.onClick,()=>s.onOpenChange(!1))})});LD.displayName=VD;function Y_(t){return t?"open":"closed"}var FD="DialogTitleWarning",[pee,UD]=LF(FD,{contentName:fa,titleName:Q_,docsSlug:"dialog"}),UX=({titleId:t})=>{const e=UD(FD),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},$X="DialogDescriptionWarning",BX=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UD($X).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},$D=CD,zX=AD,BD=PD,ng=RD,rg=ND,sg=DD,ig=MD,X_=LD;const WX=$D,HX=zX,qX=BD,zD=x.forwardRef(({className:t,...e},n)=>u.jsx(ng,{className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));zD.displayName=ng.displayName;const KX=Td("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),WD=x.forwardRef(({side:t="right",className:e,children:n,...r},s)=>u.jsxs(qX,{children:[u.jsx(zD,{}),u.jsxs(rg,{ref:s,className:Ae(KX({side:t}),e),...r,children:[n,u.jsxs(X_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(ic,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));WD.displayName=rg.displayName;const GX=x.forwardRef(({className:t,...e},n)=>u.jsx(sg,{ref:n,className:Ae("text-lg font-semibold text-foreground",t),...e}));GX.displayName=sg.displayName;const QX=x.forwardRef(({className:t,...e},n)=>u.jsx(ig,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));QX.displayName=ig.displayName;const Aa=()=>{const[t,e]=x.useState(!1),{user:n,logout:r}=Ur(),s=po(),{toast:i}=zn(),o=()=>{r(),i({title:"Logged Out",description:"You have been securely logged out."}),s("/")};return u.jsx("header",{className:"fixed top-0 left-0 w-full z-50 bg-trust-chain-dark/80 backdrop-blur-md border-b border-white/10",children:u.jsxs("div",{className:"container mx-auto flex items-center justify-between py-4 px-4",children:[u.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:u.jsxs(Ut,{to:n?n.isAdmin?"/admin":"/dashboard":"/",className:"flex items-center gap-2 text-white",children:[u.jsx(Ws,{className:"h-7 w-7 text-trust-chain-blue"}),u.jsxs("span",{className:"text-xl font-bold",children:["Trust",u.jsx("span",{className:"text-trust-chain-blue",children:"Chain"})]})]})}),n&&u.jsx(at.nav,{className:"hidden md:flex items-center gap-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-white/5 px-3 py-1.5 rounded-full",children:[u.jsx("span",{className:"h-2 w-2 rounded-full bg-safespeak-green"}),u.jsx("span",{className:"text-sm",children:n.pseudonym})]}),u.jsxs(Ie,{variant:"outline",size:"sm",className:"flex items-center gap-1.5",onClick:o,children:[u.jsx(qv,{className:"h-3.5 w-3.5"}),u.jsx("span",{children:"Logout"})]})]})}),n&&u.jsxs(WX,{open:t,onOpenChange:e,children:[u.jsx(HX,{asChild:!0,className:"md:hidden",children:u.jsxs(Ie,{variant:"ghost",size:"icon",children:[u.jsx(L4,{className:"h-6 w-6"}),u.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),u.jsx(WD,{side:"right",className:"bg-safespeak-dark-accent border-l border-white/10",children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center justify-between py-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ws,{className:"h-6 w-6 text-safespeak-blue"}),u.jsx("span",{className:"font-semibold",children:"SafeSpeak"})]}),u.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>e(!1),children:u.jsx(ic,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"py-4",children:[u.jsxs("div",{className:"px-3 py-2 bg-white/5 rounded-lg flex items-center gap-2 mb-6",children:[u.jsx("span",{className:"h-2 w-2 rounded-full bg-safespeak-green"}),u.jsxs("span",{className:"text-sm",children:["Logged in as: ",n.pseudonym]})]}),u.jsx("nav",{className:"flex flex-col gap-1"})]}),u.jsx("div",{className:"mt-auto pt-6 border-t border-white/10",children:u.jsxs(Ie,{variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:()=>{e(!1),o()},children:[u.jsx(qv,{className:"h-4 w-4"}),u.jsx("span",{children:"Logout"})]})})]})})]})]})})},Wh=({title:t,value:e,icon:n,trend:r})=>u.jsxs(at.div,{className:"stat-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{translateY:-5},children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(n,{className:"h-6 w-6 text-white/70"}),r&&u.jsxs("div",{className:`flex items-center ${r.isPositive?"text-safespeak-green":"text-red-400"}`,children:[r.isPositive?u.jsx(C4,{className:"h-3 w-3 mr-1"}):u.jsx(T4,{className:"h-3 w-3 mr-1"}),u.jsxs("span",{className:"text-xs font-medium",children:[r.value,"%"]})]})]}),u.jsx("h3",{className:"text-3xl font-bold mt-2",children:e}),u.jsx("p",{className:"text-white/70 text-sm",children:t})]}),YX=()=>{const{user:t}=Ur(),[e,n]=x.useState([]),[r,s]=x.useState({totalReports:0,solvedCases:0,underInvestigation:0,criticalCases:0});return x.useEffect(()=>{const i=localStorage.getItem("userReports"),o=i?JSON.parse(i):[];n(o);const a={totalReports:o.length,solvedCases:o.filter(l=>l.status==="resolved").length,underInvestigation:o.filter(l=>l.status==="under-investigation").length,criticalCases:o.filter(l=>l.priority==="urgent"||l.priority==="high").length};s(a)},[t]),u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark",children:[u.jsx(Aa,{}),u.jsx("main",{className:"flex-1 pt-20 pb-12",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Welcome, ",t==null?void 0:t.pseudonym]}),u.jsx("p",{className:"text-white/70",children:"Your anonymous dashboard for crime reporting and tracking."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[u.jsx(Wh,{title:"Total Reports",value:r.totalReports.toString(),icon:Wv,trend:r.totalReports>0?{value:r.totalReports,isPositive:!0}:void 0}),u.jsx(Wh,{title:"Cases Solved",value:r.solvedCases.toString(),icon:Ll,trend:r.solvedCases>0?{value:r.solvedCases,isPositive:!0}:void 0}),u.jsx(Wh,{title:"Under Investigation",value:r.underInvestigation.toString(),icon:Xi,trend:void 0}),u.jsx(Wh,{title:"Critical Cases",value:r.criticalCases.toString(),icon:Kv,trend:void 0})]}),u.jsxs(at.div,{className:"glass-card rounded-2xl p-6 mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Case Resolution Progress"}),e.length>0&&u.jsxs(Ie,{variant:"outline",size:"sm",className:"text-xs",children:[u.jsx(uw,{className:"h-4 w-4 mr-1"})," View Detailed Stats"]})]}),e.length>0?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("div",{className:"text-sm font-medium",children:"Cases Solved"}),u.jsxs("div",{className:"text-sm text-white/70",children:[r.totalReports>0?Math.round(r.solvedCases/r.totalReports*100):0,"%"]})]}),u.jsx(ji,{value:r.totalReports>0?Math.round(r.solvedCases/r.totalReports*100):0,className:"h-2 bg-white/10"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("div",{className:"text-sm font-medium",children:"Under Investigation"}),u.jsxs("div",{className:"text-sm text-white/70",children:[r.totalReports>0?Math.round(r.underInvestigation/r.totalReports*100):0,"%"]})]}),u.jsx(ji,{value:r.totalReports>0?Math.round(r.underInvestigation/r.totalReports*100):0,className:"h-2 bg-white/10"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("div",{className:"text-sm font-medium",children:"Critical Cases"}),u.jsxs("div",{className:"text-sm text-white/70",children:[r.totalReports>0?Math.round(r.criticalCases/r.totalReports*100):0,"%"]})]}),u.jsx(ji,{value:r.totalReports>0?Math.round(r.criticalCases/r.totalReports*100):0,className:"h-2 bg-white/10"})]})]}):u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-white/50",children:"No reports submitted yet. Submit your first report to see statistics."})})]}),u.jsxs(at.div,{className:"glass-card rounded-2xl p-6 mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Submitted Reports"}),e.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-white/60 border-b border-white/10",children:[u.jsx("th",{className:"p-4 font-medium text-sm",children:"Report ID"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Type"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Date"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Status"}),u.jsx("th",{className:"p-4 font-medium text-sm text-right",children:"Actions"})]})}),u.jsx("tbody",{children:e.map(i=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"p-4 font-mono text-sm",children:i.id}),u.jsx("td",{className:"p-4",children:i.crimeType}),u.jsx("td",{className:"p-4 text-sm text-white/70",children:i.date}),u.jsx("td",{className:"p-4",children:u.jsx("span",{className:`px-2 py-1 text-xs rounded ${i.status==="resolved"?"bg-safespeak-green/20 text-safespeak-green":i.status==="under-investigation"?"bg-safespeak-blue/20 text-safespeak-blue":"bg-amber-500/20 text-amber-500"}`,children:i.status==="resolved"?"Resolved":i.status==="under-investigation"?"Under Investigation":"Pending"})}),u.jsx("td",{className:"p-4 text-right",children:u.jsx(Ut,{to:`/track/${i.id}`,children:u.jsx(Ie,{size:"sm",variant:"outline",className:"text-xs",children:"View Details"})})})]},i.id))})]})}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-white/50",children:"You haven't submitted any reports yet."}),u.jsx(Ut,{to:"/report",children:u.jsx(Ie,{className:"mt-4",children:"Submit Your First Report"})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs(at.div,{className:"glass-card rounded-2xl p-6 text-center flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{y:-5,transition:{duration:.2}},children:[u.jsx("div",{className:"bg-safespeak-blue/15 p-4 rounded-full mb-4",children:u.jsx(Wv,{className:"h-8 w-8 text-safespeak-blue"})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Report a Crime"}),u.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Submit a new anonymous crime report securely."}),u.jsx(Ut,{to:"/report",className:"btn-primary w-full",children:"Report Now"})]}),u.jsxs(at.div,{className:"glass-card rounded-2xl p-6 text-center flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},whileHover:{y:-5,transition:{duration:.2}},children:[u.jsx("div",{className:"bg-safespeak-green/15 p-4 rounded-full mb-4",children:u.jsx(Xi,{className:"h-8 w-8 text-safespeak-green"})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Track a Report"}),u.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Check the status of your previously submitted report."}),u.jsx(Ut,{to:"/track",className:"btn-secondary w-full",children:"Track Report"})]}),u.jsxs(at.div,{className:"glass-card rounded-2xl p-6 text-center flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},whileHover:{y:-5,transition:{duration:.2}},children:[u.jsx("div",{className:"bg-purple-500/15 p-4 rounded-full mb-4",children:u.jsx(Kv,{className:"h-8 w-8 text-purple-500"})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Give Feedback"}),u.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Share your experience with SafeSpeak."}),u.jsx(Ut,{to:"/feedback",className:"btn-ghost w-full",children:"Provide Feedback"})]})]})]})}),u.jsx(ps,{})]})},Yt=x.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base text-white ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-white placeholder:text-white/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Yt.displayName="Input";function LC(t,[e,n]){return Math.min(n,Math.max(e,t))}var XX=x.createContext(void 0);function Z_(t){const e=x.useContext(XX);return t||e||"ltr"}function ZX(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var JX=[" ","Enter","ArrowUp","ArrowDown"],eZ=[" ","Enter"],Wd="Select",[og,ag,tZ]=ow(Wd),[vc,mee]=_d(Wd,[tZ,_m]),lg=_m(),[nZ,vo]=vc(Wd),[rZ,sZ]=vc(Wd),HD=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:h,autoComplete:f,disabled:p,required:m,form:w}=t,v=lg(e),[_,b]=x.useState(null),[y,E]=x.useState(null),[A,R]=x.useState(!1),O=Z_(c),[C=!1,S]=sa({prop:r,defaultProp:s,onChange:i}),[I,N]=sa({prop:o,defaultProp:a,onChange:l}),D=x.useRef(null),j=_?w||!!_.closest("form"):!0,[P,B]=x.useState(new Set),re=Array.from(P).map(K=>K.props.value).join(";");return u.jsx(RP,{...v,children:u.jsxs(nZ,{required:m,scope:e,trigger:_,onTriggerChange:b,valueNode:y,onValueNodeChange:E,valueNodeHasChildren:A,onValueNodeHasChildrenChange:R,contentId:Ds(),value:I,onValueChange:N,open:C,onOpenChange:S,dir:O,triggerPointerDownPosRef:D,disabled:p,children:[u.jsx(og.Provider,{scope:e,children:u.jsx(rZ,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(K=>{B(se=>new Set(se).add(K))},[]),onNativeOptionRemove:x.useCallback(K=>{B(se=>{const F=new Set(se);return F.delete(K),F})},[]),children:n})}),j?u.jsxs(gO,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:I,onChange:K=>N(K.target.value),disabled:p,form:w,children:[I===void 0?u.jsx("option",{value:""}):null,Array.from(P)]},re):null]})})};HD.displayName=Wd;var qD="SelectTrigger",KD=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=lg(n),o=vo(qD,n),a=o.disabled||r,l=ct(e,o.onTriggerChange),c=ag(n),h=x.useRef("touch"),[f,p,m]=yO(v=>{const _=c().filter(E=>!E.disabled),b=_.find(E=>E.value===o.value),y=vO(_,v,b);y!==void 0&&o.onValueChange(y.value)}),w=v=>{a||(o.onOpenChange(!0),m()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(NP,{asChild:!0,...i,children:u.jsx(Le.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":mO(o.value)?"":void 0,...s,ref:l,onClick:ve(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&w(v)}),onPointerDown:ve(s.onPointerDown,v=>{h.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:ve(s.onKeyDown,v=>{const _=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(_&&v.key===" ")&&JX.includes(v.key)&&(w(),v.preventDefault())})})})});KD.displayName=qD;var GD="SelectValue",QD=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=vo(GD,n),{onValueNodeHasChildrenChange:c}=l,h=i!==void 0,f=ct(e,l.onValueNodeChange);return gn(()=>{c(h)},[c,h]),u.jsx(Le.span,{...a,ref:f,style:{pointerEvents:"none"},children:mO(l.value)?u.jsx(u.Fragment,{children:o}):i})});QD.displayName=GD;var iZ="SelectIcon",YD=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(Le.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});YD.displayName=iZ;var oZ="SelectPortal",XD=t=>u.jsx(pm,{asChild:!0,...t});XD.displayName=oZ;var pa="SelectContent",ZD=x.forwardRef((t,e)=>{const n=vo(pa,t.__scopeSelect),[r,s]=x.useState();if(gn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?xa.createPortal(u.jsx(JD,{scope:t.__scopeSelect,children:u.jsx(og.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(eO,{...t,ref:e})});ZD.displayName=pa;var Er=10,[JD,xo]=vc(pa),aZ="SelectContentImpl",eO=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:v,avoidCollisions:_,...b}=t,y=vo(pa,n),[E,A]=x.useState(null),[R,O]=x.useState(null),C=ct(e,de=>A(de)),[S,I]=x.useState(null),[N,D]=x.useState(null),j=ag(n),[P,B]=x.useState(!1),re=x.useRef(!1);x.useEffect(()=>{if(E)return TD(E)},[E]),gD();const K=x.useCallback(de=>{const[Ue,...Ze]=j().map(Oe=>Oe.ref.current),[ke]=Ze.slice(-1),Ee=document.activeElement;for(const Oe of de)if(Oe===Ee||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Ue&&R&&(R.scrollTop=0),Oe===ke&&R&&(R.scrollTop=R.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==Ee))return},[j,R]),se=x.useCallback(()=>K([S,E]),[K,S,E]);x.useEffect(()=>{P&&se()},[P,se]);const{onOpenChange:F,triggerPointerDownPosRef:H}=y;x.useEffect(()=>{if(E){let de={x:0,y:0};const Ue=ke=>{var Ee,Oe;de={x:Math.abs(Math.round(ke.pageX)-(((Ee=H.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((Oe=H.current)==null?void 0:Oe.y)??0))}},Ze=ke=>{de.x<=10&&de.y<=10?ke.preventDefault():E.contains(ke.target)||F(!1),document.removeEventListener("pointermove",Ue),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",Ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",Ze,{capture:!0})}}},[E,F,H]),x.useEffect(()=>{const de=()=>F(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[F]);const[oe,G]=yO(de=>{const Ue=j().filter(Ee=>!Ee.disabled),Ze=Ue.find(Ee=>Ee.ref.current===document.activeElement),ke=vO(Ue,de,Ze);ke&&setTimeout(()=>ke.ref.current.focus())}),ae=x.useCallback((de,Ue,Ze)=>{const ke=!re.current&&!Ze;(y.value!==void 0&&y.value===Ue||ke)&&(I(de),ke&&(re.current=!0))},[y.value]),pe=x.useCallback(()=>E==null?void 0:E.focus(),[E]),Be=x.useCallback((de,Ue,Ze)=>{const ke=!re.current&&!Ze;(y.value!==void 0&&y.value===Ue||ke)&&D(de)},[y.value]),tt=r==="popper"?G0:tO,be=tt===G0?{side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:v,avoidCollisions:_}:{};return u.jsx(JD,{scope:n,content:E,viewport:R,onViewportChange:O,itemRefCallback:ae,selectedItem:S,onItemLeave:pe,itemTextRefCallback:Be,focusSelectedItem:se,selectedItemText:N,position:r,isPositioned:P,searchRef:oe,children:u.jsx(q_,{as:Yi,allowPinchZoom:!0,children:u.jsx(H_,{asChild:!0,trapped:y.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:ve(s,de=>{var Ue;(Ue=y.trigger)==null||Ue.focus({preventScroll:!0}),de.preventDefault()}),children:u.jsx(bd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:u.jsx(tt,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:de=>de.preventDefault(),...b,...be,onPlaced:()=>B(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ve(b.onKeyDown,de=>{const Ue=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!Ue&&de.key.length===1&&G(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let ke=j().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(de.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const Ee=de.target,Oe=ke.indexOf(Ee);ke=ke.slice(Oe+1)}setTimeout(()=>K(ke)),de.preventDefault()}})})})})})})});eO.displayName=aZ;var lZ="SelectItemAlignedPosition",tO=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=vo(pa,n),o=xo(pa,n),[a,l]=x.useState(null),[c,h]=x.useState(null),f=ct(e,C=>h(C)),p=ag(n),m=x.useRef(!1),w=x.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:b,focusSelectedItem:y}=o,E=x.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&_&&b){const C=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),N=b.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=N.left-S.left,Oe=I.left-Ee,ut=C.left-Oe,jt=C.width+ut,Wn=Math.max(jt,S.width),tn=window.innerWidth-Er,Br=LC(Oe,[Er,Math.max(Er,tn-Wn)]);a.style.minWidth=jt+"px",a.style.left=Br+"px"}else{const Ee=S.right-N.right,Oe=window.innerWidth-I.right-Ee,ut=window.innerWidth-C.right-Oe,jt=C.width+ut,Wn=Math.max(jt,S.width),tn=window.innerWidth-Er,Br=LC(Oe,[Er,Math.max(Er,tn-Wn)]);a.style.minWidth=jt+"px",a.style.right=Br+"px"}const D=p(),j=window.innerHeight-Er*2,P=v.scrollHeight,B=window.getComputedStyle(c),re=parseInt(B.borderTopWidth,10),K=parseInt(B.paddingTop,10),se=parseInt(B.borderBottomWidth,10),F=parseInt(B.paddingBottom,10),H=re+K+P+F+se,oe=Math.min(_.offsetHeight*5,H),G=window.getComputedStyle(v),ae=parseInt(G.paddingTop,10),pe=parseInt(G.paddingBottom,10),Be=C.top+C.height/2-Er,tt=j-Be,be=_.offsetHeight/2,de=_.offsetTop+be,Ue=re+K+de,Ze=H-Ue;if(Ue<=Be){const Ee=D.length>0&&_===D[D.length-1].ref.current;a.style.bottom="0px";const Oe=c.clientHeight-v.offsetTop-v.offsetHeight,ut=Math.max(tt,be+(Ee?pe:0)+Oe+se),jt=Ue+ut;a.style.height=jt+"px"}else{const Ee=D.length>0&&_===D[0].ref.current;a.style.top="0px";const ut=Math.max(Be,re+v.offsetTop+(Ee?ae:0)+be)+Ze;a.style.height=ut+"px",v.scrollTop=Ue-Be+v.offsetTop}a.style.margin=`${Er}px 0`,a.style.minHeight=oe+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,a,c,v,_,b,i.dir,r]);gn(()=>E(),[E]);const[A,R]=x.useState();gn(()=>{c&&R(window.getComputedStyle(c).zIndex)},[c]);const O=x.useCallback(C=>{C&&w.current===!0&&(E(),y==null||y(),w.current=!1)},[E,y]);return u.jsx(uZ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:O,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:u.jsx(Le.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});tO.displayName=lZ;var cZ="SelectPopperPosition",G0=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Er,...i}=t,o=lg(n);return u.jsx(jP,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});G0.displayName=cZ;var[uZ,J_]=vc(pa,{}),Q0="SelectViewport",nO=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=xo(Q0,n),o=J_(Q0,n),a=ct(e,i.onViewportChange),l=x.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(og.Slot,{scope:n,children:u.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ve(s.onScroll,c=>{const h=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const m=Math.abs(l.current-h.scrollTop);if(m>0){const w=window.innerHeight-Er*2,v=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),b=Math.max(v,_);if(b<w){const y=b+m,E=Math.min(w,y),A=y-E;f.style.height=E+"px",f.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});nO.displayName=Q0;var rO="SelectGroup",[dZ,hZ]=vc(rO),fZ=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ds();return u.jsx(dZ,{scope:n,id:s,children:u.jsx(Le.div,{role:"group","aria-labelledby":s,...r,ref:e})})});fZ.displayName=rO;var sO="SelectLabel",iO=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=hZ(sO,n);return u.jsx(Le.div,{id:s.id,...r,ref:e})});iO.displayName=sO;var Rp="SelectItem",[pZ,oO]=vc(Rp),aO=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=vo(Rp,n),l=xo(Rp,n),c=a.value===r,[h,f]=x.useState(i??""),[p,m]=x.useState(!1),w=ct(e,y=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,y,r,s)}),v=Ds(),_=x.useRef("touch"),b=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(pZ,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:x.useCallback(y=>{f(E=>E||((y==null?void 0:y.textContent)??"").trim())},[]),children:u.jsx(og.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:u.jsx(Le.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:ve(o.onFocus,()=>m(!0)),onBlur:ve(o.onBlur,()=>m(!1)),onClick:ve(o.onClick,()=>{_.current!=="mouse"&&b()}),onPointerUp:ve(o.onPointerUp,()=>{_.current==="mouse"&&b()}),onPointerDown:ve(o.onPointerDown,y=>{_.current=y.pointerType}),onPointerMove:ve(o.onPointerMove,y=>{var E;_.current=y.pointerType,s?(E=l.onItemLeave)==null||E.call(l):_.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(o.onPointerLeave,y=>{var E;y.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:ve(o.onKeyDown,y=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(eZ.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});aO.displayName=Rp;var tu="SelectItemText",lO=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=vo(tu,n),a=xo(tu,n),l=oO(tu,n),c=sZ(tu,n),[h,f]=x.useState(null),p=ct(e,b=>f(b),l.onItemTextChange,b=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,b,l.value,l.disabled)}),m=h==null?void 0:h.textContent,w=x.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=c;return gn(()=>(v(w),()=>_(w)),[v,_,w]),u.jsxs(u.Fragment,{children:[u.jsx(Le.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?xa.createPortal(i.children,o.valueNode):null]})});lO.displayName=tu;var cO="SelectItemIndicator",uO=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return oO(cO,n).isSelected?u.jsx(Le.span,{"aria-hidden":!0,...r,ref:e}):null});uO.displayName=cO;var Y0="SelectScrollUpButton",dO=x.forwardRef((t,e)=>{const n=xo(Y0,t.__scopeSelect),r=J_(Y0,t.__scopeSelect),[s,i]=x.useState(!1),o=ct(e,r.onScrollButtonChange);return gn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(fO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});dO.displayName=Y0;var X0="SelectScrollDownButton",hO=x.forwardRef((t,e)=>{const n=xo(X0,t.__scopeSelect),r=J_(X0,t.__scopeSelect),[s,i]=x.useState(!1),o=ct(e,r.onScrollButtonChange);return gn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(fO,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});hO.displayName=X0;var fO=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=xo("SelectScrollButton",n),o=x.useRef(null),a=ag(n),l=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),gn(()=>{var h;const c=a().find(f=>f.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),u.jsx(Le.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ve(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ve(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ve(s.onPointerLeave,()=>{l()})})}),mZ="SelectSeparator",pO=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Le.div,{"aria-hidden":!0,...r,ref:e})});pO.displayName=mZ;var Z0="SelectArrow",gZ=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=lg(n),i=vo(Z0,n),o=xo(Z0,n);return i.open&&o.position==="popper"?u.jsx(DP,{...s,...r,ref:e}):null});gZ.displayName=Z0;function mO(t){return t===""||t===void 0}var gO=x.forwardRef((t,e)=>{const{value:n,...r}=t,s=x.useRef(null),i=ct(e,s),o=ZX(n);return x.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(f)}},[o,n]),u.jsx(Ed,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});gO.displayName="BubbleSelect";function yO(t){const e=Un(t),n=x.useRef(""),r=x.useRef(0),s=x.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function vO(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=yZ(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function yZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vZ=HD,xO=KD,xZ=QD,wZ=YD,_Z=XD,wO=ZD,bZ=nO,_O=iO,bO=aO,EZ=lO,TZ=uO,EO=dO,TO=hO,SO=pO;const J0=vZ,ex=xZ,Np=x.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(xO,{ref:r,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm text-white ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(wZ,{asChild:!0,children:u.jsx(dw,{className:"h-4 w-4 opacity-50"})})]}));Np.displayName=xO.displayName;const CO=x.forwardRef(({className:t,...e},n)=>u.jsx(EO,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Jk,{className:"h-4 w-4"})}));CO.displayName=EO.displayName;const IO=x.forwardRef(({className:t,...e},n)=>u.jsx(TO,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(dw,{className:"h-4 w-4"})}));IO.displayName=TO.displayName;const jp=x.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(_Z,{children:u.jsxs(wO,{ref:s,className:Ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-dropdown-background text-white shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(CO,{}),u.jsx(bZ,{className:Ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(IO,{})]})}));jp.displayName=wO.displayName;const SZ=x.forwardRef(({className:t,...e},n)=>u.jsx(_O,{ref:n,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold text-white",t),...e}));SZ.displayName=_O.displayName;const En=x.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(bO,{ref:r,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm text-white outline-none focus:bg-dropdown-hover focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(TZ,{children:u.jsx(A4,{className:"h-4 w-4"})})}),u.jsx(EZ,{children:e})]}));En.displayName=bO.displayName;const CZ=x.forwardRef(({className:t,...e},n)=>u.jsx(SO,{ref:n,className:Ae("-mx-1 my-1 h-px bg-white/20",t),...e}));CZ.displayName=SO.displayName;const AO=$D,IZ=BD,kO=X_,PO=x.forwardRef(({className:t,...e},n)=>u.jsx(ng,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));PO.displayName=ng.displayName;const eb=x.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(IZ,{children:[u.jsx(PO,{}),u.jsxs(rg,{ref:r,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(X_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(ic,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));eb.displayName=rg.displayName;const tb=({className:t,...e})=>u.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});tb.displayName="DialogHeader";const nb=({className:t,...e})=>u.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});nb.displayName="DialogFooter";const rb=x.forwardRef(({className:t,...e},n)=>u.jsx(sg,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",t),...e}));rb.displayName=sg.displayName;const AZ=x.forwardRef(({className:t,...e},n)=>u.jsx(ig,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));AZ.displayName=ig.displayName;function kZ(t,e=[]){let n=[];function r(i,o){const a=x.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:m,...w}=f,v=(p==null?void 0:p[t][l])||a,_=x.useMemo(()=>w,Object.values(w));return u.jsx(v.Provider,{value:_,children:m})}function h(f,p){const m=(p==null?void 0:p[t][l])||a,w=x.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,PZ(s,...e)]}function PZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var By="rovingFocusGroup.onEntryFocus",RZ={bubbles:!1,cancelable:!0},cg="RovingFocusGroup",[tx,RO,NZ]=ow(cg),[jZ,NO]=kZ(cg,[NZ]),[DZ,OZ]=jZ(cg),jO=x.forwardRef((t,e)=>u.jsx(tx.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(tx.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(MZ,{...t,ref:e})})}));jO.displayName=cg;var MZ=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...f}=t,p=x.useRef(null),m=ct(e,p),w=Z_(i),[v=null,_]=sa({prop:o,defaultProp:a,onChange:l}),[b,y]=x.useState(!1),E=Un(c),A=RO(n),R=x.useRef(!1),[O,C]=x.useState(0);return x.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(By,E),()=>S.removeEventListener(By,E)},[E]),u.jsx(DZ,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:x.useCallback(S=>_(S),[_]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:x.useCallback(()=>C(S=>S-1),[]),children:u.jsx(Le.div,{tabIndex:b||O===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:ve(t.onMouseDown,()=>{R.current=!0}),onFocus:ve(t.onFocus,S=>{const I=!R.current;if(S.target===S.currentTarget&&I&&!b){const N=new CustomEvent(By,RZ);if(S.currentTarget.dispatchEvent(N),!N.defaultPrevented){const D=A().filter(K=>K.focusable),j=D.find(K=>K.active),P=D.find(K=>K.id===v),re=[j,P,...D].filter(Boolean).map(K=>K.ref.current);MO(re,h)}}R.current=!1}),onBlur:ve(t.onBlur,()=>y(!1))})})}),DO="RovingFocusGroupItem",OO=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ds(),l=i||a,c=OZ(DO,n),h=c.currentTabStopId===l,f=RO(n),{onFocusableItemAdd:p,onFocusableItemRemove:m}=c;return x.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),u.jsx(tx.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:u.jsx(Le.span,{tabIndex:h?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ve(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:ve(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ve(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=FZ(w,c.orientation,c.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=f().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const y=b.indexOf(w.currentTarget);b=c.loop?UZ(b,y+1):b.slice(y+1)}setTimeout(()=>MO(b))}})})})});OO.displayName=DO;var VZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function LZ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function FZ(t,e,n){const r=LZ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return VZ[r]}function MO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function UZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var $Z=jO,BZ=OO,sb="Tabs",[zZ,gee]=_d(sb,[NO]),VO=NO(),[WZ,ib]=zZ(sb),LO=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,h=Z_(a),[f,p]=sa({prop:r,onChange:s,defaultProp:i});return u.jsx(WZ,{scope:n,baseId:Ds(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:l,children:u.jsx(Le.div,{dir:h,"data-orientation":o,...c,ref:e})})});LO.displayName=sb;var FO="TabsList",UO=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=ib(FO,n),o=VO(n);return u.jsx($Z,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(Le.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});UO.displayName=FO;var $O="TabsTrigger",BO=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=ib($O,n),a=VO(n),l=HO(o.baseId,r),c=qO(o.baseId,r),h=r===o.value;return u.jsx(BZ,{asChild:!0,...a,focusable:!s,active:h,children:u.jsx(Le.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ve(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ve(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ve(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});BO.displayName=$O;var zO="TabsContent",WO=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=ib(zO,n),l=HO(a.baseId,r),c=qO(a.baseId,r),h=r===a.value,f=x.useRef(h);return x.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(wa,{present:s||h,children:({present:p})=>u.jsx(Le.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});WO.displayName=zO;function HO(t,e){return`${t}-trigger-${e}`}function qO(t,e){return`${t}-content-${e}`}var HZ=LO,KO=UO,GO=BO,QO=WO;const YO=HZ,ob=x.forwardRef(({className:t,...e},n)=>u.jsx(KO,{ref:n,className:Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ob.displayName=KO.displayName;const Xo=x.forwardRef(({className:t,...e},n)=>u.jsx(GO,{ref:n,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Xo.displayName=GO.displayName;const Zo=x.forwardRef(({className:t,...e},n)=>u.jsx(QO,{ref:n,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Zo.displayName=QO.displayName;const ug=x.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-white ring-offset-background placeholder:text-white/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ug.displayName="Textarea";const qZ=({allReports:t=[]})=>{var R;const[e,n]=x.useState(t),[r,s]=x.useState(""),[i,o]=x.useState(null),[a,l]=x.useState(!1),[c,h]=x.useState("pending"),[f,p]=x.useState(""),{toast:m}=zn(),w=e.filter(O=>{var C,S,I,N;return((C=O.id)==null?void 0:C.toLowerCase().includes(r.toLowerCase()))||((S=O.crimeType)==null?void 0:S.toLowerCase().includes(r.toLowerCase()))||((I=O.description)==null?void 0:I.toLowerCase().includes(r.toLowerCase()))||((N=O.location)==null?void 0:N.toLowerCase().includes(r.toLowerCase()))}),v=O=>{switch(O){case"resolved":return u.jsx(Ll,{className:"h-4 w-4 text-safespeak-green"});case"under-investigation":return u.jsx(Xi,{className:"h-4 w-4 text-safespeak-blue"});case"pending":return u.jsx(Xi,{className:"h-4 w-4 text-amber-500"});case"closed":return u.jsx(ic,{className:"h-4 w-4 text-gray-400"});default:return null}},_=O=>{switch(O){case"resolved":return"Resolved";case"under-investigation":return"Under Investigation";case"pending":return"Pending Review";case"closed":return"Closed";default:return O}},b=O=>{switch(O){case"urgent":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-red-500/20 text-red-500",children:"Urgent"});case"high":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-amber-500/20 text-amber-500",children:"High"});case"medium":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-safespeak-blue/20 text-safespeak-blue",children:"Medium"});case"low":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-safespeak-green/20 text-safespeak-green",children:"Low"});default:return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:"Unknown"})}},y=O=>{switch(O){case"image":return u.jsx("div",{className:"w-8 h-8 bg-safespeak-blue/10 rounded flex items-center justify-center",children:u.jsx(vi,{className:"h-4 w-4 text-safespeak-blue"})});case"video":return u.jsx("div",{className:"w-8 h-8 bg-purple-500/10 rounded flex items-center justify-center",children:u.jsx(vi,{className:"h-4 w-4 text-purple-500"})});case"pdf":return u.jsx("div",{className:"w-8 h-8 bg-red-500/10 rounded flex items-center justify-center",children:u.jsx(vi,{className:"h-4 w-4 text-red-500"})});case"document":return u.jsx("div",{className:"w-8 h-8 bg-safespeak-green/10 rounded flex items-center justify-center",children:u.jsx(vi,{className:"h-4 w-4 text-safespeak-green"})});default:return u.jsx("div",{className:"w-8 h-8 bg-gray-500/10 rounded flex items-center justify-center",children:u.jsx(vi,{className:"h-4 w-4 text-gray-400"})})}},E=O=>{o(O)},A=()=>{if(!i)return;const O=e.map(C=>C.id===i.id?{...C,status:c}:C);n(O),localStorage.setItem("userReports",JSON.stringify(O)),o(C=>C?{...C,status:c}:null),l(!1),m({title:"Status Updated",description:`Case ${i.id} has been updated to "${_(c)}"`}),p("")};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[u.jsx(Ws,{className:"h-5 w-5 text-safespeak-blue"}),u.jsx("span",{children:"Case Management"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(fw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white/40"}),u.jsx(Yt,{placeholder:"Search cases...",className:"pl-10 bg-safespeak-dark-accent border-white/10 w-64",value:r,onChange:O=>s(O.target.value)})]}),u.jsx(n0,{children:u.jsxs(jT,{children:[u.jsx(DT,{asChild:!0,children:u.jsx(Ie,{variant:"outline",size:"icon",children:u.jsx(D4,{className:"h-4 w-4"})})}),u.jsx(r0,{children:u.jsx("p",{children:"Filter Cases"})})]})}),u.jsx(n0,{children:u.jsxs(jT,{children:[u.jsx(DT,{asChild:!0,children:u.jsx(Ie,{variant:"outline",size:"icon",children:u.jsx(wT,{className:"h-4 w-4"})})}),u.jsx(r0,{children:u.jsx("p",{children:"Export Cases"})})]})})]})]}),u.jsx("div",{className:"glass-card rounded-xl overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-white/60 border-b border-white/10",children:[u.jsx("th",{className:"p-4 font-medium text-sm",children:"Report ID"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Type"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Location"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Date"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Priority"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Status"}),u.jsx("th",{className:"p-4 font-medium text-sm text-right",children:"Actions"})]})}),u.jsx("tbody",{children:w.length>0?w.map(O=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"p-4 font-mono text-sm",children:O.id}),u.jsx("td",{className:"p-4",children:O.crimeType}),u.jsx("td",{className:"p-4",children:O.location}),u.jsx("td",{className:"p-4 text-sm text-white/70",children:O.date}),u.jsx("td",{className:"p-4",children:b(O.priority)}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-1.5",children:[v(O.status),u.jsx("span",{className:"text-sm",children:_(O.status)})]})}),u.jsx("td",{className:"p-4 text-right",children:u.jsxs(Ie,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>E(O),children:[u.jsx(mu,{className:"h-3.5 w-3.5 mr-1"}),"View Details"]})})]},O.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"p-8 text-center text-white/60",children:r?"No reports found matching your search.":"No reports have been submitted yet."})})})]})})}),i&&u.jsx(AO,{open:!!i,onOpenChange:O=>!O&&o(null),children:u.jsxs(eb,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsx(tb,{children:u.jsxs(rb,{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-mono text-sm bg-safespeak-dark-accent px-2 py-1 rounded",children:i.id}),u.jsxs("span",{className:"text-lg",children:[i.crimeType," Report"]}),b(i.priority)]})}),u.jsxs(YO,{defaultValue:"details",className:"mt-4",children:[u.jsxs(ob,{className:"grid grid-cols-3 mb-4",children:[u.jsx(Xo,{value:"details",children:"Case Details"}),u.jsx(Xo,{value:"evidence",children:"Evidence"}),u.jsx(Xo,{value:"status",children:"Status Update"})]}),u.jsxs(Zo,{value:"details",className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Date Reported"}),u.jsx("p",{children:i.date})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Location"}),u.jsx("p",{children:i.location})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Current Status"}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[v(i.status),u.jsx("span",{children:_(i.status)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Reported By"}),u.jsx("p",{children:((R=i.userDetails)==null?void 0:R.pseudonym)||"Anonymous Report"})]})]}),u.jsxs("div",{className:"space-y-2 pt-4 border-t border-white/10",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Description"}),u.jsx("p",{className:"bg-safespeak-dark-accent/50 p-4 rounded-md text-white/90",children:i.description})]})]}),u.jsx(Zo,{value:"evidence",className:"space-y-4",children:i.evidence&&i.evidence.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.evidence.map(O=>u.jsxs("div",{className:"flex items-center gap-3 bg-safespeak-dark-accent/30 p-3 rounded-lg",children:[y(O.type),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium truncate",children:O.filename}),u.jsx("p",{className:"text-xs text-white/60",children:O.size})]}),u.jsxs(Ie,{variant:"outline",size:"sm",children:[u.jsx(wT,{className:"h-3.5 w-3.5 mr-1.5"}),"Download"]})]},O.id))}):u.jsxs("div",{className:"text-center py-8 text-white/60",children:[u.jsx(Fl,{className:"h-8 w-8 mx-auto mb-2 text-amber-500"}),u.jsx("p",{children:"No evidence files were submitted with this report."})]})}),u.jsxs(Zo,{value:"status",className:"space-y-4",children:[u.jsxs("div",{className:"bg-safespeak-dark-accent/30 p-4 rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-4",children:"Update Case Status"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm text-white/70",children:"Current Status"}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-safespeak-dark p-2 rounded",children:[v(i.status),u.jsx("span",{children:_(i.status)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm text-white/70",children:"New Status"}),u.jsxs(J0,{onValueChange:O=>h(O),defaultValue:i.status,children:[u.jsx(Np,{children:u.jsx(ex,{placeholder:"Select new status"})}),u.jsxs(jp,{children:[u.jsx(En,{value:"pending",children:"Pending Review"}),u.jsx(En,{value:"under-investigation",children:"Under Investigation"}),u.jsx(En,{value:"resolved",children:"Case Resolved"}),u.jsx(En,{value:"closed",children:"Closed"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm text-white/70",children:"Status Update Note (Internal)"}),u.jsx(ug,{placeholder:"Add notes about this status update...",value:f,onChange:O=>p(O.target.value)})]}),u.jsx(Ie,{className:"w-full",onClick:A,children:"Update Status"})]})]}),u.jsxs("div",{className:"bg-safespeak-dark-accent/30 p-4 rounded-lg",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h3",{className:"font-medium",children:"Status History"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"border-l-2 border-safespeak-blue pl-4 py-2",children:[u.jsx("p",{className:"text-xs text-white/60",children:new Date().toISOString().split("T")[0]}),u.jsxs("p",{className:"font-medium",children:["Case status changed to: ",_(i.status)]}),u.jsx("p",{className:"text-sm text-white/70",children:"Initial review complete."})]}),u.jsxs("div",{className:"border-l-2 border-safespeak-blue pl-4 py-2",children:[u.jsx("p",{className:"text-xs text-white/60",children:i.date}),u.jsx("p",{className:"font-medium",children:"Case Opened"}),u.jsx("p",{className:"text-sm text-white/70",children:"Report received and case created."})]})]})]})]})]}),u.jsx(nb,{children:u.jsx(kO,{asChild:!0,children:u.jsx(Ie,{variant:"outline",children:"Close"})})})]})})]})},KZ=()=>{const[t,e]=x.useState([]),[n,r]=x.useState(""),[s,i]=x.useState("all"),[o,a]=x.useState("all"),[l,c]=x.useState(null),{toast:h}=zn();x.useEffect(()=>{(async()=>{try{const b=Gl(Yl,"feedback"),E=(await xp(b)).docs.map(A=>({id:A.id,...A.data()}));e(E)}catch(b){console.error("Error fetching feedback:",b),h({title:"Error",description:"Failed to fetch feedback from the database.",variant:"destructive"})}})()},[]);const f=t.filter(_=>{const b=_.description.toLowerCase().includes(n.toLowerCase())||_.id.toLowerCase().includes(n.toLowerCase())||_.reportId&&_.reportId.toLowerCase().includes(n.toLowerCase()),y=s==="all"||_.type===s,E=o==="all"||_.status===o;return b&&y&&E}),p=_=>{switch(_){case"investigation":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-safespeak-blue/20 text-safespeak-blue",children:"Investigation"});case"admin":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-purple-500/20 text-purple-500",children:"Admin Behavior"});case"resolution":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-safespeak-green/20 text-safespeak-green",children:"Case Resolution"});case"other":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:"Other"});default:return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:"Unknown"})}},m=_=>{switch(_){case"unread":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-amber-500/20 text-amber-500",children:"Unread"});case"read":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-safespeak-blue/20 text-safespeak-blue",children:"Read"});case"flagged":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-red-500/20 text-red-500",children:"Flagged"});case"resolved":return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-safespeak-green/20 text-safespeak-green",children:"Resolved"});default:return u.jsx("span",{className:"px-2 py-1 text-xs rounded bg-gray-500/20 text-gray-400",children:"Unknown"})}},w=_=>{if(_.status==="unread"){const b=t.map(y=>y.id===_.id?{...y,status:"read"}:y);e(b)}c(_)},v=_=>{if(!l)return;const b=t.map(y=>y.id===l.id?{...y,status:_}:y);e(b),c(y=>y?{...y,status:_}:null)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[u.jsx(hw,{className:"h-5 w-5 text-safespeak-blue"}),u.jsx("span",{children:"Feedback Review"})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs(Ie,{variant:"outline",size:"sm",className:"flex items-center gap-1.5",children:[u.jsx(uw,{className:"h-4 w-4"}),u.jsx("span",{children:"Analytics"})]})})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(fw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white/40"}),u.jsx(Yt,{placeholder:"Search feedback...",className:"pl-10 bg-safespeak-dark-accent border-white/10",value:n,onChange:_=>r(_.target.value)})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(J0,{value:s,onValueChange:i,children:[u.jsx(Np,{className:"w-[150px]",children:u.jsx(ex,{placeholder:"Filter by type"})}),u.jsxs(jp,{children:[u.jsx(En,{value:"all",children:"All Types"}),u.jsx(En,{value:"investigation",children:"Investigation"}),u.jsx(En,{value:"admin",children:"Admin Behavior"}),u.jsx(En,{value:"resolution",children:"Case Resolution"}),u.jsx(En,{value:"other",children:"Other"})]})]}),u.jsxs(J0,{value:o,onValueChange:a,children:[u.jsx(Np,{className:"w-[150px]",children:u.jsx(ex,{placeholder:"Filter by status"})}),u.jsxs(jp,{children:[u.jsx(En,{value:"all",children:"All Status"}),u.jsx(En,{value:"unread",children:"Unread"}),u.jsx(En,{value:"read",children:"Read"}),u.jsx(En,{value:"flagged",children:"Flagged"}),u.jsx(En,{value:"resolved",children:"Resolved"})]})]})]})]}),u.jsx("div",{className:"glass-card rounded-xl overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-white/60 border-b border-white/10",children:[u.jsx("th",{className:"p-4 font-medium text-sm",children:"ID"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Report ID"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Type"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Date"}),u.jsx("th",{className:"p-4 font-medium text-sm",children:"Status"}),u.jsx("th",{className:"p-4 font-medium text-sm text-right",children:"Actions"})]})}),u.jsxs("tbody",{children:[f.map(_=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"p-4 font-mono text-sm",children:_.id}),u.jsx("td",{className:"p-4 font-mono text-sm",children:_.reportId||u.jsx("span",{className:"text-white/40",children:"No report ID"})}),u.jsx("td",{className:"p-4",children:p(_.type)}),u.jsx("td",{className:"p-4 text-sm text-white/70",children:_.date}),u.jsx("td",{className:"p-4",children:m(_.status)}),u.jsx("td",{className:"p-4 text-right",children:u.jsxs(Ie,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>w(_),children:[u.jsx(mu,{className:"h-3.5 w-3.5 mr-1"}),"View"]})})]},_.id)),f.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"p-8 text-center text-white/60",children:"No feedback found matching your search criteria."})})]})]})})}),l&&u.jsx(AO,{open:!!l,onOpenChange:_=>!_&&c(null),children:u.jsxs(eb,{className:"max-w-2xl",children:[u.jsx(tb,{children:u.jsxs(rb,{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-mono text-sm bg-safespeak-dark-accent px-2 py-1 rounded",children:l.id}),u.jsx("span",{children:"Feedback Details"})]})}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Date Submitted"}),u.jsx("p",{children:l.date})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Status"}),u.jsx("div",{children:m(l.status)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Feedback Type"}),u.jsx("div",{children:p(l.type)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Related Report"}),u.jsx("p",{className:"font-mono",children:l.reportId||"No related report"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Feedback Content"}),u.jsx("div",{className:"bg-safespeak-dark-accent/50 p-4 rounded-md text-white/90",children:l.description})]}),l.type==="other"&&u.jsxs("div",{className:"bg-amber-500/10 p-4 rounded-md flex gap-3",children:[u.jsx(Fl,{className:"h-5 w-5 text-amber-500 shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-amber-500 font-medium",children:"Non-case related feedback"}),u.jsx("p",{className:"text-sm text-white/70",children:"This feedback appears to be about app features or interface rather than a specific case."})]})]}),u.jsxs("div",{className:"space-y-2 pt-4 border-t border-white/10",children:[u.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Update Status"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ie,{variant:"outline",size:"sm",className:"text-safespeak-blue border-safespeak-blue/30",onClick:()=>v("read"),children:"Mark as Read"}),u.jsx(Ie,{variant:"outline",size:"sm",className:"text-amber-500 border-amber-500/30",onClick:()=>v("flagged"),children:"Flag for Review"}),u.jsx(Ie,{variant:"outline",size:"sm",className:"text-safespeak-green border-safespeak-green/30",onClick:()=>v("resolved"),children:"Mark Resolved"})]})]})]}),u.jsxs(nb,{children:[u.jsx(kO,{asChild:!0,children:u.jsx(Ie,{variant:"outline",children:"Close"})}),l.reportId&&u.jsx(Ie,{children:"View Related Case"})]})]})})]})},XO=x.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));XO.displayName="Card";const ZO=x.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ae("flex flex-col space-y-1.5 p-6",t),...e}));ZO.displayName="CardHeader";const JO=x.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:Ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));JO.displayName="CardTitle";const eM=x.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));eM.displayName="CardDescription";const tM=x.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ae("p-6 pt-0",t),...e}));tM.displayName="CardContent";const nM=x.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ae("flex items-center p-6 pt-0",t),...e}));nM.displayName="CardFooter";const GZ=Td("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Hh({className:t,variant:e,...n}){return u.jsx("div",{className:Ae(GZ({variant:e}),t),...n})}const QZ=[{id:"RPT-A1B2C3",title:"Armed Robbery at Downtown Store",description:"Multiple armed individuals entered the store and threatened the employees. Surveillance footage available.",location:"Downtown Commercial District",timeElapsed:"2 hours ago",status:"urgent",crimeType:"robbery",aiScore:95,aiReason:"Recent incident, violent crime with weapons involved, multiple perpetrators, available evidence."},{id:"RPT-D4E5F6",title:"Repeated Domestic Violence Reports",description:"Multiple reports from the same address over the past week. Escalating pattern observed.",location:"Westside Apartments",timeElapsed:"6 hours ago",status:"critical",crimeType:"domestic violence",aiScore:92,aiReason:"Pattern of escalation, potential for serious harm, involves vulnerable victims, high recurrence risk."},{id:"RPT-G7H8I9",title:"Drug Trafficking Near School",description:"Multiple witnesses reported drug dealing activities near the elementary school during school hours.",location:"Northside Elementary School Area",timeElapsed:"1 day ago",status:"high",crimeType:"drug trafficking",aiScore:87,aiReason:"Proximity to school, ongoing criminal activity, affects children safety, community impact."},{id:"RPT-J1K2L3",title:"Cybercrime Targeting Elderly",description:"Organized phishing scheme targeting elderly residents in the community. Multiple victims reported.",location:"Citywide",timeElapsed:"2 days ago",status:"high",crimeType:"cybercrime",aiScore:83,aiReason:"Targets vulnerable population, multiple victims, organized crime, financial impact on victims."}],YZ=t=>{switch(t){case"urgent":return u.jsx(Hh,{className:"bg-red-500 hover:bg-red-600",children:"Urgent"});case"critical":return u.jsx(Hh,{className:"bg-amber-500 hover:bg-amber-600",children:"Critical"});case"high":return u.jsx(Hh,{className:"bg-orange-500 hover:bg-orange-600",children:"High Priority"});default:return u.jsx(Hh,{children:"Unknown"})}},XZ=()=>{const[t,e]=x.useState(null),{toast:n}=zn(),r=i=>{e(t===i?null:i)},s=i=>{n({title:"Case Assigned",description:`You've been assigned to case ${i}`})};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[u.jsx(Fl,{className:"h-5 w-5 text-red-500"}),u.jsx("span",{children:"AI-Prioritized Critical Cases"})]})}),u.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Fl,{className:"h-5 w-5 text-red-500 shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-400",children:"AI Priority System"}),u.jsx("p",{className:"text-sm text-white/70",children:"Cases are automatically prioritized based on crime type, time sensitivity, public safety risk, and likelihood of evidence degradation. Review these cases first for efficient resource allocation."})]})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:QZ.map(i=>u.jsxs(XO,{className:"glass-card shadow-lg border-white/10 overflow-hidden",children:[u.jsx(ZO,{className:"pb-2",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx(JO,{className:"text-lg flex items-center gap-2",children:i.title}),u.jsxs(eM,{className:"mt-1 flex items-center gap-2",children:[u.jsx("span",{className:"font-mono text-xs",children:i.id}),YZ(i.status)]})]}),u.jsxs("div",{className:"bg-white/10 rounded-full px-2 py-1 text-xs font-medium flex items-center",children:["AI Score: ",u.jsxs("span",{className:"text-amber-400 ml-1",children:[i.aiScore,"/100"]})]})]})}),u.jsx(tM,{className:"pb-3",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"text-sm text-white/80",children:i.description}),u.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[u.jsxs("div",{className:"flex items-center gap-1 bg-white/10 px-2 py-1 rounded-full",children:[u.jsx(Xi,{className:"h-3 w-3"}),u.jsx("span",{children:i.timeElapsed})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white/10 px-2 py-1 rounded-full",children:[u.jsx(vi,{className:"h-3 w-3"}),u.jsx("span",{children:i.crimeType})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white/10 px-2 py-1 rounded-full",children:[u.jsx(tP,{className:"h-3 w-3"}),u.jsx("span",{children:i.location})]})]}),t===i.id&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10",children:[u.jsx("h4",{className:"text-xs font-medium text-white/70 mb-2",children:"AI Priority Reasoning:"}),u.jsx("p",{className:"text-sm text-white/80",children:i.aiReason})]})]})}),u.jsxs(nM,{className:"flex justify-between pt-0",children:[u.jsx(Ie,{variant:"ghost",size:"sm",className:"text-xs flex items-center gap-1",onClick:()=>r(i.id),children:t===i.id?u.jsxs(u.Fragment,{children:[u.jsx(Jk,{className:"h-3 w-3"}),u.jsx("span",{children:"Show Less"})]}):u.jsxs(u.Fragment,{children:[u.jsx(dw,{className:"h-3 w-3"}),u.jsx("span",{children:"AI Details"})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ie,{variant:"outline",size:"sm",className:"text-xs",children:[u.jsx(R4,{className:"h-3 w-3 mr-1"}),"View Details"]}),u.jsx(Ie,{size:"sm",className:"text-xs",onClick:()=>s(i.id),children:"Assign to Me"})]})]})]},i.id))})]})},ZZ=()=>{const{user:t,logout:e}=Ur(),n=po(),{toast:r}=zn(),[s,i]=x.useState([]),[o,a]=x.useState([]);x.useEffect(()=>{const m=async()=>{try{const v=Gl(Yl,"reports"),b=(await xp(v)).docs.map(y=>({id:y.id,...y.data()}));i(b)}catch(v){console.error("Error fetching reports:",v),r({title:"Error",description:"Failed to fetch reports from the database.",variant:"destructive"})}},w=async()=>{try{const v=Gl(Yl,"feedback"),b=(await xp(v)).docs.map(y=>({id:y.id,...y.data()}));a(b)}catch(v){console.error("Error fetching feedback:",v),r({title:"Error",description:"Failed to fetch feedback from the database.",variant:"destructive"})}};m(),w()},[]);const l=()=>{e(),r({title:"Logged Out",description:"You have been successfully logged out."}),n("/")},c=s.length,h=s.filter(m=>m.status==="resolved").length,f=s.filter(m=>m.priority==="urgent"||m.priority==="high").length,p=s.filter(m=>m.status==="pending").length;return u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark",children:[u.jsx(Aa,{}),u.jsx("main",{className:"flex-1 pt-20 pb-12",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-safespeak-green/15 p-2 rounded-full",children:u.jsx(U4,{className:"h-6 w-6 text-safespeak-green"})}),u.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"})]}),u.jsxs(Ie,{variant:"outline",size:"sm",className:"flex items-center gap-1.5",onClick:l,children:[u.jsx(qv,{className:"h-3.5 w-3.5"}),u.jsx("span",{children:"Logout"})]})]}),u.jsx("p",{className:"text-white/70",children:"Manage and track anonymous crime reports and user feedback."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[u.jsxs(at.div,{className:"glass-card p-4 rounded-xl flex items-center gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[u.jsx("div",{className:"bg-white/10 p-3 rounded-lg",children:u.jsx(vi,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-white/70",children:"Total Reports"}),u.jsx("p",{className:"text-2xl font-bold",children:c})]})]}),u.jsxs(at.div,{className:"glass-card p-4 rounded-xl flex items-center gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[u.jsx("div",{className:"bg-safespeak-green/15 p-3 rounded-lg",children:u.jsx(Ll,{className:"h-5 w-5 text-safespeak-green"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-white/70",children:"Solved Cases"}),u.jsx("p",{className:"text-2xl font-bold",children:h})]})]}),u.jsxs(at.div,{className:"glass-card p-4 rounded-xl flex items-center gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[u.jsx("div",{className:"bg-amber-500/15 p-3 rounded-lg",children:u.jsx(Xi,{className:"h-5 w-5 text-amber-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-white/70",children:"Pending Review"}),u.jsx("p",{className:"text-2xl font-bold",children:p})]})]}),u.jsxs(at.div,{className:"glass-card p-4 rounded-xl flex items-center gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:[u.jsx("div",{className:"bg-red-500/15 p-3 rounded-lg",children:u.jsx(Fl,{className:"h-5 w-5 text-red-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-white/70",children:"Critical Cases"}),u.jsx("p",{className:"text-2xl font-bold",children:f})]})]})]}),u.jsxs(at.div,{className:"glass-card rounded-xl p-6 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Case Progress Overview"}),u.jsxs(Ie,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[u.jsx(uw,{className:"h-4 w-4"})," Export Analytics"]})]}),c>0?u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsx("p",{className:"text-sm font-medium",children:"Solved"}),u.jsxs("p",{className:"text-sm text-white/70",children:[(h/c*100).toFixed(1),"%"]})]}),u.jsx(ji,{value:h/c*100,className:"h-2"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsx("p",{className:"text-sm font-medium",children:"Under Investigation"}),u.jsxs("p",{className:"text-sm text-white/70",children:[(s.filter(m=>m.status==="under-investigation").length/c*100).toFixed(1),"%"]})]}),u.jsx(ji,{value:s.filter(m=>m.status==="under-investigation").length/c*100,className:"h-2"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsx("p",{className:"text-sm font-medium",children:"Pending Review"}),u.jsxs("p",{className:"text-sm text-white/70",children:[(p/c*100).toFixed(1),"%"]})]}),u.jsx(ji,{value:p/c*100,className:"h-2"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsx("p",{className:"text-sm font-medium",children:"Critical Cases"}),u.jsxs("p",{className:"text-sm text-white/70",children:[(f/c*100).toFixed(1),"%"]})]}),u.jsx(ji,{value:f/c*100,className:"h-2"})]})]}):u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-white/50",children:"No reports have been submitted yet."})})]}),u.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:u.jsxs(YO,{defaultValue:"cases",children:[u.jsxs(ob,{className:"mb-6",children:[u.jsxs(Xo,{value:"cases",className:"flex items-center gap-1.5",children:[u.jsx(vi,{className:"h-4 w-4"}),u.jsx("span",{children:"Case Management"})]}),u.jsxs(Xo,{value:"critical",className:"flex items-center gap-1.5",children:[u.jsx(Fl,{className:"h-4 w-4"}),u.jsx("span",{children:"Critical Cases"})]}),u.jsxs(Xo,{value:"feedback",className:"flex items-center gap-1.5",children:[u.jsx(hw,{className:"h-4 w-4"}),u.jsx("span",{children:"User Feedback"})]})]}),u.jsx(Zo,{value:"cases",children:u.jsx(qZ,{allReports:s})}),u.jsx(Zo,{value:"critical",children:u.jsx(XZ,{})}),u.jsx(Zo,{value:"feedback",children:u.jsx(KZ,{})})]})})]})}),u.jsx(ps,{})]})};var Hd=t=>t.type==="checkbox",Lo=t=>t instanceof Date,Sn=t=>t==null;const rM=t=>typeof t=="object";var Nt=t=>!Sn(t)&&!Array.isArray(t)&&rM(t)&&!Lo(t),sM=t=>Nt(t)&&t.target?Hd(t.target)?t.target.checked:t.target.value:t,JZ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,iM=(t,e)=>t.has(JZ(e)),eJ=t=>{const e=t.constructor&&t.constructor.prototype;return Nt(e)&&e.hasOwnProperty("isPrototypeOf")},ab=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Nn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(ab&&(t instanceof Blob||t instanceof FileList))&&(n||Nt(t)))if(e=n?[]:{},!n&&!eJ(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Nn(t[r]));else return t;return e}var dg=t=>Array.isArray(t)?t.filter(Boolean):[],It=t=>t===void 0,ne=(t,e,n)=>{if(!e||!Nt(t))return n;const r=dg(e.split(/[,[\].]+?/)).reduce((s,i)=>Sn(s)?s:s[i],t);return It(r)||r===t?It(t[e])?n:t[e]:r},cr=t=>typeof t=="boolean",lb=t=>/^\w*$/.test(t),oM=t=>dg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),et=(t,e,n)=>{let r=-1;const s=lb(e)?[e]:oM(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=Nt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const Dp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},kr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ws={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},aM=z.createContext(null),hg=()=>z.useContext(aM),tJ=t=>{const{children:e,...n}=t;return z.createElement(aM.Provider,{value:n},e)};var lM=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==kr.all&&(e._proxyFormState[o]=!r||kr.all),n&&(n[o]=!0),t[o]}});return s},jn=t=>Nt(t)&&!Object.keys(t).length,cM=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return jn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||kr.all))},Cu=t=>Array.isArray(t)?t:[t],uM=(t,e,n)=>!t||!e||t===e||Cu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function cb(t){const e=z.useRef(t);e.current=t,z.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function nJ(t){const e=hg(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=z.useState(n._formState),l=z.useRef(!0),c=z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=z.useRef(s);return h.current=s,cb({disabled:r,next:f=>l.current&&uM(h.current,f.name,i)&&cM(f,c.current,n._updateFormState)&&a({...n._formState,...f}),subject:n._subjects.state}),z.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),lM(o,n,c.current,!1)}var es=t=>typeof t=="string",dM=(t,e,n,r,s)=>es(t)?(r&&e.watch.add(t),ne(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ne(n,i))):(r&&(e.watchAll=!0),n);function rJ(t){const e=hg(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=z.useRef(r);a.current=r,cb({disabled:i,subject:n._subjects.values,next:h=>{uM(a.current,h.name,o)&&c(Nn(dM(a.current,n._names,h.values||n._formValues,!1,s)))}});const[l,c]=z.useState(n._getWatch(r,s));return z.useEffect(()=>n._removeUnmounted()),l}function sJ(t){const e=hg(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=iM(s._names.array,n),a=rJ({control:s,name:n,defaultValue:ne(s._formValues,n,ne(s._defaultValues,n,t.defaultValue)),exact:!0}),l=nJ({control:s,name:n,exact:!0}),c=z.useRef(s.register(n,{...t.rules,value:a,...cr(t.disabled)?{disabled:t.disabled}:{}}));return z.useEffect(()=>{const h=s._options.shouldUnregister||i,f=(p,m)=>{const w=ne(s._fields,p);w&&w._f&&(w._f.mount=m)};if(f(n,!0),h){const p=Nn(ne(s._options.defaultValues,n));et(s._defaultValues,n,p),It(ne(s._formValues,n))&&et(s._formValues,n,p)}return()=>{(o?h&&!s._state.action:h)?s.unregister(n):f(n,!1)}},[n,s,o,i]),z.useEffect(()=>{ne(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:ne(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...cr(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:z.useCallback(h=>c.current.onChange({target:{value:sM(h),name:n},type:Dp.CHANGE}),[n]),onBlur:z.useCallback(()=>c.current.onBlur({target:{value:ne(s._formValues,n),name:n},type:Dp.BLUR}),[n,s]),ref:z.useCallback(h=>{const f=ne(s._fields,n);f&&h&&(f._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:p=>h.setCustomValidity(p),reportValidity:()=>h.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ne(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!ne(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ne(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ne(l.validatingFields,n)},error:{enumerable:!0,get:()=>ne(l.errors,n)}})}}const iJ=t=>t.render(sJ(t));var hM=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},FC=t=>({isOnSubmit:!t||t===kr.onSubmit,isOnBlur:t===kr.onBlur,isOnChange:t===kr.onChange,isOnAll:t===kr.all,isOnTouch:t===kr.onTouched}),UC=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Iu=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ne(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Iu(a,e))break}else if(Nt(a)&&Iu(a,e))break}}};var oJ=(t,e,n)=>{const r=Cu(ne(t,n));return et(r,"root",e[n]),et(t,n,r),t},ub=t=>t.type==="file",Rs=t=>typeof t=="function",Op=t=>{if(!ab)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},bf=t=>es(t),db=t=>t.type==="radio",Mp=t=>t instanceof RegExp;const $C={value:!1,isValid:!1},BC={value:!0,isValid:!0};var fM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!It(t[0].attributes.value)?It(t[0].value)||t[0].value===""?BC:{value:t[0].value,isValid:!0}:BC:$C}return $C};const zC={isValid:!1,value:null};var pM=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,zC):zC;function WC(t,e,n="validate"){if(bf(t)||Array.isArray(t)&&t.every(bf)||cr(t)&&!t)return{type:n,message:bf(t)?t:"",ref:e}}var La=t=>Nt(t)&&!Mp(t)?t:{value:t,message:""},HC=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:h,max:f,pattern:p,validate:m,name:w,valueAsNumber:v,mount:_,disabled:b}=t._f,y=ne(e,w);if(!_||b)return{};const E=o?o[0]:i,A=j=>{r&&E.reportValidity&&(E.setCustomValidity(cr(j)?"":j||""),E.reportValidity())},R={},O=db(i),C=Hd(i),S=O||C,I=(v||ub(i))&&It(i.value)&&It(y)||Op(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,N=hM.bind(null,w,n,R),D=(j,P,B,re=ws.maxLength,K=ws.minLength)=>{const se=j?P:B;R[w]={type:j?re:K,message:se,ref:i,...N(j?re:K,se)}};if(s?!Array.isArray(y)||!y.length:a&&(!S&&(I||Sn(y))||cr(y)&&!y||C&&!fM(o).isValid||O&&!pM(o).isValid)){const{value:j,message:P}=bf(a)?{value:!!a,message:a}:La(a);if(j&&(R[w]={type:ws.required,message:P,ref:E,...N(ws.required,P)},!n))return A(P),R}if(!I&&(!Sn(h)||!Sn(f))){let j,P;const B=La(f),re=La(h);if(!Sn(y)&&!isNaN(y)){const K=i.valueAsNumber||y&&+y;Sn(B.value)||(j=K>B.value),Sn(re.value)||(P=K<re.value)}else{const K=i.valueAsDate||new Date(y),se=oe=>new Date(new Date().toDateString()+" "+oe),F=i.type=="time",H=i.type=="week";es(B.value)&&y&&(j=F?se(y)>se(B.value):H?y>B.value:K>new Date(B.value)),es(re.value)&&y&&(P=F?se(y)<se(re.value):H?y<re.value:K<new Date(re.value))}if((j||P)&&(D(!!j,B.message,re.message,ws.max,ws.min),!n))return A(R[w].message),R}if((l||c)&&!I&&(es(y)||s&&Array.isArray(y))){const j=La(l),P=La(c),B=!Sn(j.value)&&y.length>+j.value,re=!Sn(P.value)&&y.length<+P.value;if((B||re)&&(D(B,j.message,P.message),!n))return A(R[w].message),R}if(p&&!I&&es(y)){const{value:j,message:P}=La(p);if(Mp(j)&&!y.match(j)&&(R[w]={type:ws.pattern,message:P,ref:i,...N(ws.pattern,P)},!n))return A(P),R}if(m){if(Rs(m)){const j=await m(y,e),P=WC(j,E);if(P&&(R[w]={...P,...N(ws.validate,P.message)},!n))return A(P.message),R}else if(Nt(m)){let j={};for(const P in m){if(!jn(j)&&!n)break;const B=WC(await m[P](y,e),E,P);B&&(j={...B,...N(P,B.message)},A(B.message),n&&(R[w]=j))}if(!jn(j)&&(R[w]={ref:E,...j},!n))return R}}return A(!0),R};function aJ(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=It(t)?r++:t[e[r++]];return t}function lJ(t){for(const e in t)if(t.hasOwnProperty(e)&&!It(t[e]))return!1;return!0}function Lt(t,e){const n=Array.isArray(e)?e:lb(e)?[e]:oM(e),r=n.length===1?t:aJ(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Nt(r)&&jn(r)||Array.isArray(r)&&lJ(r))&&Lt(t,n.slice(0,-1)),t}var zy=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},nx=t=>Sn(t)||!rM(t);function Ei(t,e){if(nx(t)||nx(e))return t===e;if(Lo(t)&&Lo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Lo(i)&&Lo(o)||Nt(i)&&Nt(o)||Array.isArray(i)&&Array.isArray(o)?!Ei(i,o):i!==o)return!1}}return!0}var mM=t=>t.type==="select-multiple",cJ=t=>db(t)||Hd(t),Wy=t=>Op(t)&&t.isConnected,gM=t=>{for(const e in t)if(Rs(t[e]))return!0;return!1};function Vp(t,e={}){const n=Array.isArray(t);if(Nt(t)||n)for(const r in t)Array.isArray(t[r])||Nt(t[r])&&!gM(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Vp(t[r],e[r])):Sn(t[r])||(e[r]=!0);return e}function yM(t,e,n){const r=Array.isArray(t);if(Nt(t)||r)for(const s in t)Array.isArray(t[s])||Nt(t[s])&&!gM(t[s])?It(e)||nx(n[s])?n[s]=Array.isArray(t[s])?Vp(t[s],[]):{...Vp(t[s])}:yM(t[s],Sn(e)?{}:e[s],n[s]):n[s]=!Ei(t[s],e[s]);return n}var zc=(t,e)=>yM(t,e,Vp(e)),vM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>It(t)?t:e?t===""?NaN:t&&+t:n&&es(t)?new Date(t):r?r(t):t;function Hy(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return ub(e)?e.files:db(e)?pM(t.refs).value:mM(e)?[...e.selectedOptions].map(({value:n})=>n):Hd(e)?fM(t.refs).value:vM(It(e.value)?t.ref.value:e.value,t)}var uJ=(t,e,n,r)=>{const s={};for(const i of t){const o=ne(e,i);o&&et(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Wc=t=>It(t)?t:Mp(t)?t.source:Nt(t)?Mp(t.value)?t.value.source:t.value:t;const qC="AsyncFunction";var dJ=t=>(!t||!t.validate)&&!!(Rs(t.validate)&&t.validate.constructor.name===qC||Nt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===qC)),hJ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function KC(t,e,n){const r=ne(t,n);if(r||lb(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ne(e,i),a=ne(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var fJ=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,pJ=(t,e)=>!dg(ne(t,e)).length&&Lt(t,e);const mJ={mode:kr.onSubmit,reValidateMode:kr.onChange,shouldFocusError:!0};function gJ(t={}){let e={...mJ,...t},n={submitCount:0,isDirty:!1,isLoading:Rs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Nt(e.defaultValues)||Nt(e.values)?Nn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Nn(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:zy(),array:zy(),state:zy()},p=FC(e.mode),m=FC(e.reValidateMode),w=e.criteriaMode===kr.all,v=M=>V=>{clearTimeout(c),c=setTimeout(M,V)},_=async M=>{if(!t.disabled&&(h.isValid||M)){const V=e.resolver?jn((await S()).errors):await N(r,!0);V!==n.isValid&&f.state.next({isValid:V})}},b=(M,V)=>{!t.disabled&&(h.isValidating||h.validatingFields)&&((M||Array.from(a.mount)).forEach($=>{$&&(V?et(n.validatingFields,$,V):Lt(n.validatingFields,$))}),f.state.next({validatingFields:n.validatingFields,isValidating:!jn(n.validatingFields)}))},y=(M,V=[],$,ie,ee=!0,Y=!0)=>{if(ie&&$&&!t.disabled){if(o.action=!0,Y&&Array.isArray(ne(r,M))){const me=$(ne(r,M),ie.argA,ie.argB);ee&&et(r,M,me)}if(Y&&Array.isArray(ne(n.errors,M))){const me=$(ne(n.errors,M),ie.argA,ie.argB);ee&&et(n.errors,M,me),pJ(n.errors,M)}if(h.touchedFields&&Y&&Array.isArray(ne(n.touchedFields,M))){const me=$(ne(n.touchedFields,M),ie.argA,ie.argB);ee&&et(n.touchedFields,M,me)}h.dirtyFields&&(n.dirtyFields=zc(s,i)),f.state.next({name:M,isDirty:j(M,V),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else et(i,M,V)},E=(M,V)=>{et(n.errors,M,V),f.state.next({errors:n.errors})},A=M=>{n.errors=M,f.state.next({errors:n.errors,isValid:!1})},R=(M,V,$,ie)=>{const ee=ne(r,M);if(ee){const Y=ne(i,M,It($)?ne(s,M):$);It(Y)||ie&&ie.defaultChecked||V?et(i,M,V?Y:Hy(ee._f)):re(M,Y),o.mount&&_()}},O=(M,V,$,ie,ee)=>{let Y=!1,me=!1;const Pe={name:M};if(!t.disabled){const $e=!!(ne(r,M)&&ne(r,M)._f&&ne(r,M)._f.disabled);if(!$||ie){h.isDirty&&(me=n.isDirty,n.isDirty=Pe.isDirty=j(),Y=me!==Pe.isDirty);const Me=$e||Ei(ne(s,M),V);me=!!(!$e&&ne(n.dirtyFields,M)),Me||$e?Lt(n.dirtyFields,M):et(n.dirtyFields,M,!0),Pe.dirtyFields=n.dirtyFields,Y=Y||h.dirtyFields&&me!==!Me}if($){const Me=ne(n.touchedFields,M);Me||(et(n.touchedFields,M,$),Pe.touchedFields=n.touchedFields,Y=Y||h.touchedFields&&Me!==$)}Y&&ee&&f.state.next(Pe)}return Y?Pe:{}},C=(M,V,$,ie)=>{const ee=ne(n.errors,M),Y=h.isValid&&cr(V)&&n.isValid!==V;if(t.delayError&&$?(l=v(()=>E(M,$)),l(t.delayError)):(clearTimeout(c),l=null,$?et(n.errors,M,$):Lt(n.errors,M)),($?!Ei(ee,$):ee)||!jn(ie)||Y){const me={...ie,...Y&&cr(V)?{isValid:V}:{},errors:n.errors,name:M};n={...n,...me},f.state.next(me)}},S=async M=>{b(M,!0);const V=await e.resolver(i,e.context,uJ(M||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(M),V},I=async M=>{const{errors:V}=await S(M);if(M)for(const $ of M){const ie=ne(V,$);ie?et(n.errors,$,ie):Lt(n.errors,$)}else n.errors=V;return V},N=async(M,V,$={valid:!0})=>{for(const ie in M){const ee=M[ie];if(ee){const{_f:Y,...me}=ee;if(Y){const Pe=a.array.has(Y.name),$e=ee._f&&dJ(ee._f);$e&&h.validatingFields&&b([ie],!0);const Me=await HC(ee,i,w,e.shouldUseNativeValidation&&!V,Pe);if($e&&h.validatingFields&&b([ie]),Me[Y.name]&&($.valid=!1,V))break;!V&&(ne(Me,Y.name)?Pe?oJ(n.errors,Me,Y.name):et(n.errors,Y.name,Me[Y.name]):Lt(n.errors,Y.name))}!jn(me)&&await N(me,V,$)}}return $.valid},D=()=>{for(const M of a.unMount){const V=ne(r,M);V&&(V._f.refs?V._f.refs.every($=>!Wy($)):!Wy(V._f.ref))&&be(M)}a.unMount=new Set},j=(M,V)=>!t.disabled&&(M&&V&&et(i,M,V),!Ei(G(),s)),P=(M,V,$)=>dM(M,a,{...o.mount?i:It(V)?s:es(M)?{[M]:V}:V},$,V),B=M=>dg(ne(o.mount?i:s,M,t.shouldUnregister?ne(s,M,[]):[])),re=(M,V,$={})=>{const ie=ne(r,M);let ee=V;if(ie){const Y=ie._f;Y&&(!Y.disabled&&et(i,M,vM(V,Y)),ee=Op(Y.ref)&&Sn(V)?"":V,mM(Y.ref)?[...Y.ref.options].forEach(me=>me.selected=ee.includes(me.value)):Y.refs?Hd(Y.ref)?Y.refs.length>1?Y.refs.forEach(me=>(!me.defaultChecked||!me.disabled)&&(me.checked=Array.isArray(ee)?!!ee.find(Pe=>Pe===me.value):ee===me.value)):Y.refs[0]&&(Y.refs[0].checked=!!ee):Y.refs.forEach(me=>me.checked=me.value===ee):ub(Y.ref)?Y.ref.value="":(Y.ref.value=ee,Y.ref.type||f.values.next({name:M,values:{...i}})))}($.shouldDirty||$.shouldTouch)&&O(M,ee,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&oe(M)},K=(M,V,$)=>{for(const ie in V){const ee=V[ie],Y=`${M}.${ie}`,me=ne(r,Y);(a.array.has(M)||Nt(ee)||me&&!me._f)&&!Lo(ee)?K(Y,ee,$):re(Y,ee,$)}},se=(M,V,$={})=>{const ie=ne(r,M),ee=a.array.has(M),Y=Nn(V);et(i,M,Y),ee?(f.array.next({name:M,values:{...i}}),(h.isDirty||h.dirtyFields)&&$.shouldDirty&&f.state.next({name:M,dirtyFields:zc(s,i),isDirty:j(M,Y)})):ie&&!ie._f&&!Sn(Y)?K(M,Y,$):re(M,Y,$),UC(M,a)&&f.state.next({...n}),f.values.next({name:o.mount?M:void 0,values:{...i}})},F=async M=>{o.mount=!0;const V=M.target;let $=V.name,ie=!0;const ee=ne(r,$),Y=()=>V.type?Hy(ee._f):sM(M),me=Pe=>{ie=Number.isNaN(Pe)||Lo(Pe)&&isNaN(Pe.getTime())||Ei(Pe,ne(i,$,Pe))};if(ee){let Pe,$e;const Me=Y(),xn=M.type===Dp.BLUR||M.type===Dp.FOCUS_OUT,wr=!hJ(ee._f)&&!e.resolver&&!ne(n.errors,$)&&!ee._f.deps||fJ(xn,ne(n.touchedFields,$),n.isSubmitted,m,p),ms=UC($,a,xn);et(i,$,Me),xn?(ee._f.onBlur&&ee._f.onBlur(M),l&&l(0)):ee._f.onChange&&ee._f.onChange(M);const wo=O($,Me,xn,!1),zr=!jn(wo)||ms;if(!xn&&f.values.next({name:$,type:M.type,values:{...i}}),wr)return h.isValid&&(t.mode==="onBlur"?xn&&_():_()),zr&&f.state.next({name:$,...ms?{}:wo});if(!xn&&ms&&f.state.next({...n}),e.resolver){const{errors:ti}=await S([$]);if(me(Me),ie){const ka=KC(n.errors,r,$),Wr=KC(ti,r,ka.name||$);Pe=Wr.error,$=Wr.name,$e=jn(ti)}}else b([$],!0),Pe=(await HC(ee,i,w,e.shouldUseNativeValidation))[$],b([$]),me(Me),ie&&(Pe?$e=!1:h.isValid&&($e=await N(r,!0)));ie&&(ee._f.deps&&oe(ee._f.deps),C($,$e,Pe,wo))}},H=(M,V)=>{if(ne(n.errors,V)&&M.focus)return M.focus(),1},oe=async(M,V={})=>{let $,ie;const ee=Cu(M);if(e.resolver){const Y=await I(It(M)?M:ee);$=jn(Y),ie=M?!ee.some(me=>ne(Y,me)):$}else M?(ie=(await Promise.all(ee.map(async Y=>{const me=ne(r,Y);return await N(me&&me._f?{[Y]:me}:me)}))).every(Boolean),!(!ie&&!n.isValid)&&_()):ie=$=await N(r);return f.state.next({...!es(M)||h.isValid&&$!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:$}:{},errors:n.errors}),V.shouldFocus&&!ie&&Iu(r,H,M?ee:a.mount),ie},G=M=>{const V={...o.mount?i:s};return It(M)?V:es(M)?ne(V,M):M.map($=>ne(V,$))},ae=(M,V)=>({invalid:!!ne((V||n).errors,M),isDirty:!!ne((V||n).dirtyFields,M),error:ne((V||n).errors,M),isValidating:!!ne(n.validatingFields,M),isTouched:!!ne((V||n).touchedFields,M)}),pe=M=>{M&&Cu(M).forEach(V=>Lt(n.errors,V)),f.state.next({errors:M?n.errors:{}})},Be=(M,V,$)=>{const ie=(ne(r,M,{_f:{}})._f||{}).ref,ee=ne(n.errors,M)||{},{ref:Y,message:me,type:Pe,...$e}=ee;et(n.errors,M,{...$e,...V,ref:ie}),f.state.next({name:M,errors:n.errors,isValid:!1}),$&&$.shouldFocus&&ie&&ie.focus&&ie.focus()},tt=(M,V)=>Rs(M)?f.values.subscribe({next:$=>M(P(void 0,V),$)}):P(M,V,!0),be=(M,V={})=>{for(const $ of M?Cu(M):a.mount)a.mount.delete($),a.array.delete($),V.keepValue||(Lt(r,$),Lt(i,$)),!V.keepError&&Lt(n.errors,$),!V.keepDirty&&Lt(n.dirtyFields,$),!V.keepTouched&&Lt(n.touchedFields,$),!V.keepIsValidating&&Lt(n.validatingFields,$),!e.shouldUnregister&&!V.keepDefaultValue&&Lt(s,$);f.values.next({values:{...i}}),f.state.next({...n,...V.keepDirty?{isDirty:j()}:{}}),!V.keepIsValid&&_()},de=({disabled:M,name:V,field:$,fields:ie,value:ee})=>{if(cr(M)&&o.mount||M){const Y=M?void 0:It(ee)?Hy($?$._f:ne(ie,V)._f):ee;et(i,V,Y),O(V,Y,!1,!1,!0)}},Ue=(M,V={})=>{let $=ne(r,M);const ie=cr(V.disabled)||cr(t.disabled);return et(r,M,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:M}},name:M,mount:!0,...V}}),a.mount.add(M),$?de({field:$,disabled:cr(V.disabled)?V.disabled:t.disabled,name:M,value:V.value}):R(M,!0,V.value),{...ie?{disabled:V.disabled||t.disabled}:{},...e.progressive?{required:!!V.required,min:Wc(V.min),max:Wc(V.max),minLength:Wc(V.minLength),maxLength:Wc(V.maxLength),pattern:Wc(V.pattern)}:{},name:M,onChange:F,onBlur:F,ref:ee=>{if(ee){Ue(M,V),$=ne(r,M);const Y=It(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,me=cJ(Y),Pe=$._f.refs||[];if(me?Pe.find($e=>$e===Y):Y===$._f.ref)return;et(r,M,{_f:{...$._f,...me?{refs:[...Pe.filter(Wy),Y,...Array.isArray(ne(s,M))?[{}]:[]],ref:{type:Y.type,name:M}}:{ref:Y}}}),R(M,!1,void 0,Y)}else $=ne(r,M,{}),$._f&&($._f.mount=!1),(e.shouldUnregister||V.shouldUnregister)&&!(iM(a.array,M)&&o.action)&&a.unMount.add(M)}}},Ze=()=>e.shouldFocusError&&Iu(r,H,a.mount),ke=M=>{cr(M)&&(f.state.next({disabled:M}),Iu(r,(V,$)=>{const ie=ne(r,$);ie&&(V.disabled=ie._f.disabled||M,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(ee=>{ee.disabled=ie._f.disabled||M}))},0,!1))},Ee=(M,V)=>async $=>{let ie;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let ee=Nn(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:me}=await S();n.errors=Y,ee=me}else await N(r);if(Lt(n.errors,"root"),jn(n.errors)){f.state.next({errors:{}});try{await M(ee,$)}catch(Y){ie=Y}}else V&&await V({...n.errors},$),Ze(),setTimeout(Ze);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jn(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},Oe=(M,V={})=>{ne(r,M)&&(It(V.defaultValue)?se(M,Nn(ne(s,M))):(se(M,V.defaultValue),et(s,M,Nn(V.defaultValue))),V.keepTouched||Lt(n.touchedFields,M),V.keepDirty||(Lt(n.dirtyFields,M),n.isDirty=V.defaultValue?j(M,Nn(ne(s,M))):j()),V.keepError||(Lt(n.errors,M),h.isValid&&_()),f.state.next({...n}))},ut=(M,V={})=>{const $=M?Nn(M):s,ie=Nn($),ee=jn(M),Y=ee?s:ie;if(V.keepDefaultValues||(s=$),!V.keepValues){if(V.keepDirtyValues){const me=new Set([...a.mount,...Object.keys(zc(s,i))]);for(const Pe of Array.from(me))ne(n.dirtyFields,Pe)?et(Y,Pe,ne(i,Pe)):se(Pe,ne(Y,Pe))}else{if(ab&&It(M))for(const me of a.mount){const Pe=ne(r,me);if(Pe&&Pe._f){const $e=Array.isArray(Pe._f.refs)?Pe._f.refs[0]:Pe._f.ref;if(Op($e)){const Me=$e.closest("form");if(Me){Me.reset();break}}}}r={}}i=t.shouldUnregister?V.keepDefaultValues?Nn(s):{}:Nn(Y),f.array.next({values:{...Y}}),f.values.next({values:{...Y}})}a={mount:V.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!V.keepIsValid||!!V.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:V.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:V.keepDirty?n.isDirty:!!(V.keepDefaultValues&&!Ei(M,s)),isSubmitted:V.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:V.keepDirtyValues?V.keepDefaultValues&&i?zc(s,i):n.dirtyFields:V.keepDefaultValues&&M?zc(s,M):V.keepDirty?n.dirtyFields:{},touchedFields:V.keepTouched?n.touchedFields:{},errors:V.keepErrors?n.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},jt=(M,V)=>ut(Rs(M)?M(i):M,V);return{control:{register:Ue,unregister:be,getFieldState:ae,handleSubmit:Ee,setError:Be,_executeSchema:S,_getWatch:P,_getDirty:j,_updateValid:_,_removeUnmounted:D,_updateFieldArray:y,_updateDisabledField:de,_getFieldArray:B,_reset:ut,_resetDefaultValues:()=>Rs(e.defaultValues)&&e.defaultValues().then(M=>{jt(M,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:M=>{n={...n,...M}},_disableForm:ke,_subjects:f,_proxyFormState:h,_setErrors:A,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(M){o=M},get _defaultValues(){return s},get _names(){return a},set _names(M){a=M},get _formState(){return n},set _formState(M){n=M},get _options(){return e},set _options(M){e={...e,...M}}},trigger:oe,register:Ue,handleSubmit:Ee,watch:tt,setValue:se,getValues:G,reset:jt,resetField:Oe,clearErrors:pe,unregister:be,setError:Be,setFocus:(M,V={})=>{const $=ne(r,M),ie=$&&$._f;if(ie){const ee=ie.refs?ie.refs[0]:ie.ref;ee.focus&&(ee.focus(),V.shouldSelect&&ee.select())}},getFieldState:ae}}function hb(t={}){const e=z.useRef(),n=z.useRef(),[r,s]=z.useState({isDirty:!1,isValidating:!1,isLoading:Rs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Rs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...gJ(t),formState:r});const i=e.current.control;return i._options=t,cb({subject:i._subjects.state,next:o=>{cM(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),z.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),z.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),z.useEffect(()=>{t.values&&!Ei(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),z.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),z.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),z.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),z.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=lM(r,i),e.current}const GC=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ne(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},xM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?GC(r.ref,n,t):r.refs&&r.refs.forEach(s=>GC(s,n,t))}},yJ=(t,e)=>{e.shouldUseNativeValidation&&xM(t,e);const n={};for(const r in t){const s=ne(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(vJ(e.names||Object.keys(t),r)){const o=Object.assign({},ne(n,r));et(o,"root",i),et(n,r,o)}else et(n,r,i)}return n},vJ=(t,e)=>t.some(n=>n.startsWith(e+"."));var xJ=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=hM(o,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},wM=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&xM({},i),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:yJ(xJ(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ge;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ge||(Ge={}));var QC;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(QC||(QC={}));const ce=Ge.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ro=t=>{switch(typeof t){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return isNaN(t)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(t)?ce.array:t===null?ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ce.promise:typeof Map<"u"&&t instanceof Map?ce.map:typeof Set<"u"&&t instanceof Set?ce.set:typeof Date<"u"&&t instanceof Date?ce.date:ce.object;default:return ce.unknown}},J=Ge.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class yr extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof yr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ge.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}yr.create=t=>new yr(t);const dd=(t,e)=>{let n;switch(t.code){case J.invalid_type:t.received===ce.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ge.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ge.joinValues(t.keys,", ")}`;break;case J.invalid_union:n="Invalid input";break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ge.joinValues(t.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${Ge.joinValues(t.options)}, received '${t.received}'`;break;case J.invalid_arguments:n="Invalid function arguments";break;case J.invalid_return_type:n="Invalid function return type";break;case J.invalid_date:n="Invalid date";break;case J.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ge.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case J.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case J.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case J.custom:n="Invalid input";break;case J.invalid_intersection_types:n="Intersection results could not be merged";break;case J.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case J.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ge.assertNever(t)}return{message:n}};let wJ=dd;function rx(){return wJ}const sx=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function le(t,e){const n=rx(),r=sx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===dd?void 0:dd].filter(s=>!!s)});t.common.issues.push(r)}class An{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Te;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return An.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Te;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Te=Object.freeze({status:"aborted"}),nu=t=>({status:"dirty",value:t}),Bn=t=>({status:"valid",value:t}),YC=t=>t.status==="aborted",XC=t=>t.status==="dirty",Lp=t=>t.status==="valid",Fp=t=>typeof Promise<"u"&&t instanceof Promise;function Up(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function _M(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ge;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ge||(ge={}));var ru,su;class hs{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ZC=(t,e)=>{if(Lp(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new yr(t.common.issues);return this._error=n,this._error}}};function De(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,c;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h??a.defaultError}:typeof a.data>"u"?{message:(l=h??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=h??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class ze{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ro(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ro(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new An,ctx:{common:e.parent.common,data:e.data,parsedType:Ro(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Fp(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ro(e)},i=this._parseSync({data:e,path:s.path,parent:s});return ZC(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ro(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Fp(s)?s:Promise.resolve(s));return ZC(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:J.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Js({schema:this,typeName:_e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Fs.create(this,this._def)}nullable(){return ga.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ls.create(this,this._def)}promise(){return fd.create(this,this._def)}or(e){return zp.create([this,e],this._def)}and(e){return Wp.create(this,e,this._def)}transform(e){return new Js({...De(this._def),schema:this,typeName:_e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Qp({...De(this._def),innerType:this,defaultValue:n,typeName:_e.ZodDefault})}brand(){return new SM({typeName:_e.ZodBranded,type:this,...De(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Yp({...De(this._def),innerType:this,catchValue:n,typeName:_e.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return fg.create(this,e)}readonly(){return Xp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _J=/^c[^\s-]{8,}$/i,bJ=/^[0-9a-z]+$/,EJ=/^[0-9A-HJKMNP-TV-Z]{26}$/,TJ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,SJ=/^[a-z0-9_-]{21}$/i,CJ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,IJ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,AJ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qy;const kJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PJ=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,RJ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",NJ=new RegExp(`^${bM}$`);function EM(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function jJ(t){return new RegExp(`^${EM(t)}$`)}function DJ(t){let e=`${bM}T${EM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function OJ(t,e){return!!((e==="v4"||!e)&&kJ.test(t)||(e==="v6"||!e)&&PJ.test(t))}class Ns extends ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ce.string){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_type,expected:ce.string,received:i.parsedType}),Te}const r=new An;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?le(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&le(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")IJ.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"email",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")qy||(qy=new RegExp(AJ,"u")),qy.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"emoji",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")TJ.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"uuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")SJ.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"nanoid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")_J.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")bJ.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid2",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")EJ.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ulid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),le(s,{validation:"url",code:J.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"regex",code:J.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?DJ(i).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?NJ.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?jJ(i).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?CJ.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"duration",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?OJ(e.data,i.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ip",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?RJ.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64",code:J.invalid_string,message:i.message}),r.dirty()):Ge.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:J.invalid_string,...ge.errToObj(r)})}_addCheck(e){return new Ns({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ge.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ge.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ge.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ge.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ge.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ge.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ge.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ge.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ge.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ge.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ge.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ge.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ge.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ge.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ge.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ge.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ge.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ge.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ge.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ge.errToObj(n)})}nonempty(e){return this.min(1,ge.errToObj(e))}trim(){return new Ns({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ns({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ns({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ns.create=t=>{var e;return new Ns({checks:[],typeName:_e.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...De(t)})};function MJ(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Jl extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ce.number){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_type,expected:ce.number,received:i.parsedType}),Te}let r;const s=new An;for(const i of this._def.checks)i.kind==="int"?Ge.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),le(r,{code:J.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?MJ(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),le(r,{code:J.not_finite,message:i.message}),s.dirty()):Ge.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ge.toString(n))}setLimit(e,n,r,s){return new Jl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ge.toString(s)}]})}_addCheck(e){return new Jl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ge.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ge.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ge.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ge.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ge.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Jl.create=t=>new Jl({checks:[],typeName:_e.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...De(t)});class ec extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ce.bigint){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_type,expected:ce.bigint,received:i.parsedType}),Te}let r;const s=new An;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ge.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ge.toString(n))}setLimit(e,n,r,s){return new ec({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ge.toString(s)}]})}_addCheck(e){return new ec({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ec.create=t=>{var e;return new ec({checks:[],typeName:_e.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...De(t)})};class ix extends ze{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ce.boolean){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ce.boolean,received:r.parsedType}),Te}return Bn(e.data)}}ix.create=t=>new ix({typeName:_e.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...De(t)});class hd extends ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ce.date){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_type,expected:ce.date,received:i.parsedType}),Te}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_date}),Te}const r=new An;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ge.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new hd({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ge.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ge.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}hd.create=t=>new hd({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:_e.ZodDate,...De(t)});class ox extends ze{_parse(e){if(this._getType(e)!==ce.symbol){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ce.symbol,received:r.parsedType}),Te}return Bn(e.data)}}ox.create=t=>new ox({typeName:_e.ZodSymbol,...De(t)});class $p extends ze{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ce.undefined,received:r.parsedType}),Te}return Bn(e.data)}}$p.create=t=>new $p({typeName:_e.ZodUndefined,...De(t)});class Bp extends ze{_parse(e){if(this._getType(e)!==ce.null){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ce.null,received:r.parsedType}),Te}return Bn(e.data)}}Bp.create=t=>new Bp({typeName:_e.ZodNull,...De(t)});class ax extends ze{constructor(){super(...arguments),this._any=!0}_parse(e){return Bn(e.data)}}ax.create=t=>new ax({typeName:_e.ZodAny,...De(t)});class wl extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Bn(e.data)}}wl.create=t=>new wl({typeName:_e.ZodUnknown,...De(t)});class ao extends ze{_parse(e){const n=this._getOrReturnCtx(e);return le(n,{code:J.invalid_type,expected:ce.never,received:n.parsedType}),Te}}ao.create=t=>new ao({typeName:_e.ZodNever,...De(t)});class lx extends ze{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ce.void,received:r.parsedType}),Te}return Bn(e.data)}}lx.create=t=>new lx({typeName:_e.ZodVoid,...De(t)});class ls extends ze{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ce.array)return le(n,{code:J.invalid_type,expected:ce.array,received:n.parsedType}),Te;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(le(n,{code:o?J.too_big:J.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(le(n,{code:J.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(le(n,{code:J.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new hs(n,o,n.path,a)))).then(o=>An.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new hs(n,o,n.path,a)));return An.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ls({...this._def,minLength:{value:e,message:ge.toString(n)}})}max(e,n){return new ls({...this._def,maxLength:{value:e,message:ge.toString(n)}})}length(e,n){return new ls({...this._def,exactLength:{value:e,message:ge.toString(n)}})}nonempty(e){return this.min(1,e)}}ls.create=(t,e)=>new ls({type:t,minLength:null,maxLength:null,exactLength:null,typeName:_e.ZodArray,...De(e)});function Ba(t){if(t instanceof St){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Fs.create(Ba(r))}return new St({...t._def,shape:()=>e})}else return t instanceof ls?new ls({...t._def,type:Ba(t.element)}):t instanceof Fs?Fs.create(Ba(t.unwrap())):t instanceof ga?ga.create(Ba(t.unwrap())):t instanceof Zs?Zs.create(t.items.map(e=>Ba(e))):t}class St extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ge.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ce.object){const c=this._getOrReturnCtx(e);return le(c,{code:J.invalid_type,expected:ce.object,received:c.parsedType}),Te}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ao&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const h=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:h._parse(new hs(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof ao){const c=this._def.unknownKeys;if(c==="passthrough")for(const h of a)l.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(c==="strict")a.length>0&&(le(s,{code:J.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const h of a){const f=s.data[h];l.push({key:{status:"valid",value:h},value:c._parse(new hs(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const h of l){const f=await h.key,p=await h.value;c.push({key:f,value:p,alwaysSet:h.alwaysSet})}return c}).then(c=>An.mergeObjectSync(r,c)):An.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ge.errToObj,new St({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ge.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new St({...this._def,unknownKeys:"strip"})}passthrough(){return new St({...this._def,unknownKeys:"passthrough"})}extend(e){return new St({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new St({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_e.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new St({...this._def,catchall:e})}pick(e){const n={};return Ge.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new St({...this._def,shape:()=>n})}omit(e){const n={};return Ge.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new St({...this._def,shape:()=>n})}deepPartial(){return Ba(this)}partial(e){const n={};return Ge.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new St({...this._def,shape:()=>n})}required(e){const n={};return Ge.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Fs;)i=i._def.innerType;n[r]=i}}),new St({...this._def,shape:()=>n})}keyof(){return TM(Ge.objectKeys(this.shape))}}St.create=(t,e)=>new St({shape:()=>t,unknownKeys:"strip",catchall:ao.create(),typeName:_e.ZodObject,...De(e)});St.strictCreate=(t,e)=>new St({shape:()=>t,unknownKeys:"strict",catchall:ao.create(),typeName:_e.ZodObject,...De(e)});St.lazycreate=(t,e)=>new St({shape:t,unknownKeys:"strip",catchall:ao.create(),typeName:_e.ZodObject,...De(e)});class zp extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new yr(a.ctx.common.issues));return le(n,{code:J.invalid_union,unionErrors:o}),Te}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},h=l._parseSync({data:n.data,path:n.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new yr(l));return le(n,{code:J.invalid_union,unionErrors:a}),Te}}get options(){return this._def.options}}zp.create=(t,e)=>new zp({options:t,typeName:_e.ZodUnion,...De(e)});const bs=t=>t instanceof qp?bs(t.schema):t instanceof Js?bs(t.innerType()):t instanceof Kp?[t.value]:t instanceof ma?t.options:t instanceof Gp?Ge.objectValues(t.enum):t instanceof Qp?bs(t._def.innerType):t instanceof $p?[void 0]:t instanceof Bp?[null]:t instanceof Fs?[void 0,...bs(t.unwrap())]:t instanceof ga?[null,...bs(t.unwrap())]:t instanceof SM||t instanceof Xp?bs(t.unwrap()):t instanceof Yp?bs(t._def.innerType):[];class fb extends ze{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.object)return le(n,{code:J.invalid_type,expected:ce.object,received:n.parsedType}),Te;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(le(n,{code:J.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Te)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=bs(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new fb({typeName:_e.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...De(r)})}}function cx(t,e){const n=Ro(t),r=Ro(e);if(t===e)return{valid:!0,data:t};if(n===ce.object&&r===ce.object){const s=Ge.objectKeys(e),i=Ge.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=cx(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ce.array&&r===ce.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=cx(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===ce.date&&r===ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Wp extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(YC(i)||YC(o))return Te;const a=cx(i.value,o.value);return a.valid?((XC(i)||XC(o))&&n.dirty(),{status:n.value,value:a.data}):(le(r,{code:J.invalid_intersection_types}),Te)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Wp.create=(t,e,n)=>new Wp({left:t,right:e,typeName:_e.ZodIntersection,...De(n)});class Zs extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.array)return le(r,{code:J.invalid_type,expected:ce.array,received:r.parsedType}),Te;if(r.data.length<this._def.items.length)return le(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Te;!this._def.rest&&r.data.length>this._def.items.length&&(le(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new hs(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>An.mergeArray(n,o)):An.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Zs({...this._def,rest:e})}}Zs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zs({items:t,typeName:_e.ZodTuple,rest:null,...De(e)})};class Hp extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.object)return le(r,{code:J.invalid_type,expected:ce.object,received:r.parsedType}),Te;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new hs(r,a,r.path,a)),value:o._parse(new hs(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?An.mergeObjectAsync(n,s):An.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ze?new Hp({keyType:e,valueType:n,typeName:_e.ZodRecord,...De(r)}):new Hp({keyType:Ns.create(),valueType:e,typeName:_e.ZodRecord,...De(n)})}}class ux extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.map)return le(r,{code:J.invalid_type,expected:ce.map,received:r.parsedType}),Te;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new hs(r,a,r.path,[c,"key"])),value:i._parse(new hs(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,h=await l.value;if(c.status==="aborted"||h.status==="aborted")return Te;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(c.value,h.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,h=l.value;if(c.status==="aborted"||h.status==="aborted")return Te;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(c.value,h.value)}return{status:n.value,value:a}}}}ux.create=(t,e,n)=>new ux({valueType:e,keyType:t,typeName:_e.ZodMap,...De(n)});class tc extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.set)return le(r,{code:J.invalid_type,expected:ce.set,received:r.parsedType}),Te;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(le(r,{code:J.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(le(r,{code:J.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const h of l){if(h.status==="aborted")return Te;h.status==="dirty"&&n.dirty(),c.add(h.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new hs(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new tc({...this._def,minSize:{value:e,message:ge.toString(n)}})}max(e,n){return new tc({...this._def,maxSize:{value:e,message:ge.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}tc.create=(t,e)=>new tc({valueType:t,minSize:null,maxSize:null,typeName:_e.ZodSet,...De(e)});class Au extends ze{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.function)return le(n,{code:J.invalid_type,expected:ce.function,received:n.parsedType}),Te;function r(a,l){return sx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,rx(),dd].filter(c=>!!c),issueData:{code:J.invalid_arguments,argumentsError:l}})}function s(a,l){return sx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,rx(),dd].filter(c=>!!c),issueData:{code:J.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof fd){const a=this;return Bn(async function(...l){const c=new yr([]),h=await a._def.args.parseAsync(l,i).catch(m=>{throw c.addIssue(r(l,m)),c}),f=await Reflect.apply(o,this,h);return await a._def.returns._def.type.parseAsync(f,i).catch(m=>{throw c.addIssue(s(f,m)),c})})}else{const a=this;return Bn(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new yr([r(l,c.error)]);const h=Reflect.apply(o,this,c.data),f=a._def.returns.safeParse(h,i);if(!f.success)throw new yr([s(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Au({...this._def,args:Zs.create(e).rest(wl.create())})}returns(e){return new Au({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Au({args:e||Zs.create([]).rest(wl.create()),returns:n||wl.create(),typeName:_e.ZodFunction,...De(r)})}}class qp extends ze{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}qp.create=(t,e)=>new qp({getter:t,typeName:_e.ZodLazy,...De(e)});class Kp extends ze{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return le(n,{received:n.data,code:J.invalid_literal,expected:this._def.value}),Te}return{status:"valid",value:e.data}}get value(){return this._def.value}}Kp.create=(t,e)=>new Kp({value:t,typeName:_e.ZodLiteral,...De(e)});function TM(t,e){return new ma({values:t,typeName:_e.ZodEnum,...De(e)})}class ma extends ze{constructor(){super(...arguments),ru.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return le(n,{expected:Ge.joinValues(r),received:n.parsedType,code:J.invalid_type}),Te}if(Up(this,ru)||_M(this,ru,new Set(this._def.values)),!Up(this,ru).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return le(n,{received:n.data,code:J.invalid_enum_value,options:r}),Te}return Bn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ma.create(e,{...this._def,...n})}exclude(e,n=this._def){return ma.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ru=new WeakMap;ma.create=TM;class Gp extends ze{constructor(){super(...arguments),su.set(this,void 0)}_parse(e){const n=Ge.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ce.string&&r.parsedType!==ce.number){const s=Ge.objectValues(n);return le(r,{expected:Ge.joinValues(s),received:r.parsedType,code:J.invalid_type}),Te}if(Up(this,su)||_M(this,su,new Set(Ge.getValidEnumValues(this._def.values))),!Up(this,su).has(e.data)){const s=Ge.objectValues(n);return le(r,{received:r.data,code:J.invalid_enum_value,options:s}),Te}return Bn(e.data)}get enum(){return this._def.values}}su=new WeakMap;Gp.create=(t,e)=>new Gp({values:t,typeName:_e.ZodNativeEnum,...De(e)});class fd extends ze{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.promise&&n.common.async===!1)return le(n,{code:J.invalid_type,expected:ce.promise,received:n.parsedType}),Te;const r=n.parsedType===ce.promise?n.data:Promise.resolve(n.data);return Bn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}fd.create=(t,e)=>new fd({type:t,typeName:_e.ZodPromise,...De(e)});class Js extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{le(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Te;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Te:l.status==="dirty"||n.value==="dirty"?nu(l.value):l});{if(n.value==="aborted")return Te;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Te:a.status==="dirty"||n.value==="dirty"?nu(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Te:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Te:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Lp(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Lp(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Ge.assertNever(s)}}Js.create=(t,e,n)=>new Js({schema:t,typeName:_e.ZodEffects,effect:e,...De(n)});Js.createWithPreprocess=(t,e,n)=>new Js({schema:e,effect:{type:"preprocess",transform:t},typeName:_e.ZodEffects,...De(n)});class Fs extends ze{_parse(e){return this._getType(e)===ce.undefined?Bn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fs.create=(t,e)=>new Fs({innerType:t,typeName:_e.ZodOptional,...De(e)});class ga extends ze{_parse(e){return this._getType(e)===ce.null?Bn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ga.create=(t,e)=>new ga({innerType:t,typeName:_e.ZodNullable,...De(e)});class Qp extends ze{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ce.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Qp.create=(t,e)=>new Qp({innerType:t,typeName:_e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...De(e)});class Yp extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Fp(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new yr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new yr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Yp.create=(t,e)=>new Yp({innerType:t,typeName:_e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...De(e)});class dx extends ze{_parse(e){if(this._getType(e)!==ce.nan){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ce.nan,received:r.parsedType}),Te}return{status:"valid",value:e.data}}}dx.create=t=>new dx({typeName:_e.ZodNaN,...De(t)});class SM extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class fg extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Te:i.status==="dirty"?(n.dirty(),nu(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Te:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new fg({in:e,out:n,typeName:_e.ZodPipeline})}}class Xp extends ze{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Lp(s)&&(s.value=Object.freeze(s.value)),s);return Fp(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Xp.create=(t,e)=>new Xp({innerType:t,typeName:_e.ZodReadonly,...De(e)});St.lazycreate;var _e;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(_e||(_e={}));const _l=Ns.create;Jl.create;dx.create;ec.create;ix.create;hd.create;ox.create;$p.create;Bp.create;ax.create;wl.create;ao.create;lx.create;ls.create;const CM=St.create;St.strictCreate;zp.create;fb.create;Wp.create;Zs.create;Hp.create;ux.create;tc.create;Au.create;qp.create;Kp.create;ma.create;Gp.create;fd.create;Js.create;Fs.create;ga.create;Js.createWithPreprocess;fg.create;var VJ="Label",IM=x.forwardRef((t,e)=>u.jsx(Le.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));IM.displayName=VJ;var AM=IM;const LJ=Td("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xn=x.forwardRef(({className:t,...e},n)=>u.jsx(AM,{ref:n,className:Ae(LJ(),t),...e}));Xn.displayName=AM.displayName;const kM=tJ,PM=x.createContext({}),ol=({...t})=>u.jsx(PM.Provider,{value:{name:t.name},children:u.jsx(iJ,{...t})}),pg=()=>{const t=x.useContext(PM),e=x.useContext(RM),{getFieldState:n,formState:r}=hg(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},RM=x.createContext({}),Fo=x.forwardRef(({className:t,...e},n)=>{const r=x.useId();return u.jsx(RM.Provider,{value:{id:r},children:u.jsx("div",{ref:n,className:Ae("space-y-2",t),...e})})});Fo.displayName="FormItem";const Uo=x.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=pg();return u.jsx(Xn,{ref:n,className:Ae(r&&"text-destructive",t),htmlFor:s,...e})});Uo.displayName="FormLabel";const $o=x.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=pg();return u.jsx(Yi,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});$o.displayName="FormControl";const FJ=x.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=pg();return u.jsx("p",{ref:n,id:r,className:Ae("text-sm text-muted-foreground",t),...e})});FJ.displayName="FormDescription";const Bo=x.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=pg(),o=s?String(s==null?void 0:s.message):e;return o?u.jsx("p",{ref:r,id:i,className:Ae("text-sm font-medium text-destructive",t),...n,children:o}):null});Bo.displayName="FormMessage";const UJ=CM({email:_l().email({message:"Please enter a valid email address"}),password:_l().min(6,{message:"Password must be at least 6 characters"})}),$J=()=>{const{adminLogin:t}=Ur(),e=po();zn();const[n,r]=x.useState(!1),[s,i]=x.useState(null),o=hb({resolver:wM(UJ),defaultValues:{email:"",password:""}}),a=async l=>{r(!0),i(null);try{await t(l.email,l.password),e("/admin")}catch(c){i(c.message||"An error occurred during login"),o.setError("root",{message:c.message})}finally{r(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Aa,{}),u.jsx("main",{className:"flex-1 flex items-center justify-center pt-20 pb-12",children:u.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md px-4",children:u.jsxs("div",{className:"glass-card rounded-2xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-safespeak-blue/15 p-3 rounded-full",children:u.jsx(Ws,{className:"h-8 w-8 text-safespeak-blue"})})}),u.jsx("h1",{className:"text-2xl font-bold",children:"Admin Login"}),u.jsx("p",{className:"text-white/70 mt-2",children:"Access the administrative dashboard"})]}),s&&u.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-2 rounded-md mb-6 text-sm flex items-center gap-2",children:[u.jsx(eP,{className:"h-4 w-4"}),s]}),u.jsx(kM,{...o,children:u.jsxs("form",{onSubmit:o.handleSubmit(a),className:"space-y-4",children:[u.jsx(ol,{control:o.control,name:"email",render:({field:l})=>u.jsxs(Fo,{children:[u.jsx(Uo,{children:"Email"}),u.jsx($o,{children:u.jsx(Yt,{placeholder:"admin@trustchain.com",...l,type:"email"})}),u.jsx(Bo,{})]})}),u.jsx(ol,{control:o.control,name:"password",render:({field:l})=>u.jsxs(Fo,{children:[u.jsx(Uo,{children:"Password"}),u.jsx($o,{children:u.jsx(Yt,{placeholder:"",type:"password",...l})}),u.jsx(Bo,{className:"text-xs"})]})}),u.jsx(Ie,{type:"submit",className:"w-full",disabled:n,children:n?u.jsxs(u.Fragment,{children:[u.jsx(ym,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):u.jsxs(u.Fragment,{children:[u.jsx(V4,{className:"mr-2 h-4 w-4"}),"Login"]})})]})}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-white/60 text-sm",children:["Don't have an account? ",u.jsx(Ut,{to:"/admin-register",className:"text-safespeak-blue hover:underline",children:"Register"})]})})]})})}),u.jsx(ps,{})]})},BJ=_l().min(6,{message:"Password must be at least 6 characters"}),zJ=CM({fullName:_l().min(3,{message:"Full name must be at least 3 characters"}),email:_l().email({message:"Please enter a valid email address"}),password:BJ,confirmPassword:_l()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),WJ=()=>{const{adminRegister:t}=Ur();po(),zn();const[e,n]=x.useState(!1),[r,s]=x.useState(null),i=hb({resolver:wM(zJ),defaultValues:{fullName:"",email:"",password:"",confirmPassword:""}}),o=async a=>{n(!0),s(null);try{await t(a.fullName,a.email,a.password)}catch(l){console.error("Admin registration error:",l);const c=l.message||"Unable to create admin account. Please try again.";s(c)}finally{n(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(Aa,{}),u.jsx("main",{className:"flex-1 flex items-center justify-center pt-20 pb-12",children:u.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md px-4",children:u.jsxs("div",{className:"glass-card rounded-2xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-safespeak-blue/15 p-3 rounded-full",children:u.jsx(Ws,{className:"h-8 w-8 text-safespeak-blue"})})}),u.jsx("h1",{className:"text-2xl font-bold",children:"Create Admin Account"}),u.jsx("p",{className:"text-white/70 mt-2",children:"Register as an administrator"})]}),r&&u.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-2 rounded-md mb-6 text-sm",children:r}),u.jsx(kM,{...i,children:u.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[u.jsx(ol,{control:i.control,name:"fullName",render:({field:a})=>u.jsxs(Fo,{children:[u.jsx(Uo,{children:"Full Name"}),u.jsx($o,{children:u.jsx(Yt,{placeholder:"John Doe",...a,disabled:e})}),u.jsx(Bo,{})]})}),u.jsx(ol,{control:i.control,name:"email",render:({field:a})=>u.jsxs(Fo,{children:[u.jsx(Uo,{children:"Email"}),u.jsx($o,{children:u.jsx(Yt,{placeholder:"admin@safespeak.com",type:"email",...a,disabled:e})}),u.jsx(Bo,{})]})}),u.jsx(ol,{control:i.control,name:"password",render:({field:a})=>u.jsxs(Fo,{children:[u.jsx(Uo,{children:"Password"}),u.jsx($o,{children:u.jsx(Yt,{placeholder:"",type:"password",...a,disabled:e})}),u.jsx(Bo,{className:"text-xs"})]})}),u.jsx(ol,{control:i.control,name:"confirmPassword",render:({field:a})=>u.jsxs(Fo,{children:[u.jsx(Uo,{children:"Confirm Password"}),u.jsx($o,{children:u.jsx(Yt,{placeholder:"",type:"password",...a,disabled:e})}),u.jsx(Bo,{})]})}),u.jsx(Ie,{type:"submit",className:"w-full",disabled:e,children:e?u.jsxs(u.Fragment,{children:[u.jsx(ym,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):u.jsxs(u.Fragment,{children:[u.jsx(nP,{className:"mr-2 h-4 w-4"}),"Create Admin Account"]})})]})}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-white/60 text-sm",children:["Already have an account? ",u.jsx(Ut,{to:"/admin-login",className:"text-safespeak-blue hover:underline",children:"Login"})]})})]})})}),u.jsx(ps,{})]})},HJ=({onFileChange:t,maxFiles:e=5})=>{const[n,r]=x.useState([]),[s,i]=x.useState(!1),o=x.useRef(null),a=w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?i(!0):w.type==="dragleave"&&i(!1)},l=w=>{w.preventDefault(),w.stopPropagation(),i(!1),w.dataTransfer.files&&w.dataTransfer.files.length>0&&h(Array.from(w.dataTransfer.files))},c=w=>{w.preventDefault(),w.target.files&&w.target.files.length>0&&h(Array.from(w.target.files))},h=w=>{const v=w.slice(0,e-n.length),_=[...n,...v];r(_),t(_)},f=w=>{const v=n.filter((_,b)=>b!==w);r(v),t(v)},p=w=>{const v=w.type;return v.startsWith("image/")?u.jsx(M4,{className:"h-5 w-5 text-safespeak-blue"}):v.startsWith("video/")?u.jsx(j4,{className:"h-5 w-5 text-purple-400"}):u.jsx(N4,{className:"h-5 w-5 text-safespeak-green"})},m=w=>w.type.startsWith("image/")?URL.createObjectURL(w):null;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors duration-300 ${s?"border-safespeak-blue bg-safespeak-blue/10":"border-white/20 hover:border-white/40"}`,onDragEnter:a,onDragLeave:a,onDragOver:a,onDrop:l,onClick:()=>{var w;return(w=o.current)==null?void 0:w.click()},children:[u.jsx("input",{ref:o,type:"file",multiple:!0,onChange:c,className:"hidden",accept:"image/*,video/*,.pdf,.doc,.docx"}),u.jsx(P4,{className:"h-12 w-12 mx-auto mb-4 text-white/60"}),u.jsx("p",{className:"text-sm font-medium mb-1",children:"Drag & drop or click to upload"}),u.jsxs("p",{className:"text-xs text-white/60",children:["Upload up to ",e," files (images, videos, or documents)"]})]}),n.length>0&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h4",{className:"text-sm font-medium",children:["Uploaded Files (",n.length,"/",e,")"]}),u.jsx("ul",{className:"space-y-2",children:n.map((w,v)=>u.jsxs("li",{className:"bg-white/5 rounded-lg p-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[m(w)?u.jsx("img",{src:m(w),alt:w.name,className:"h-10 w-10 object-cover rounded"}):u.jsx("div",{className:"h-10 w-10 flex items-center justify-center bg-white/10 rounded",children:p(w)}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("p",{className:"text-sm font-medium truncate max-w-[180px]",children:w.name}),u.jsxs("p",{className:"text-xs text-white/60",children:[(w.size/1024/1024).toFixed(2)," MB"]})]})]}),u.jsx(Ie,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-full hover:bg-white/10",onClick:_=>{_.stopPropagation(),f(v)},children:u.jsx(ic,{className:"h-4 w-4"})})]},v))})]})]})},JC=["Theft","Assault","Fraud","Vandalism","Drug-related","Cybercrime","Harassment","Other"],qJ=()=>{const{user:t}=Ur(),{toast:e}=zn(),{register:n,handleSubmit:r,reset:s}=hb(),[i,o]=x.useState(1),[a,l]=x.useState(!1),[c,h]=x.useState([]),[f,p]=x.useState(null),[m,w]=x.useState(null),v=R=>{if(R.length>20){const O=JC,C=O[Math.floor(Math.random()*O.length)];setTimeout(()=>{w(C),e({title:"AI Detection",description:`The AI suggests this is a ${C} case.`})},1e3)}},_=R=>{h(R)},b=async R=>{l(!0);try{const O=`SS-${Math.floor(1e5+Math.random()*9e5)}`;p(O);const C={id:O,crimeType:R.crimeType,description:R.description,location:R.location,date:R.date,status:"pending",evidence_urls:c.map(S=>URL.createObjectURL(S)),userId:(t==null?void 0:t.id)||null};try{const S=await $j(Gl(Yl,"reports"),C);console.log("Document written with ID: ",S.id)}catch(S){console.error("Error adding document: ",S)}e({title:"Report Submitted",description:"Your crime report has been successfully submitted."}),o(4)}catch(O){console.error("Submission error:",O),e({title:"Submission Failed",description:"There was an error submitting your report. Please try again.",variant:"destructive"})}finally{l(!1)}},y=()=>{o(R=>R+1)},E=()=>{o(R=>R-1)},A=()=>{o(1),h([]),p(null),w(null),s()};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark",children:[u.jsx(Aa,{}),u.jsx("main",{className:"flex-1 pt-20 pb-12",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-safespeak-blue/15 p-3 rounded-full",children:u.jsx(Wv,{className:"h-8 w-8 text-safespeak-blue"})})}),u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Report a Crime"}),u.jsx("p",{className:"text-white/70 max-w-xl mx-auto",children:"Submit your anonymous report securely. All submissions are encrypted and stored on blockchain technology for maximum security and privacy."})]}),u.jsxs("div",{className:"max-w-3xl mx-auto mb-8",children:[u.jsx("div",{className:"flex justify-between",children:[1,2,3,4].map(R=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm
                      ${i===R?"bg-safespeak-blue text-white":i>R?"bg-safespeak-green text-white":"bg-white/10 text-white/60"}`,children:i>R?u.jsx(Ll,{className:"h-4 w-4"}):R}),u.jsx("span",{className:"text-xs mt-2 text-white/60",children:R===1?"Details":R===2?"Location":R===3?"Evidence":"Completed"})]},R))}),u.jsx("div",{className:"mt-2 h-1 bg-white/10 rounded-full",children:u.jsx("div",{className:"h-full bg-safespeak-blue rounded-full transition-all duration-300",style:{width:`${(i-1)*33.33}%`}})})]}),u.jsx(at.div,{className:"max-w-2xl mx-auto glass-card rounded-xl p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:u.jsxs("form",{onSubmit:r(b),children:[i===1&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Crime Details"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Xn,{htmlFor:"crimeType",children:"Crime Type"}),u.jsxs("select",{id:"crimeType",className:"w-full bg-safespeak-dark-accent text-white border-white/10 rounded-md p-2",...n("crimeType",{required:!0}),defaultValue:m||"",children:[u.jsx("option",{value:"",disabled:!0,children:"Select crime type"}),JC.map(R=>u.jsx("option",{value:R,children:R},R))]}),m&&u.jsxs("p",{className:"text-xs text-safespeak-green",children:["AI suggested: ",m]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Xn,{htmlFor:"description",children:"Description"}),u.jsx(ug,{id:"description",placeholder:"Describe what happened in detail...",className:"min-h-32 bg-safespeak-dark-accent border-white/10",...n("description",{required:!0}),onChange:R=>v(R.target.value)}),u.jsx("p",{className:"text-xs text-white/60",children:"The AI will analyze your description to help categorize the crime appropriately."})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs(Ie,{type:"button",onClick:y,className:"bg-safespeak-blue hover:bg-safespeak-blue/90",children:["Next ",u.jsx(xT,{className:"ml-2 h-4 w-4"})]})})]}),i===2&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Location & Date"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Xn,{htmlFor:"location",className:"flex items-center",children:[u.jsx(tP,{className:"mr-2 h-4 w-4 text-safespeak-blue"})," Location"]}),u.jsx(Yt,{id:"location",placeholder:"Enter the location of the incident",className:"bg-safespeak-dark-accent border-white/10",...n("location",{required:!0})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Xn,{htmlFor:"date",className:"flex items-center",children:[u.jsx(I4,{className:"mr-2 h-4 w-4 text-safespeak-blue"})," Date"]}),u.jsx(Yt,{id:"date",type:"date",className:"bg-safespeak-dark-accent border-white/10",defaultValue:new Date().toISOString().split("T")[0],...n("date",{required:!0})}),u.jsx("p",{className:"text-xs text-white/60",children:"Current date is auto-filled, but you can change it if the incident happened earlier."})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:E,children:"Back"}),u.jsxs(Ie,{type:"button",onClick:y,className:"bg-safespeak-blue hover:bg-safespeak-blue/90",children:["Next ",u.jsx(xT,{className:"ml-2 h-4 w-4"})]})]})]}),i===3&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Upload Evidence"}),u.jsx(HJ,{onFileChange:_}),u.jsx("p",{className:"text-xs text-white/60 mt-2",children:"Accepted file types: Images (.jpg, .png), Documents (.pdf, .doc), Videos (.mp4, .mov)"}),u.jsxs("div",{className:"flex justify-between mt-6",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:E,children:"Back"}),u.jsx(Ie,{type:"submit",className:"bg-safespeak-green hover:bg-safespeak-green/90",disabled:a,children:a?u.jsxs("span",{className:"flex items-center",children:[u.jsx("span",{className:"animate-spin mr-2",children:""})," Submitting..."]}):u.jsx("span",{children:"Submit Report"})})]})]}),i===4&&u.jsxs("div",{className:"text-center space-y-6",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"bg-safespeak-green/20 p-4 rounded-full",children:u.jsx(Ll,{className:"h-10 w-10 text-safespeak-green"})})}),u.jsx("h2",{className:"text-xl font-semibold",children:"Report Successfully Submitted"}),u.jsx("p",{className:"text-white/80",children:"Your report has been securely submitted and stored."}),u.jsxs("div",{className:"p-4 bg-white/5 rounded-lg",children:[u.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Your Report ID:"}),u.jsx("p",{className:"text-xl font-mono font-semibold text-safespeak-blue",children:f}),u.jsx("p",{className:"text-xs text-white/60 mt-2",children:"Save this ID to track the status of your report later."})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 pt-4",children:[u.jsx(Ie,{type:"button",variant:"outline",onClick:A,children:"Submit Another Report"}),u.jsx(Ie,{type:"button",className:"bg-safespeak-blue hover:bg-safespeak-blue/90",onClick:()=>window.location.href="/dashboard",children:"View Dashboard"})]})]})]})})]})}),u.jsx(ps,{})]})},KJ=()=>{const{toast:t}=zn(),[e,n]=x.useState(""),[r,s]=x.useState(!1),[i,o]=x.useState(null),a=async()=>{if(!e){t({title:"Error",description:"Please enter a valid Report ID",variant:"destructive"});return}s(!0);try{const h=Gl(Yl,"reports"),f=hq(h,fq("id","==",e)),p=await xp(f);if(p.empty)t({title:"Not Found",description:"No report found with this ID. Please check and try again.",variant:"destructive"}),o(null);else{const w=p.docs[0].data();o(w),t({title:"Report Found",description:"Report status has been retrieved successfully."})}}catch(h){console.error("Error fetching report:",h),t({title:"Error",description:"Failed to retrieve report status.",variant:"destructive"})}finally{s(!1)}},l=h=>{if(typeof h!="string")return console.warn("Status is not a string:",h),u.jsx(mu,{className:"h-6 w-6 text-white"});switch(h){case"resolved":return u.jsx(Ll,{className:"h-6 w-6 text-safespeak-green"});case"under-investigation":return u.jsx(Xi,{className:"h-6 w-6 text-safespeak-blue"});case"pending":return u.jsx(Xi,{className:"h-6 w-6 text-amber-500"});case"closed":return u.jsx(X,{className:"h-6 w-6 text-gray-400"});default:return u.jsx(mu,{className:"h-6 w-6 text-white"})}},c=h=>{if(typeof h!="string")return console.warn("Status is not a string:",h),"Unknown Status";switch(h){case"resolved":return"Resolved";case"under-investigation":return"Under Investigation";case"pending":return"Pending Review";case"closed":return"Closed";default:return h}};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark",children:[u.jsx(Aa,{}),u.jsx("main",{className:"flex-1 pt-20 pb-12",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-safespeak-green/15 p-3 rounded-full",children:u.jsx(mu,{className:"h-8 w-8 text-safespeak-green"})})}),u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Track Your Report"}),u.jsx("p",{className:"text-white/70 max-w-xl mx-auto",children:"Enter your Report ID below to check the current status of your submitted report. Your anonymity remains protected throughout this process."})]}),u.jsxs(at.div,{className:"max-w-xl mx-auto glass-card rounded-xl p-8 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsx(Yt,{placeholder:"Enter your Report ID (e.g. SS-123456)",value:e,onChange:h=>n(h.target.value),className:"flex-1 bg-safespeak-dark-accent border-white/10"}),u.jsx(Ie,{onClick:a,disabled:r,className:"bg-safespeak-green hover:bg-safespeak-green/90",children:r?u.jsxs("span",{className:"flex items-center",children:[u.jsx("span",{className:"animate-spin mr-2",children:""})," Tracking..."]}):u.jsxs("span",{className:"flex items-center",children:[u.jsx(fw,{className:"mr-2 h-4 w-4"})," Track Report"]})})]}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx("p",{className:"text-xs text-white/60",children:"For demonstration, try these IDs: SS-123456, SS-234567, SS-345678, SS-456789"})})]}),i&&u.jsxs(at.div,{className:"max-w-2xl mx-auto glass-card rounded-xl p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[u.jsxs("div",{className:"mb-6 text-center",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Report Status"}),u.jsxs("p",{className:"text-white/60 text-sm",children:["ID: ",u.jsx("span",{className:"font-mono",children:e})," | Last Updated: ",i.date]})]}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:`p-4 rounded-full ${l(i.status)}`,children:l(i.status)})}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:`text-lg font-medium ${c(i.status)}`,children:c(i.status)}),u.jsx("p",{className:"mt-2 text-white/80",children:i.description})]}),u.jsxs("div",{className:"space-y-4 mt-8",children:[u.jsxs("h3",{className:"text-md font-medium flex items-center",children:[u.jsx(k4,{className:"h-4 w-4 mr-2"})," Timeline"]}),u.jsxs("div",{className:"ml-6 border-l border-white/10 pl-6 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"absolute -ml-9 p-1 rounded-full bg-safespeak-green"}),u.jsx("p",{className:"text-sm text-white/60",children:"April 1, 2025"})]}),u.jsx("p",{className:"text-sm mt-1",children:"Report received and logged into the system."})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"absolute -ml-9 p-1 rounded-full bg-safespeak-blue"}),u.jsx("p",{className:"text-sm text-white/60",children:"April 3, 2025"})]}),u.jsx("p",{className:"text-sm mt-1",children:"Report assigned to investigation team for review."})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"absolute -ml-9 p-1 rounded-full bg-white/30"}),u.jsx("p",{className:"text-sm text-white/60",children:"April 5, 2025 (Expected)"})]}),u.jsx("p",{className:"text-sm mt-1",children:"Preliminary investigation results expected."})]})]})]}),u.jsx("div",{className:"flex justify-center mt-8",children:u.jsx(Ie,{variant:"outline",onClick:()=>o(null),children:"Track Another Report"})})]}),u.jsxs("div",{className:"max-w-2xl mx-auto mt-8",children:[u.jsx("h3",{className:"text-lg font-medium mb-4",children:"How to Track Your Report"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-white/80 text-sm",children:[u.jsx("li",{children:"Enter your Report ID in the field above (received when you submitted your report)"}),u.jsx("li",{children:'Click the "Track Report" button to check the current status'}),u.jsx("li",{children:"The system will securely retrieve your report status from the blockchain"}),u.jsx("li",{children:"Your anonymity is maintained throughout the entire process"})]})]})]})}),u.jsx(ps,{})]})},eI=["App Experience","Reporting Process","Investigation Updates","General Feedback","Feature Suggestions","Security Concerns"],GJ=()=>{const{user:t}=Ur(),{toast:e}=zn(),[n,r]=x.useState(""),[s,i]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(!1),[h,f]=x.useState(null),p=_=>{if(_.length<15)return;const b=eI,y=b[Math.floor(Math.random()*b.length)];setTimeout(()=>{f(y),e({title:"AI Suggestion",description:`The AI suggests this is "${y}" feedback.`}),i(y)},1e3)},m=_=>{r(_.target.value),_.target.value.length>30&&!h&&p(_.target.value)},w=async _=>{if(_.preventDefault(),!n.trim()){e({title:"Error",description:"Please enter your feedback before submitting",variant:"destructive"});return}if(!s){e({title:"Error",description:"Please select a feedback type",variant:"destructive"});return}a(!0);try{const b={content:n,userId:(t==null?void 0:t.id)||null,type:s,createdAt:new Date().toISOString()};try{const y=await $j(Gl(Yl,"feedback"),b);console.log("Document written with ID: ",y.id)}catch(y){console.error("Error adding document: ",y)}e({title:"Thank You!",description:"Your feedback has been submitted successfully."}),c(!0)}catch(b){console.error("Feedback submission error:",b),e({title:"Submission Failed",description:"There was an error submitting your feedback. Please try again.",variant:"destructive"})}finally{a(!1)}},v=()=>{r(""),i(""),c(!1),f(null)};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark",children:[u.jsx(Aa,{}),u.jsx("main",{className:"flex-1 pt-20 pb-12",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-purple-500/15 p-3 rounded-full",children:u.jsx(hw,{className:"h-8 w-8 text-purple-500"})})}),u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Provide Feedback"}),u.jsx("p",{className:"text-white/70 max-w-xl mx-auto",children:"Help us improve SafeSpeak by sharing your experience. Your feedback is valuable in enhancing our service."})]}),u.jsx(at.div,{className:"max-w-2xl mx-auto glass-card rounded-xl p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:l?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"bg-purple-500/20 p-4 rounded-full",children:u.jsx($4,{className:"h-10 w-10 text-purple-500"})})}),u.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Thank You for Your Feedback!"}),u.jsx("p",{className:"text-white/80 mb-6",children:"Your input helps us improve SafeSpeak for everyone. We appreciate you taking the time to share your thoughts."}),u.jsx(Ie,{onClick:v,className:"bg-purple-500 hover:bg-purple-600",children:"Submit Another Feedback"})]}):u.jsxs("form",{onSubmit:w,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Xn,{htmlFor:"feedbackType",children:"Feedback Type"}),u.jsxs("select",{id:"feedbackType",className:"w-full bg-safespeak-dark-accent text-white border-white/10 rounded-md p-2",value:s,onChange:_=>i(_.target.value),required:!0,children:[u.jsx("option",{value:"",disabled:!0,children:"Select feedback type"}),eI.map(_=>u.jsx("option",{value:_,children:_},_))]}),h&&u.jsxs("p",{className:"text-xs text-purple-400",children:["AI suggested: ",h]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Xn,{htmlFor:"feedbackText",children:"Your Feedback"}),u.jsx(ug,{id:"feedbackText",placeholder:"Share your thoughts, suggestions, or experiences...",className:"min-h-32 bg-safespeak-dark-accent border-white/10",value:n,onChange:m,required:!0}),u.jsx("p",{className:"text-xs text-white/60",children:"Our AI will automatically categorize your feedback to help us process it more efficiently."})]}),u.jsx("div",{className:"pt-4",children:u.jsx(Ie,{type:"submit",className:"w-full bg-purple-500 hover:bg-purple-600",disabled:o,children:o?u.jsxs("span",{className:"flex items-center justify-center",children:[u.jsx("span",{className:"animate-spin mr-2",children:""})," Submitting..."]}):u.jsxs("span",{className:"flex items-center justify-center",children:[u.jsx(F4,{className:"mr-2 h-4 w-4"})," Submit Feedback"]})})})]})})]})}),u.jsx(ps,{})]})},QJ=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState(!1),[o,a]=x.useState(null),{login:l}=Ur(),c=po();zn();const h=async f=>{f.preventDefault(),i(!0),a(null);try{const p=`${t}@gmail.com`;await l(p,n),c("/dashboard")}catch(p){const m=(p==null?void 0:p.message)||"An error occurred during login";a(m)}finally{i(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-safespeak-dark-accent/30 pointer-events-none"}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-4",children:u.jsxs(at.div,{className:"max-w-md w-full glass-card p-8 rounded-2xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs(Ut,{to:"/",className:"flex items-center gap-2",children:[u.jsx(Ws,{className:"h-8 w-8 text-safespeak-blue"}),u.jsxs("span",{className:"text-2xl font-bold",children:["Safe",u.jsx("span",{className:"text-safespeak-blue",children:"Speak"})]})]})}),u.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Anonymous Login"}),o&&u.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-2 rounded-md mb-4 text-sm flex items-center gap-2",children:[u.jsx(eP,{className:"h-4 w-4"}),o]}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Xn,{htmlFor:"pseudonym",children:"Pseudonym"}),u.jsx(Yt,{id:"pseudonym",placeholder:"Enter your pseudonym",value:t,onChange:f=>e(f.target.value),className:"bg-safespeak-dark-accent border-white/10",disabled:s})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Xn,{htmlFor:"password",children:"Password"}),u.jsx(Yt,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:f=>r(f.target.value),className:"bg-safespeak-dark-accent border-white/10",disabled:s})]}),u.jsx(Ie,{type:"submit",className:"w-full bg-safespeak-green hover:bg-safespeak-green/90",disabled:s,children:s?u.jsxs("span",{className:"flex items-center gap-2 animate-pulse",children:[u.jsx(Hv,{className:"h-4 w-4 animate-spin"}),"Logging in..."]}):u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(Hv,{className:"h-4 w-4"}),"Login"]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-white/60 text-sm",children:["Don't have an anonymous profile?"," ",u.jsx(Ut,{to:"/register",className:"text-safespeak-blue hover:underline",children:"Create one"})]})})]})}),u.jsx(ps,{})]})},YJ=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(null),{register:h}=Ur(),f=po();zn();const p=async m=>{if(m.preventDefault(),c(null),!t||!n||!s){c("Please fill in all fields");return}if(n!==s){c("Passwords do not match");return}if(n.length<6){c("Password must be at least 6 characters long");return}a(!0);try{const w=`${t}@gmail.com`;await h(w,n),f("/login")}catch(w){console.error("Registration error:",w);const v=(w==null?void 0:w.message)||"Failed to create your profile";c(v)}finally{a(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-safespeak-dark relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-safespeak-dark-accent/30 pointer-events-none"}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-4",children:u.jsxs(at.div,{className:"max-w-md w-full glass-card p-8 rounded-2xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs(Ut,{to:"/",className:"flex items-center gap-2",children:[u.jsx(Ws,{className:"h-8 w-8 text-safespeak-blue"}),u.jsxs("span",{className:"text-2xl font-bold",children:["Safe",u.jsx("span",{className:"text-safespeak-blue",children:"Speak"})]})]})}),u.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Create Anonymous Profile"}),l&&u.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-2 rounded-md mb-4 text-sm",children:l}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Xn,{htmlFor:"pseudonym",children:"Choose a Pseudonym"}),u.jsx(Yt,{id:"pseudonym",placeholder:"Enter a pseudonym (not your real name)",value:t,onChange:m=>e(m.target.value),className:"bg-safespeak-dark-accent border-white/10",disabled:o})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Xn,{htmlFor:"password",children:"Password"}),u.jsx(Yt,{id:"password",type:"password",placeholder:"Create a strong password",value:n,onChange:m=>r(m.target.value),className:"bg-safespeak-dark-accent border-white/10",disabled:o}),u.jsx("p",{className:"text-xs text-white/50",children:"Must be at least 6 characters long"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Xn,{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsx(Yt,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:s,onChange:m=>i(m.target.value),className:"bg-safespeak-dark-accent border-white/10",disabled:o})]}),u.jsx(Ie,{type:"submit",className:"w-full bg-safespeak-green hover:bg-safespeak-green/90",disabled:o,children:o?u.jsxs("span",{className:"flex items-center gap-2 animate-pulse",children:[u.jsx("span",{className:"animate-spin text-lg",children:""})," Creating Profile..."]}):u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(nP,{className:"h-4 w-4"})," Create Anonymous Profile"]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-white/60 text-sm",children:["Already have a profile?"," ",u.jsx(Ut,{to:"/login",className:"text-safespeak-blue hover:underline",children:"Login"})]})})]})}),u.jsx(ps,{})]})},XJ=()=>u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-safespeak-dark p-4",children:u.jsxs(at.div,{className:"max-w-md w-full text-center space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"bg-white/5 p-6 rounded-full",children:u.jsx(Kv,{className:"h-16 w-16 text-safespeak-blue"})})}),u.jsx("h1",{className:"text-4xl font-bold",children:"404"}),u.jsx("h2",{className:"text-2xl font-medium mb-2",children:"Page Not Found"}),u.jsx("p",{className:"text-white/70",children:"The page you are looking for doesn't exist or has been moved."}),u.jsx("div",{className:"pt-6",children:u.jsx(Ie,{asChild:!0,className:"bg-safespeak-blue hover:bg-safespeak-blue/90",children:u.jsxs(Ut,{to:"/",className:"flex items-center gap-2",children:[u.jsx(S4,{className:"h-4 w-4"}),u.jsx("span",{children:"Return Home"})]})})})]})}),qh=({children:t})=>{const{isAuthenticated:e,loading:n}=Ur();return n?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx(ym,{className:"h-10 w-10 animate-spin mx-auto text-safespeak-blue mb-4"}),u.jsx("p",{className:"text-white/70",children:"Loading user data..."})]})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(o0,{to:"/login"})},ZJ=({children:t})=>{const{isAuthenticated:e,isAdmin:n,loading:r}=Ur();return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx(ym,{className:"h-10 w-10 animate-spin mx-auto text-safespeak-blue mb-4"}),u.jsx("p",{className:"text-white/70",children:"Loading user data..."})]})}):e?n?u.jsx(u.Fragment,{children:t}):u.jsx(o0,{to:"/"}):u.jsx(o0,{to:"/admin-login"})},JJ=new X3,eee=()=>u.jsx(z.StrictMode,{children:u.jsx(J3,{client:JJ,children:u.jsx(bq,{children:u.jsxs(n0,{children:[u.jsx(C5,{}),u.jsx(tU,{}),u.jsx(G$,{children:u.jsxs($$,{children:[u.jsx(or,{path:"*",element:u.jsx(DY,{})}),u.jsx(or,{path:"/login",element:u.jsx(QJ,{})}),u.jsx(or,{path:"/register",element:u.jsx(YJ,{})}),u.jsx(or,{path:"/admin-login",element:u.jsx($J,{})}),u.jsx(or,{path:"/admin-register",element:u.jsx(WJ,{})}),u.jsx(or,{path:"/dashboard",element:u.jsx(qh,{children:u.jsx(YX,{})})}),u.jsx(or,{path:"/report",element:u.jsx(qh,{children:u.jsx(qJ,{})})}),u.jsx(or,{path:"/track",element:u.jsx(qh,{children:u.jsx(KJ,{})})}),u.jsx(or,{path:"/feedback",element:u.jsx(qh,{children:u.jsx(GJ,{})})}),u.jsx(or,{path:"/admin",element:u.jsx(ZJ,{children:u.jsx(ZZ,{})})}),u.jsx(or,{path:"*",element:u.jsx(XJ,{})})]})})]})})})});Tk(document.getElementById("root")).render(u.jsx(z.StrictMode,{children:u.jsx(eee,{})}));
